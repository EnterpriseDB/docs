---
title: "Using the Admin Tab"
---

<div id="ark_using_admin_tab" class="registered_link"></div>


Use options on the `Admin` tab to perform administrative tasks such as creating federations of consoles, managing servers and database engines, and defining templates. You can also use the `Admin` tab to manage users and deployment properties.

![*The Admin tab.*](images/ark_admin_features_admin_tab.png)

**Console Manager**

Use the fields in the `Console Manager` panel to:

-   Make a console available through the `Consoles` drop-down navigation listbox on the Ark console.
-   Generate a token that can be used to configure the current console as part of a *federation* of Ark consoles. A federated console can deploy resources (such as standby servers) on another console that resides in another region.
-   Register other consoles with the current console as part of a *federation* of consoles.

For more information, see [Using the Console Manager](#using-the-console-manager).

**Server Type Administration**

A fresh installation of EDB Ark will include default database engine configurations for:

-   EDB Postgres Advanced Server 9.4, 9.5, 9.6, 10.0, and 11 (64-bit)
-   PostgreSQL 9.4, 9.5, 9.6, 10.0, and 11 (64-bit)

For information about adding additional servers, see [Managing Server Images](#managing-server-images).

**DB Engine Administration**

The databases made available through the `DB Engine Administration` panel will be disabled and will not have an associated server type or valid repository information. To make a database available for end users, you must:

-   Create one or more server images that correspond to a server that resides on your system. For more information about defining a server type, see [Managing Server Images](#managing-server-images).
-   Use the `Edit Engine Details` button to modify existing engine definitions to specify a server image associated with the engine and repository information (if applicable), and enable the engine for use by end-users.

For more information, see [Managing Database Engines](#managing-database-engines).

**Template Administration**

Use the `Template Administration` panel to create and manage database cluster templates. A template contains a predefined set of server options that determine the configuration of a cluster.

An administrator can use a template to:

-   simplify creation of clusters that use a common configuration.
-   predefine supported cluster configurations.
-   limit access to server resources for a *Template Only* user. A Template Only user must use a template when deploying a new cluster.

For more information about creating and using a template, see [Template Administration](#template-administration).

**RHEL Subscription Management**

Options in the `RHEL Subscription Management` panel allow you to:

-   Add, modify, or delete RHEL subscription information.

For more information, see [Red Hat Subscription Management](#red-hat-subscription-management).

**IAM Roles Administration (AWS only)**

Options in the `IAM Roles Administration` panel allow you to:

-   Make Amazon ARNs available for use in Ark user accounts (AWS).

For information about user administration options, see [Managing Amazon Roles](#managing-amazon-roles).

**User Administration**

Options in the `User Administration` panel allow you to:

-   If applicable, manage user accounts.
-   Access a list of currently connected users.
-   Display a banner message to connected users.
-   Specify that a user must use a template when deploying a cluster.

For information about user administration options, see [User Administration](#user-administration).

**Download Console Logs**

Click the `Download` button in the `Download Console Logs` panel to download a zip file that contains the server logs for the underlying application server. You can use the log file to confirm changes to server status or verify server activity.

For more information, see [Accessing the Console Logs](#accessing-the-console-logs).

**Download Core Usage Logs**

Click the `Download` button in the `Download Core Usage Logs` panel to download a zip file that contains the usage logs for the underlying server.

For more information, see [Accessing the Core Usage Logs](#accessing-the-core-usage-logs).

**Backup Ark Console**

Click the `Backup Now` button to start a console backup. A popup will confirm that you have requested a manual backup of the console.

For more information, see [Taking a Manual Backup of the Console](#taking-a-manual-backup-of-the-console).

**Edit Installation Properties**

Click the `Edit installation properties` button to open a dialog that allows you to modify the Ark console configuration. For more information, see [Editing Installation Properties](#editing-installation-properties).



## Using the Console Manager

Use fields in the `Console Manager` panel to manage the names and links displayed by the `Consoles` drop-down listbox on the Ark console. You can also use the Console Manager to manage federated consoles and provide access to cross-region resources. The console manager provides access to optional functionality; if you are not federating consoles or do not wish to use the `Consoles` drop-down, you are not required to complete the fields in the panel.

For more information about creating and using federated consoles, see [Using the Console Manager to Create a Federated Console](#register_federated_console).

![*The Consoles drop-down.*](images/ark_admin_tab_console_switcher.png)

The `Consoles` drop-down listbox (in the upper-right corner of the Ark console) provides quick access to other consoles. When you select a name from the `Consoles` drop-down listbox, the Ark console opens a browser tab and navigates to the address associated with the name. Use the `Console Manager` section of the `Admin` tab to manage the console names and addresses that are displayed in the `Consoles` drop-down.

![*The Console Manager panel*](images/ark_admin_tab_console_switcher_pane.png)

To enable the `Consoles` drop-down, you must first provide a name for the console to which you are currently connected in the `Name for this Console` field.

![*Provide a name for the console.*](images/ark_admin_tab_console_switcher_enable.png)

After providing the console name, click the `Save Name` button to display the name of the console in the upper-left corner of the Ark console, and in the `Consoles` drop-down. To add a shortcut to another console, click the `Add URL` button; the `Add URL` dialog opens.

![*Saving the console name.*](images/ark_admin_tab_console_switcher_add_url.png)

Then, use the `Add Console` dialog to provide information about the console for which you are creating a `Consoles` entry:

-   Provide a user-friendly name in the `Name` field.
-   Provide the URL of the console in the `Url` field; please note that the URL must be prefixed with the http protocol identifier.
-   Optionally, provide the API token associated with the console in the `API Token` field. This field is only required when you are federating consoles.

When you're finished, click the `Save` button to add the console to the list displayed on the `Consoles` drop-down.

To modify an entry in the `Consoles` drop-down, highlight the name of the console in the `NAME` column and click the `Edit URL` button. After modifying the console details on the `Edit URL` dialog, click the `Apply` button to preserve the changes. Click `Cancel` to exit the dialog without saving your changes.

To remove a URL, highlight the name of the URL in the `NAME` column and click the `Delete URL` button. A dialog will open, asking you to confirm that you wish to delete the URL.

![*Deleting a console.*](images/ark_admin_tab_console_switcher_delete_url.png)

Click the `Delete` button to confirm that you want to remove the entry from the `Consoles` drop-down and delete the entry from the `Console Manager` table, or click `Cancel` to exit the dialog without deleting the entry.

<div id="register_federated_console" class="registered_link"></div>



### Using the Console Manager to Create a Federated Console

You can use fields in the `Console Manager` panel to generate and share access tokens between consoles to create a *federation* of consoles. After creating a federation, you can create or clone cluster members in any region in which one of the federated consoles resides. A federated console may have resources that reside in more than one region; standby nodes that reside in other regions will reflect the state of the master node.

<div class="note">

<div class="title">

Note

</div>

Each federation may only contain one console from a specific region; if you try to add more than one console from a given region to a federation, Ark will return an error.

</div>

When creating a federation, please note:

-   All of the federated consoles must be configured with the same set of database engines and server images:

    > -   Each database engine must have the same configuration across all federated consoles (including the engine id and name).
    > -   Each server image must have the same configuration across all federated consoles; the image id will vary by region.

For example, you might have two consoles; one that resides in Region `us-east-1` and one that resides in Region `us-east-2`. You can create a federation of those consoles by *registering* the consoles with each other. After registering the consoles (sharing the URL and token of each console within the federation with the other console), you will be allowed to select the `Region` in which replica nodes are created or cloned.

![*Selecting a region.*](images/ark_admin_tab_create_cross_region.png)

<div class="note">

<div class="title">

Note

</div>

Standby nodes that reside in a different region than the master console will be used for load balancing. Failover to nodes that reside on a different region than the master node is not supported. If a master node fails and you do not have a standby node in the same region as the master node, Ark will create a replacement node in the same region as the original master.

</div>

All of the resources that reside on federated consoles will be visible on the `Clusters` tab of all of the consoles within the federation. To federate consoles you must:

1.  Use the `Name for this Console` field to create a name for each console that will be federated. Click within the field and provide a console name; when finished, click the `Save Name` button. The console name will be displayed on the title bar of the Ark console.

![*Providing a console name.*](images/ark_admin_tab_name_console.png)

1.  Click the `Generate API Token` button to create a token for the console. The API token is displayed in the `API Token for this Console` field.

![*Generating an API token.*](images/ark_admin_tab_generate_token.png)

1.  Use the `Add Console` dialog on each console within the federation to register the other consoles with which they will be federated.

![*Registering a console.*](images/ark_admin_tab_register_console.png)

After registering each with all of the other consoles within the federation, you will be allowed to create resources in any region in which the federated consoles reside.

**Revoking a Token**

Select the `Revoke API Token` button to revoke the token assigned to the console.

![*Confirm you wish to revoke the token.*](images/ark_admin_tab_token_revoke.png)

If the console is a member of a federation, the other members of the federation will no longer be able to create resources in the area in which the console resides. To restore membership in a federation, you must generate a new token for the console and edit the console definitions of the other federation members, updating the token associated with the console.

After creating a federation, you can:

-   Log in to any federated console and initiate a cluster backup.
-   Log in to any federated console and delete a cluster.
-   Initiate a clone operation regardless of the region in which the node resides.
-   Log in to any federated console and initiate a yum update on a cluster.
-   Scale a federated cluster in multiple regions.
-   Perform machine scaling on a cluster that resides on a federated console.

<div id="manage_server_images" class="registered_link"></div>



## Managing Server Images

A server definition describes the virtual machine that will host an instance of Advanced Server or PostgreSQL. Use the `Server Type Administration` panel to manage server images.

![*The Server Type Administration section of the Admin tab*](images/ark_admin_tab_manage_server_pane.png)

**Creating a Server Image**

To create a new server image, connect to the Ark console as a user with administrative privileges, navigate to the Admin tab, and select `Add Server`. The `Add Server` dialog opens.

![*The Add Server dialog*](images/ark_admin_tab_create_server.png)

Use the fields on the `Add Server` dialog to define a new server:

-   Use the `Server ID` field to provide an identifier for the server image. The `Server ID` must be unique, and may not be modified after saving the server image.
-   Use the `Server Description` field to provide a description of the server image.
-   Use the `Image ID` field to provide the Image ID of the server image.

**On Amazon**

> If you are using Ark with Amazon, provide the `AMI ID` in the `Image ID` field. Please note: you should use a server from a trusted source, with a virtualization type of hvm. We recommend using the official Amazon images from the Amazon AWS Marketplace.

**On Azure**

> If you are using an Ark with Azure, you can use the Azure CLI interface to retrieve a list of the machine images that are available in the Azure Marketplace. Review the Azure documentation for information about [downloading and installing the Azure CLI](https://docs.microsoft.com/en-us/cli/azure/install-azure-cli). After installing the Azure CLI, you can use one of the following commands to retrieve a list of the available images for a specific platform and version:

| Version   | Command                                                       |
|-----------|---------------------------------------------------------------|
| RHEL 7:   | az vm image list --offer RHEL --sku 7. --output table --all   |
| CentOS 7: | az vm image list --offer CentOS --sku 7. --output table --all |

Select an image from a trusted publisher; when configuring the Ark console, provide the first three elements of the Urn column in the `Server Image ID` field. For example, if the Urn returned by the CLI is `RedHat:RHEL:7.2:7.2.20160921 7.2.20160921`, the Image ID is `RedHat:RHEL:7.2`.

Some recommended images and providers are:

-   RedHat:RHEL:7-RAW
-   OpenLogic:CentOS:7.5

Use the `Initial User` field to provide the name of the default operating system user. This user must have `sudo root` privileges to perform the initial provisioning of software on the node.

If you are using an Amazon AWS Marketplace image, the default user name is associated with the backing image; for more information about image user identities, review [the AWS documentation](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html).

-   Use the `System Type` field drop-down listbox to select the operating system type of the server; select CentOS or RHEL.
-   Check the box next to `Statically Provisioned` to indicate that the server is statically provisioned. A statically provisioned server is a pre-installed image that contains the software required to create a database cluster.

For detailed information about creating a statically provisioned image, please see Section 11.

When you have completed the dialog, click Save to create the server image, or Cancel to exit without saving.

**Modifying a Server**

Click the `Edit Server Details` button to open the `Edit Server Details` dialog and modify the properties of a server.

![*The Edit Server dialog*](images/ark_admin_tab_modify_server.png)

After modifying the server definition, click `Save` to make the changes persistent and exit the dialog, or `Cancel` to exit without saving.

**Deleting a Server**

To delete a server definition, highlight a server name, and select the `Delete Server` button. If no engines are dependent on the server, a dialog will open, asking you to confirm that you wish to delete the selected server type.

![*The Delete Server Type dialog*](images/ark_admin_tab_delete_server.png)

Select the `Delete` key to remove the server, or `Cancel` to exit without removing the server.

![*You cannot remove a server with dependencies*](images/ark_admin_tab_delete_server_error.png)

Please note: If the server is currently used by an engine, the Ark console will advise you that the server cannot be removed; before removing the server, you must delete any dependent engines.

<div id="manage_db_engines" class="registered_link"></div>



## Managing Database Engines

An engine definition pairs a Postgres server type with the server image on which it will reside. Only an EDB Ark administrative user can define an engine. Once defined, all of the engines that reside within a specific role or group will be made available to all users with access to that group. You can use the `DB Engine Administration` section of the Admin tab to create and manage database engines.

![*The DB Engine Administration section of the Admin tab*](images/ark_admin_tab_manage_db_engine_pane.png)

The Ark console ships with a number of default engine definitions. Before using an engine, you must create a server (see [Managing Server Images](#managing-server-images)) and edit the engine details, associating a server with the engine you wish to use and enabling the engine.

The following engines are shipped with Ark. Please note that the engine definitions include multiple repositories to provide access to all of the packages required to complete the installation. Advanced Server repositories require you to provide a USERNAME and associated PASSWORD; to request a username and password, visit the [EnterpriseDB website](https://www.enterprisedb.com/advanced-downloads).

**PostgreSQL 9.4 64bit on CentOS / RHEL 7**

    http://yum.postgresql.org/9.4/redhat/rhel-7-x86_64/pgdg-redhat94-9.4-3.noarch.rpm
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: postgresql94-server, pgpool-II-94, pem-agent

**EDB Postgres Advanced Server 9.4 64bit on CentOS / RHEL 7**

    http://USERNAME:PASSWORD@yum.enterprisedb.com/9.4/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: ppas94-server, ppas-pgpool34, ppas94-pgpool34-extensions, pem-agent

**PostgreSQL 9.5 64bit on CentOS / RHEL 7**

    http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-redhat95-9.5-3.noarch.rpm
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: postgresql95-server pgpool-II-95 pem-agent

**EDB Postgres Advanced Server 9.5 64bit on CentOS / RHEL 7**

    http://USERNAME:PASSWORD@yum.enterprisedb.com/9.5/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: ppas95-server, ppas-pgpool34, ppas95-pgpool34-extensions, pem-agent

**PostgreSQL 9.6 64bit on CentOS / RHEL 7**

    http://yum.postgresql.org/9.6/redhat/rhel-7-x86_64/pgdg-redhat96-9.6-3.noarch.rpm
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: postgresql96-server, pgpool-II-96, pem-agent

**EDB Postgres Advanced Server 9.6 64bit on CentOS / RHEL 7**

    http://USERNAME:PASSWORD@yum.enterprisedb.com/9.6/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: edb-as96-server, edb-pgpool35, edb-as96-pgpool35-extensions, pem-agent

**PostgreSQL 10 64bit on CentOS / RHEL 7**

    https://yum.postgresql.org/10/redhat/rhel-7-x86_64/pgdg-redhat10-10-2.noarch.rpm
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: postgresql10-server, pgpool-II-10, pgpool-II-10-extensions, pem-agent

**EDB Postgres Advanced Server 10 64bit on CentOS / RHEL 7**

    https://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-\$releasever-\$basearch
    https://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-\$releasever-\$basearch
    https://yum.postgresql.org/11/redhat/rhel-6-x86_64/pgdg-redhat11-11-2.noarch.rpm

    Required Packages: postgresql11-server, pgpool-II-11, pgpool-II-11-extensions, edb-pem-agent

**PostgreSQL 11 64bit on CentOS / RHEL 7**

    https://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-\$releasever-\$basearch
    https://yum.postgresql.org/11/redhat/rhel-7-x86_64/pgdg-redhat11-11-2.noarch.rpm
    https://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-\$releasever-\$basearch

    Required Packages: postgresql11-server, pgpool-II-11, pgpool-II-11-extensions, edb-pem-agent

**EDB Postgres Advanced Server 11 64bit on CentOS / RHEL 7**

    http://USERNAME:PASSWORD@yum.enterprisedb.com/10/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/tools/redhat/rhel-$releasever-$basearch
    http://USERNAME:PASSWORD@yum.enterprisedb.com/dependencies/redhat/rhel-$releasever-$basearch

    Required Packages: edb-as10-server, edb-pgpool36, edb-as10-pgpool36-extensions, pem-agent

<div id="manage_engine_definition" class="registered_link"></div>



## Adding, Modifying, or Deleting Engine Definitions

Use the `Add Engine` dialog to define an engine. To access the `Add Engine` dialog, connect to the Ark console as a user with administrative privileges, navigate to the `Admin` tab, and select `Add Engine`.

![*The Add Engine dialog*](images/ark_admin_tab_add_db_engine.png)

Use the fields on the `Add Engine` dialog to define a new server image/database pairing; please note that some fields are disabled if the server is statically provisioned:

-   Use the `ID` field to provide an identifier for the engine. Please note that the identifier must be unique, and may not be modified after saving the engine.

-   Use the drop-down listbox in the `DB Type` field to select the type of database used in the pairing.

-   Use the drop-down listbox in the `Version` field to specify the server version.

-   Use the `Name` field to provide a name for the pairing. When the engine is enabled, the specified name will be included for use on the `Create Cluster` dialog.

-   Use the drop-down listbox in the `Server Type` field to specify the server image on which the database will reside. The drop-down listbox displays those images previously defined on the Add Server dialog.

-   Use the drop-down listbox in the `RHEL Subscription` field to select the Red Hat Subscription Manager service that will be used by the engine. To populate the RHEL Subscription drop-down, describe your subscription services in the RHEL Subscription Management section of the Admin tab. RHEL Subscription Manager services are only applicable for RHEL 7 clusters.

    Please note that you must delete any instances that use an engine that is associated with a RHEL subscription before you can delete the RHEL subscription.

-   Use the `Yum repo URL` field to provide the URL of the yum repository that will be used to initially provision database packages and to later update the database packages during cluster upgrade operations. When specifying multiple repositories in the Yum repo URL field, specify one repository per line. When you perform an update, any available updates in all of the specified repositories will be applied. The repository URL should take the form:

    `http://<user_name>:<password>@<repository_url>`

    Where:

    > `user_name` specifies the name of a user with sufficient privileges to access the repository.
    >
    > `password` specifies the password associated with the repository user. Please note that if your password contains special characters (such as a $), you may need to percent-encode the characters.
    >
    > `repository_url` specifies the URL of the repository.

    Please contact your EnterpriseDB account manager if you need connection credentials for the EnterpriseDB repositories, or visit [the EnterpriseDB website](https://www.enterprisedb.com/advanced-downloads).

-   Use the `Required DB Packages` field to provide a space-delimited list of packages that have been tested by EDB as the required minimum set to build a functional cluster instance.

When defining a database engine, you must specify the required package list for the installation in the Required DB packages field on the `Edit Engine Details` dialog.

For an Advanced Server 9.4 database, the package list must include:

    ppas94-server
    ppas-pgpool34   
    ppas95-pgpool34-extensions
    pem-agent

For an Advanced Server 9.5 database, the package list must include:

    ppas95-server
    ppas-pgpool34
    ppas95-pgpool34-extensions
    pem-agent

For an Advanced Server 9.6 database, the package list must include:

    edb-as96-server
    edb-pgpool35
    edb-as96-pgpool35-extensions
    pem-agent

For an Advanced Server 10 database, the package list must include:

    edb-as10-server
    edb-pgpool36
    edb-as10-pgpool36-extensions
    pem-agent

For an Advanced Server 11 database, the package list must include:

    edb-as11-server
    edb-pgpool37
    edb-as11-pgpool37-extensions
    edb-pem-agent

For a PostgreSQL 9.4 database, the package list must include:

    postgresql94-server
    pgpool-II-94
    pem-agent

For a PostgreSQL 9.5 database, the package list must include:

    postgresql95-server
    pgpool-II-95
    pem-agent

For a PostgreSQL 9.6 database, the package list must include:

    postgresql96-server
    pgpool-II-96
    pem-agent

For a PostgreSQL 10 database, the package list must include:

    postgresql10-server
    pgpool-II-10
    pgpool-II-10-extensions
    pem-agent

For a PostgreSQL 11 database, the package list must include:

    postgresql11-server
    pgpool-II-11
    pgpool-II-11-extensions
    edb-pem-agent

    Please note that the package list is subject to change.

-   Use the `Optional Node Packages` field to provide the names of any packages that should be installed (from the specified repository) on every cluster node during provisioning.

Please note: packages added via the `Optional Node Packages` field on the master node of the cluster will also be provisioned on any standby nodes that are subsequently created. If the package requires manual configuration steps, you will be required to repeat those steps on each node of the cluster; package configurations will not be propagated to standby nodes. If you add a node through cluster operations (such as failover, scaling, or restoring a node from backup), any packages on the new node will require manual configuration.

When you have completed the dialog, click `Save` to create the engine definition, or `Cancel` to exit without saving.

For information about using the EnterpriseDB repository, and the Advanced Server packages available, please see the [EDB Postgres Advanced Server Installation Guide](http://www.enterprisedb.com/products-services-training/products/documentation/enterpriseedition).

**Modifying an Engine**

To modify an engine, use the `Edit Engine Details` button to open the `Edit Engine Details` dialog.

![*The Edit Engine Details dialog*](images/ark_admin_tab_modify_db_engine.png)

Use fields on the Edit Engine dialog to specify property changes to an engine. When you’re finished, click the `Save` button to make the changes persistent and exit, or `Cancel` to exit without saving.

**Disabling an Engine**

You can use the disabled box to specify that an engine is (or is not) available for use in new clusters without removing the engine definition:

-   If the box next to disabled is checked, the engine will not be available for use.
-   If the box next to disabled is unchecked, the engine will be available for use.

Click the `Save` button to make any changes to the `Edit Engine Details` dialog persistent, or select `Cancel` to exit without modifying the engine definition.

Please note that disabling an engine has no impact on any running clusters; it simple prevents users from creating new clusters with the engine. You can use this feature to phase out the use of older engines.

**Deleting an Engine**

To delete an engine, highlight an engine name in the `DB Engine Administration` list, and select the `Delete Engine` button. A dialog will open, asking you to confirm that you wish to delete the selected engine.

![*The Delete DB Engine dialog*](images/ark_admin_tab_delete_db_engine.png)

Click the `Delete` button to remove the engine definition, or select `Cancel` to exit without removing the engine definition.

Please note that you cannot remove an engine that is referenced by one or more clusters and/or backups; if you attempt to remove an engine that is in use, EDB Ark will display a warning message.

<div id="add_supporting_component_db_engine" class="registered_link"></div>



## Adding Supporting Components to a Database Engine Definition

When you create a cluster, you specify the engine that EDB Ark will use when provisioning that cluster. If you modify the engine description, adding the list of RPM packages that will be installed when that engine is provisioned, each node of any cluster provisioned with that engine will include the functionality of the supporting component.

**Adding PostGIS to a Database Engine**

To simplify PostGIS installation, add a list of the required RPM packages to the `Optional Node Packages` field of the `Edit Engine Details` dialog. To provision replicas that contain the PostGIS functions, perform the installation and create the extensions on the master node of the cluster before adding replica nodes to your cluster.

To modify an engine description, use Administrative credentials to connect to the Ark console, and navigate to the `Admin` tab. Select an engine ID from the list of engines in the `DB Engine Administration` list, and click `Edit Engine Details`.

![*Modifying the Engine Details dialog*](images/ark_admin_tab_add_postgis_db_engine.png)

When the `Edit Engine Details` dialog opens, use the fields on the dialog to specify the repository information and the names of optional RPM packages that the installer should provision on each node of the cluster.

-   The PostGIS RPM packages are distributed from the `enterprisedb tools` repository; by default, the `enterprisedb tools` repository is included in the `Yum Repo URL` field.
-   Add the names of the PostGIS RPM packages to the `Optional Node Packages` field on the `Edit Engine Details` dialog.

The PostGIS installation packages for Advanced Server 9.4 are:

> `ppas94-postgis`
>
> `ppas94-postgis-core`
>
> `ppas94-postgis-docs`
>
> `ppas94-postgis-utils`

The PostGIS installation packages for Advanced Server 9.5 are:

> `ppas95-postgis`
>
> `ppas95-postgis-core`
>
> `ppas95-postgis-docs`
>
> `ppas95-postgis-utils`

The PostGIS installation packages for Advanced Server 9.6 are:

> `edb-as-96-postgis`
>
> `edb-as-96-postgis-core`
>
> `edb-as-96-postgis-docs`
>
> `edb-as-96-postgis-utils`

The PostGIS installation packages for Advanced Server 10 are:

> `edb-as-10-postgis`
>
> `edb-as-10-postgis-core`
>
> `edb-as-10-postgis-docs`
>
> `edb-as-10-postgis-utils`

The PostGIS installation packages for Advanced Server 11 are:

> `edb-as-11-postgis`
>
> `edb-as-11-postgis-core`
>
> `edb-as-11-postgis-docs`
>
> `edb-as-11-postgis-jdbc`
>
> `edb-as-11-postgis-utils`

Any EDB Ark clusters that are subsequently provisioned with that engine will automatically include an installation of the PostGIS on all nodes of the cluster.

**Creating the PostGIS Extensions**

After adding the packages to the master node of a cluster, you can use the psql client or the EDB Postgres Enterprise Manager (PEM) client to create the extensions. Before connecting with a client, an Administrator must open the listener port (by default, `5444` on an Advanced Server instance) of the node for connections.

Use a client to connect to the database in which you wish to create the extensions, and enter the following commands:

    CREATE EXTENSION postgis;
    CREATE EXTENSION fuzzystrmatch;
    CREATE EXTENSION postgis_topology;
    CREATE EXTENSION postgis_tiger_geocoder;

The client will confirm that the extensions have been created successfully. The PostGIS functions are created in the public schema of the database.

Visit the PostGIS project site for detailed information about using [PostGIS](http://postgis.net/documentation/).

<div id="template_administration" class="registered_link"></div>



## Template Administration

A template contains a predefined set of server options that determine the configuration of a database cluster. A template can simplify creation of clusters that use a common configuration, or limit user access to costly resources such as large server classes. Use functionality offered in the `Template Administration` panel to create and manage templates.

![*The Template Administration section of the Admin dashboard*](images/ark_admin_tab_template_pane.png)

Use the `TEMPLATES ONLY` column of the `User Administration` table to specify that a user must use a template. A `Template Only` user will have access to only those templates that specify a role or tenant in which they have membership in the `Select Roles` section of the `Add Template` dialog.

If a user is specified as a `Template Only` user:

-   They must use a template when deploying a cluster.
-   They will be restricted to the scaling policies defined in the template.
-   They cannot modify a manually-defined cluster created by another user.
-   They can only create clusters in a server class that exists in an available template.
-   They must use a template when cloning or restoring from backup.
-   They may only delete backups of template created clusters.
-   They may not delete last backup of a template created cluster if the cluster had been deleted (removing the last artifact of any cluster).

To create a template, click the `Add Template` button; the `Add Template` dialog opens.

![*The Template Administration section of the Admin dashboard*](images/ark_admin_tab_add_template.png)

Use fields on the `Add Template` dialog to define a new template:

-   Provide a user-friendly name for the template in the `Template Name` field.
-   Use the `Description` field to provide a description of the template.
-   Use the drop-down listbox in the `Engine Version` field to select the version of the Postgres engine that you wish to use on clusters configured by the template.
-   Use the drop-down listbox in the `Server Class` field to specify the size of each cluster node. The server class determines the size and type (compute power and RAM) of any cluster configured by the template.
-   If your cluster resides on an Amazon AMI, use the drop-down listbox in the `VPC` field to specify the identity of the network in which clusters configured by the template should reside.
-   Use the drop-down listbox in the `Number of nodes` field to specify the number of nodes that should be created in each cluster.
-   Use the `Storage GB` field to specify the initial size of the data space (in Gigabytes).
-   Check the box next to `Encrypted` to indicate that the cluster should be encrypted. EDB Ark uses the aes-xts-plain (512-bit) cipher suite to provide an encryption environment that is both secure and transparent to connecting clients. When encryption is enabled, everything residing on the cluster is encrypted except for the root filesystem.
-   If the cluster will reside on an AWS host, check the box next to `EBS Optimized` to specify that the cluster should use an Amazon EBS-optimized instance and provisioned IOPS to guarantee a level of I/O performance.
-   The `IOPS` field is enabled for those clusters that will reside on an EBS-optimized instance. If applicable, specify the level of I/O performance that will be maintained for the cluster by automatic scaling. The maximum value is 30 times the size of your cluster; for example, if you have a 4 Gigabyte cluster, you can specify a maximum value of 120.
-   Check the box next to `Perform OS and Software` update to specify that a software update should be performed whenever the cluster is provisioned. Please note: this option is disabled if the cluster uses a statically provisioned server.
-   Use the `Number of backups` field to specify the number of backups that will be retained for the cluster. When the specified number of server backups is reached, EDB Ark will delete the oldest backup to make room for a new backup.
-   Use the `Backup Window` field to specify a time that it is convenient to perform a cluster backup.
-   Check the box next to `Continuous Archiving (Point-in-Time Recovery)` to enable point-in-time recovery for the cluster. When enabled, a base backup is automatically performed that can to be used to restore to a specific point in time. All subsequent automatic scheduled backups will also support point-in-time recovery.
-   Check the boxes next to the options in the `Select Scaling Options` box to indicate which options will be available to template users. Check the box next to:
    -   `Manually Scale Replicas` to specify that users of this template will be allowed to manually scale replica nodes configured by this template.
    -   `Manually Scale Storage` to specify that users of this template will be allowed to manually scale storage on clusters configured by this template.
    -   `Auto Scale Replicas` to specify that users of this template will be able to configure automatic node scaling for clusters configured by this template.
    -   `Auto Scale Storage` to specify that users of this template will be able to configure automatic storage scaling for clusters configured by this template.
-   Check the box to the left of a role name in the `Select Roles` box to indicate that members of the selected role can use the template.

When you've completed the `Add Template` dialog, click `Save` to create the defined template; click `Cancel` to close the dialog and exit without saving your work.

If you select `Launch From Template` on the `Create a New Server Cluster` dialog, you will be prompted to select the template you wish to use from the `Template Name` drop-down listbox. After selecting a template, you can use the `Full Template Details` link to open a popup that displays detailed information about the configuration of clusters deployed with the template.

![*The template details popup*](images/ark_admin_tab_template_details.png)

<div id="rhel_subscription" class="registered_link"></div>



## Red Hat Subscription Management

You can use the Ark Administrative console to attach Red Hat Subscription Manager information to engines hosted on Red Hat consoles. The Red Hat Subscription Manager tracks installed products and subscriptions to implement content management with tools like yum. Visit the Red Hat website for information about [Red Hat Subscription Manager](https://access.redhat.com/documentation/en/red-hat-subscription-management/).

When you create a new cluster that uses an engine that is associated with a Red Hat subscription, Ark registers the cluster nodes with Red Hat; when you terminate the node, the system's subcription is unregistered.

Use the `RHEL Subscription Management` section of the Admin tab to define and manage Red Hat Subscription Manager access for your Ark consoles that reside on Red Hat Linux instances.

![*The RHEL Subscription Management section.*](images/ark_admin_tab_rhel_sub_mgmt_pane.png)

After creating a subscription definition, use options in the `DB Engine Administration` panel to associate the definition with database engines.

![*The Add RHEL Subscription dialog*](images/ark_admin_tab_add_rhel_sub.png)

Use fields on the `Add RHEL Subscription` dialog to describe a Red Hat subscription service:

-   Use the `Subscription ID` field to provide a user-friendly name for the subscription. The name will identify the subscription in the RHEL Subscription drop-down on the Add Engine Details dialog.
-   Use the `Username` field to provide the name of the user account registered with the Red Hat content server.
-   Use the `Password` field to provide the password associated with the user account.
-   Use the `Server URL` field to provide the host name of the subscription server used by the service; if left blank, the default value of subscription.rhn.redhat.com will be used.
-   Use the `Base URL` field to provide the host name of the content delivery server used by the service; if left blank, the default value of <https://cdn.redhat.com> will be used.
-   Use the `Org` field to provide the organization that will be registered with the Red Hat subscription system.
-   Use the `Environment` field to provide the name of the environment (within the organization that will be registered).
-   Use the `Name` field to provide the name of the system that will be registered.
-   Use the `Activation Key` field to provide the activation key of the Red Hat subscription.
-   If enabled, use the `Auto-attach` checkbox to instruct any node associated with the subscription to automatically attach to the service.
-   If applicable, use the `Pool` field to provide the pool identifier for the Red Hat subscription service.
-   If applicable, check the `Auto` checkbox to indicate that nodes provisioned with engines associated with the pool will automatically attach to the subscription service.
-   If applicable, use the `Quantity` field to provide the number of subscriptions in the subscription pool.
-   Use the `Service Level` field to provide the service level of the subscription.
-   Use the `Release` field to provide the operating system minor release that will be used when identifying updates to any nodes provisioned with the subscription.
-   Check the `Force` checkbox to indicate that the node should be registered, even if it is already registered.
-   Use the `Type` field to specify the type of consumer that is being registered; the default is system.
-   The `Required Repos` list is populated by the Ark console, and displays a list of the repositories required by the subscription definition.
-   Use the `Additional Repos` field to provide the names of any additional repositories that should be enabled on the cluster node(s).
-   Use the `Disabled Repos` field to provide the names of any repositories that should be disabled on the cluster node(s).

When you've completed the dialog, click the `Save` button to add the repository to the table in the RHEL Subscription Management section, or `Cancel` to exit without saving. If you choose to save the definition, the Ark console will display a popup that lists the subscription manager commands that were generated as a result of your selections.

![*RHEL Subscription details*](images/ark_admin_tab_rhel_sub_details.png)

After creating a subscription definition, use options in the `DB Engine Administration` section of the `Admin` tab to associate the definition with database engines; see [Managing Database Engines](#managing-database-engines) for detailed information.

**Modifying a RHEL Subscription Definition**

To modify the description of a Red Hat Subscription Manager service, highlight the name of a subscription in the `RHEL Subscription Management` table, and click the `Edit RHEL Subscription` button. The `Edit RHEL Subscription Details` dialog opens, allowing you to modify the subscription definition.

After modifying the subscription definition, click `Save` to preserve your changes and exit the dialog; to exit without saving, click the `Cancel` button. Please note that changes made to a definition are applied only to those instances that are created after the changes are saved; changes are not propagated to existing instances.

**Deleting a Red Hat Subscription Definition**

Before deleting a Red Hat subscription service definition, you must:

-   Modify any database engines that are associated with the subscription, disassociating the engine definition from the Red Hat subscription.
-   Delete any instances that were created using an engine that is associated with the Red Hat subscription service.

Then, to delete a Red Hat Subscription Manager service from the list in the Ark console, highlight the name of a service and click the `Delete RHEL Subscription` button.

![*Confirming that you wish to delete a subscription description*](images/ark_admin_tab_delete_rhel_sub.png)

Click the `Delete` button to confirm that you wish to delete the subscription definition, or `Cancel` to exit without deleting the definition.

<div id="manage_aws_roles" class="registered_link"></div>



## Managing Amazon Roles

Amazon Role ARNs that are listed in the `IAM Roles Administration` table will be available on the `Role` drop-down listbox of the `Add User` dialog. Please note that before adding a Role ARN to the table you must define the role in the AWS management console, and the trust policy of the role must include the External Id of the Ark console.

![*The Roles Administration dialog*](images/ark_admin_tab_aws_role_pane.png)

You can use the `Add Role` dialog to add an entry to the table. To locate the information required by the Add Role dialog, connect to the Amazon Management dashboard, and navigate to the `Roles` page. Select the role you wish to add from the list to open the `Summary` dialog; then, select the `Trust relationships` tab to display the information required.

![*The Roles Administration dialog*](images/ark_admin_tab_aws_role_arn.png)

To add a Role ARN to the table, click the `Add Role` button; the `Add Role` dialog opens.

![*The Roles Administration dialog*](images/ark_admin_tab_aws_add_role.png)

Use fields on the dialog to provide details from the Amazon management console:

-   Provide the `Role ARN` from the `Summary dialog` header in the `Role Arn` field.
-   Provide the `Value` from the `Trust relationships` tab in the `External Id` field.

Click the `Apply` button to verify the information, and add the entry to the table.

<div id="user_administration" class="registered_link"></div>



## User Administration

Options in the `User Administration` panel provide extended management functionality for an administrative user. The functionality offered is host and configuration specific.

![*User administration features of the Amazon console*](images/ark_admin_tab_user_pane.png)

Depending on your host type and configuration, you can use `User Administration` options to:

-   add, modify, or delete a user account.
-   delete clusters or snapshots that belong to a user account.
-   display a list of logged in users.
-   add, modify, or remove a wall message.
-   specify that a user must use a template when deploying a cluster.

**Adding a User**

If available for your configuration, you can click the `Add User` button to access the `Add User` dialog and register a new user account for the Ark console.

![*The Add User dialog on an Amazon host*](images/ark_admin_tab_add_user.png)

Provide information about the user account:

-   Use the `Login` field to provide the identifier that the user will provide when logging in to the console; each identifier must be unique.
-   Provide the user's first name in the `First Name` field.
-   Provide the user's last name in the `Last Name` field.
-   To allow the user administrative access to the Ark console, check the box next to `Admin`.
-   Check the box next to `Enabled` if the user should be allowed to log in to the console.
-   Check the box next to `Templates Only` to specify that a user must use a template when deploying a cluster.
-   If applicable, provide a password associated with the user account in the `Password` field.
-   If applicable, confirm the password in the `Verify Password` field.
-   If applicable, select a previously defined Amazon role ARN from the drop-down list in the `Role` field, or copy a different role ARN into the field. The role ARN must be defined on the AWS console by an Amazon administrator. Each role will be able to access all clusters that are created by users that share the common role ARN. To create an isolated user environment, a user must have a unique Amazon role ARN.

If you copy an Amazon role ARN into the `Role` field, a popup will open, prompting you for the AWS ExternalId associated with the user. To locate the ExternalId, connect to the Amazon management console, and navigate to the `IAM Roles` page. Select the role name from the list, and then click the `Trust Relationships` tab. The ExternalId associated with the Role ARN is displayed in the `Conditions` section of the `Summary` page.

**Modifying User Properties and Reviewing User Activity**

If the `Edit User` button is displayed, you can use the `Edit User` dialog to modify user properties. Highlight a user name, and click the `Edit User` button to open the `Edit User` dialog. Enabled fields on the `Details` tab may be modified; use the `Info` tab to review information about the user account and account activities.

After making changes to modifiable fields, click the `Save` button to make the changes persistent. Click `Cancel` to exit without saving any changes.

**Deleting User Objects**

If enabled, you can use buttons below the `User Administration` table to manage user objects. Highlight a user name, and click:

-   The `Delete Clusters` button to delete all clusters that belong to the selected user.
-   The `Delete Snapshots` button to delete any cluster backups that belong to the selected user.

After deleting the objects owned by a user, you can use the `Delete User` button to remove the user account. To delete a user, highlight the name of a user in the user table, and click the `Delete User` button. The Ark console will ask you to confirm that you wish to delete the selected user before removing the account. Click `Delete` to remove the user account, or `Cancel` to exit the popup without deleting the account.

<div id="user_admin_aws_host" class="registered_link"></div>



## User Administration on an Amazon Host

You can use the `User Administration` table to register new users for the Ark console, edit user properties, or delete a user account. Please note that you must use a client application to connect to the Ark console and add the user to the postgres database before the user is allowed to connect.

![*The user table of an AWS console*](images/ark_admin_tab_user_admin_aws_host.png)

Columns within the `User Administration` table provide information about the current AWS console users:

-   The user's login name is displayed in the `ID` column.
-   The user's first name is displayed in the `FIRST NAME` column.
-   The user's last name is displayed in the `LAST` NAME column.
-   Check the box next to a user name in the `ADMIN` column to indicate that the user should have administrative access to the Ark console.
-   Check the box next to a user name in the `ENABLED` column to indicate that the account is active.
-   Check the box in the `TEMPLATES ONLY` column to indicate that the user must use templates when deploying clusters.
-   The number of clusters currently owned by the user is displayed in the `CLUSTERS` column.
-   The number of cluster snapshots owned by the user is displayed in the `SNAPSHOTS` column.
-   The date and time of the last login is displayed in the `LAST LOGIN` column. The time zone displayed is based on the time zone used by the operating system.
-   The `LOGINS` column displays a cumulative total of the number of times that the user has logged in.

After adding the user to the Ark console, use the psql client application to add the user to the backing `postgres` database. To use the psql client, SSH to the host of the Ark console. Then, navigate into the `bin` directory, and connect to the psql client with the command:

> `./psql –d postgres –U postgres`

When prompted, supply the password of the postgres database user. After connecting to the database, you can use the `CREATE ROLE` command to add a user to the database:

> `ADD USER user_name WITH PASSWORD 'password';`

Where:

> `user_name` specifies the name of the Ark user.
>
> `password` specifies the password associated with the user name.

Please note: The user name and associated password specified in the Ark backing database must match the credentials specified when registering the user in the Ark console.

For detailed information about using the psql client please see the [Postgres core documentation](https://www.enterprisedb.com/docs/en/10/pg/app-psql.html).

After the administrative user adds the end-user, the end-user will complete the registration process by navigating to the URL of the console, and logging in.

Use the buttons below the AWS user table to manage user accounts for the AWS console and user-owned objects.

<div id="user_admin_azure" class="registered_link"></div>



## User Administration on an Azure Host

You can use the `User Administration` table to register new users for the Ark console, edit user properties, or delete a user account. Please note that you must use a client application to connect to the Ark console and add the user to the postgres database before the user is added to the table or allowed to connect.

![*User administration table on the Azure console*](images/ark_admin_tab_user_admin_azure_host.png)

Use the check boxes to modify user access privileges:

-   Check the box next to a user name in the `ADMIN` column to indicate that the user should have administrative access to the Ark console.
-   Check the box next to a user name in the `ENABLED` column to indicate that the account is active.
-   Check the box in the `TEMPLATES ONLY` column to indicate that the user must use templates when deploying clusters.

Use the `Refresh` button to update the table.

<div id="display_connected_users" class="registered_link"></div>



## Displaying Connected Users

Click the `Show logged in users` button to display the `Logged in users` popup.

![*The Logged in users list*](images/ark_admin_tab_display_connected.png)

The dialog displays:

-   The current number of empty sessions; an empty session is an http session with the server that is not associated with a logged-in user.
-   The current number of sessions with a logged-in user.
-   A list of the currently logged-in users.

When you’re finished reviewing the list, use the `X` in the upper-right corner of the popup to close the dialog.

<div id="manage_wall_message" class="registered_link"></div>



## Managing the Wall Message

Provide a message in the `Message` field and click the `Display Message` button to add an announcement to the top of the user console. A message may include HTML tags to control the displayed format, and will wrap if the message exceeds the width of the screen.

![*Modifying the Wall Message*](images/ark_admin_tab_wall_message_pane.png)

The console may take a few seconds to refresh. Once processed by the server, the message will be displayed to console users when their screens refresh.

![*Displaying a wall message*](images/ark_admin_tab_wall_message.png)

Use the `Remove Message` button to remove the wall banner.

<div id="access_console_logs" class="registered_link"></div>



## Accessing the Console Logs

Use the `Download Console Logs` panel to download a zip file that contains the server logs for the underlying application server. You can confirm changes to server status or verify server activity by reviewing the application server log file.

![*The Download Console Logs section of the Admin tab*](images/ark_admin_tab_access_console_logs.png)

You can also review the console logs via an ssh session. Log files are stored in `/var/log/edb-ark`. The current log file is `/var/log/edb-ark/ark.log`.

You can use the Linux tail utility to display the most recent entries in any of the server logs. For example, to review the last 10 lines in the server log file, connect to the console host with ssh and enter:

> `tail file_name`

Where `file_name` specifies the complete path to the log file.

You can include the `-F` option to instruct the `tail` utility to display only the last 10 lines of the log file, and new log file entries as they are added to the file:

> `tail -F file_name`

<div id="core_usage_logs" class="registered_link"></div>



## Accessing the Core Usage Logs

Use the `Download Core Usage Logs` panel to download a zip file that contains the core usage by managed clusters on an hourly basis.

![*The Download Core Usage Logs section of the Admin tab*](images/ark_admin_tab_access_core_usage_logs.png)

The zip file contains a report with four columns; the columns contain:

> -   The date and time that the entry was written.
> -   The database type; either `ppas` for Advanced Server, or `postgres` for PostgreSQL.
> -   The database version.
> -   The total number of cores running in that region.

<div id="manual_console_backup" class="registered_link"></div>



## Taking a Manual Backup of the Console

Use the `Backup Ark Console` panel to request a manual backup of the Ark console begin.

![*The Backup Ark Console section of the Admin tab*](images/ark_admin_tab_take_manual_backup.png)

Click the `Backup Now` button to start a console backup; the backup will be uploaded to the currently configured object storage service.

<div id="edit_installation_props" class="registered_link"></div>



## Editing Installation Properties

Use the option displayed in the `Edit Installation Properties` panel to review or modify Ark console properties.

![*The Edit Installation Properties section*](images/ark_admin_tab_edit_inst_prop_pane.png)

Click the `Edit installation properties` button to open the `Edit Installation Properties` dialog. Use fields on the dialog to modify the properties of the Ark console. When you've finished, click `Save` to preserve your changes and restart the console server, or `Cancel` to exit the dialog without saving the changes.

For detailed descriptions of each field:

-   For an Amazon-hosted console, review the AWS [deployment instructions](06_ark_installing_console/#ark_installing_console_aws).
-   For an Azure-hosted console, review the Azure console [deployment instructions](06_ark_installing_console/#ark_installing_console_azure).
