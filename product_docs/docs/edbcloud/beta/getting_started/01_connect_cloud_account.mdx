---
title: "Connecting Your Cloud Account"
---

This topic describes how to set up your EDB Cloud account on Azure Marketplace. Your Azure subscription for EDB Cloud is where you can create and manage Postgres clusters.

## Before You Connect Your Cloud Account

Ensure you have an active Microsoft Azure subscription. Refer to these [instructions](https://docs.microsoft.com/en-us/azure/cost-management-billing/manage/create-subscription) if you need to create a Azure subscription.

Check that your subscription allows for a sufficient number of vCPU cores and a sufficient number of Public IP Addresses. See [Azure Resource Limits](#increase-azure-resource-limits).

Create an Azure Active Directory Application client to delegate Identity and Access Management functions to Azure Active Directory (AD). See [Azure AD Application](#create-azure-ad-application).

### Check Azure Resource Limits

By default, Azure sets a very low limit on the number of virtual machines per region and on the number of Public IP Addresses per region that are available in a given subscription. 

The default [Azure Virtual Machine  limit per region](https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/azure-subscription-service-limits#virtual-machines-limits---azure-resource-manager) is set to 20. You need to increase this limit to at least 50 virtual machines per region. EDB Cloud uses ESv3 Series virtual machines. 

The default [Public IP address limits](https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/azure-subscription-service-limits#publicip-address) to `Public IP Addresses Basic` and `Public IP Addresses Standards` is set to 10. You need to increase the limit of `Public IP Addresses - Basic` and `Public IP Addresses - Standard` to 100 for the regions where you plan to deploy your EDB Cloud Postgres clusters.

To check the current Azure limits for virtual machines and public IP addresses:

1. In the Azure Portal, select **Subscription**.
2. Select **Settings** > **Usage + quotas**.
1. Search for vCPU to view virtual machines limits.
1. Search for Public IP to view networks limits.

If your role is Owner, Contributor, or [Support Request Contributor](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#support-request-contributor) for your Azure account, you can send requests to increase those limits. Please ensure that the *Default subscription filter* is updated for the expected *subscription id*.

Follow [these instructions](https://docs.microsoft.com/en-us/azure/azure-portal/supportability/per-vm-quota-requests#request-a-standard-quota-increase-from-help--support) to increase your ESv3 Series virtual machines limits for the regions where you are planning to deploy your EDB Cloud Postgres clusters. This is an example of a request to increase virtual machines limits:

~~~
Request Summary / New Limit:
Resource Manager, EASTUS, ESv3 Series / 50
Resource Manager, UKSOUTH, ESv3 Series / 50

~~~
To make requests to increase Azure Networking Limits follow [these instructions](https://docs.microsoft.com/en-us/azure/azure-portal/supportability/networking-quota-requests#request-networking-quota-increase-at-subscription-level-using-help--support).

### Create Azure Active Directory Application

To create an Azure Active Directory (AD) Application:

1. Register an application with Azure AD and create a service principal using [these instructions](https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#register-an-application-with-azure-ad-and-create-a-service-principal).
Take note of the **Application (client) ID**, you need it to configure your EDB cloud account. Also take note of the **Display name** of the Azure AD application. You need to enter the **Display name** _as is_ in the next step of this procedure. 

2. Assign _Owner_ role to the application as described [here](https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#assign-a-role-to-the-application). Enter the **Display name** of the Azure AD application in the **Select** field of the [**Add role assignment** panel](https://docs.microsoft.com/en-us/azure/role-based-access-control/role-assignments-portal?tabs=current#step-2-open-the-add-role-assignment-pane) panel.

3. Choose _application secret_ as an authentication option for the application. [Create a new Azure AD application secret. ](https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#option-2-create-a-new-application-secret) Take note of the Azure AD App Secret, you need it to configure your cloud account.


!!! Note
    You have to ensure the Azure AD App ID and Azure Subscription ID are for the same Azure AD tenant.



## Connect Your Cloud Account

To connect your cloud account with your Azure subscription:

#### 1. Select the EDB offer in the Azure portal.

1. Sign in to Azure portal [portal.azure.com](https://portal.azure.com/) and go to Azure **Marketplace**.
2. Find an offer from **EnterpriseDB Corporation** and select it.
3. Select an available plan from the **Select Plan** drop-down list. 
4. Select **Set up + subscribe**. 

#### 2. Fill out the details for your plan.
1. In the **Project details** section, enter or create a [**Resource Group**](https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal#what-is-a-resource-group) for your subscription. 
2. In the **SaaS details** section, enter the SaaS subscription name.
3. Select **Review + subscribe**.

#### 3. Accept term of use.
1. Review the terms of use provided by EDB.
2. Select **Subscribe**.

#### 4. Configure your account.
1. Select **Configure account now** to configure EDB Cloud to use your Azure subscription and your Azure AD Application.
2. Fill in the following parameters in the form: 


    | Parameter                             | Description                                                                  |
    | ------------------------------------- | ---------------------------------------------------------------------------- |
    | **Azure AD App ID**                   | Application (client) ID you noted when [creating your Azure AD Application](#create-azure-ad-application).|
    | **Azure AD App Secret**               | Application (client) secret you noted when [creating your Azure AD Application](#create-azure-ad-application).|
    | **Azure Subscription ID**             | Azure subscription ID for EDB Cloud available from the Subscriptions page of your Azure account.  |
    | **Your EDB Cloud Organization Name**  | SaaS Subscription Name you assigned as your EDB Cloud Organization (see [step 2. Fill out the details for your plan.](2-fill-out-the-details-for-your-plan))  |

11. Select **Submit.**

## What's Next
 
### Login

You can now log in to your EDB Cloud account using your Azure AD identity if you filled in your parameters correctly.

### Invite Users

You can invite new users by sharing the link to the EDB Cloud Portal and having them login with their Microsoft Azure Active Directory account. New users will not be assigned any roles by default. After they log in the first time, you will see them in the User list and be able to [assign them a role](Managing_User_Access#Assinging_Roles_to_Users) with permissions to EDB Cloud.

!!! Note
    Azure AD email domain will likely be different than the email domain regularly used by your organization.
