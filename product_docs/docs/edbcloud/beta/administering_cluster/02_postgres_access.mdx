---
title: "Managing Postgres Access"
---

The `edb_admin` database role and `edb_admin` database created during the _Create Cluster_ process should not be used by your application. Instead, create a new database role and a new database, which provides a high level of isolation in Postgres. If multiple applications are using the same cluster, each database can also contain multiple schemas, essentially a namespace in the database. If strict isolation is needed, use a dedicated cluster or dedicated database. If that strict isolation level is not required, a single database can be deployed with multiple schemas. Please refer to the [PostgreSQL documentation](https://www.postgresql.org/docs/current/ddl-priv.html) on Privileges to further customize ownership and roles to your requirements. 

To create a new role and database, first connect using `psql`: 

```
psql -W "postgres://edb_admin@xxxxxxxxx.xxxxx.edbcloud.io:5432/edb_admin?sslmode=require"
```

## One database with one application 

For one database hosting a single application, create a new database role and database for each application: 

Create a new database role: 
```
edb_admin=# create role app1 with password 'app1_pwd';
```

Create a new database to store application data: 
```
edb_admin=# create database app1 with owner app1;
```

Using this example, the username and database in your connection string would be `app1`. 

## One database with multiple schemas

If a single database is used to host multiple schemas, create a database owner and then roles and schemas for each application. The example below shows creating two database roles and two schemas. The default `search_path` for database roles in EDB Cloud is `"$user",public`. If the role name and schema match, then objects in that schema will match first, and no `search_path` changes or fully qualifying of objects are needed. The [PostgreSQL documentation](https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATH) covers the schema search path in detail. 


Create a database owner and new database:

```
edb_admin=# create user prod_admin with password 'prod_pwd'; 
edb_admin=# create database prod1 with owner prod_admin;
```

Connect to the new database: 
```
edb_admin=# \c prod1
```

Create new application roles: 
```
prod1=# create role app1 with password 'app1_pwd';
prod1=# create role app2 with password 'app2_pwd'; 
```

Create a new schema for each application with the _AUTHORIZATION_ clause for the application owner. 
```
prod1=# create schema app1 authorization app1; 
prod1=# create schema app2 authorization app2; 
```
