---
# IMPORTANT: Do not edit this file directly - it is generated from yaml source.
title: Trusted Postgres Architect 23.40.1 release notes
navTitle: Version 23.40.1
originalFilePath: product_docs/docs/tpa/23/rel_notes/src/tpa_23.40.1_rel_notes.yml
editTarget: originalFilePath
---

Released: 28 October 2025

This is a bug fixes release. The issues resolved in Trusted Postgres Architect 23.40.01 include the following:

## Bug Fixes

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td><details><summary>Fixed an issue whereby the PGD <code>alter_node_option</code> task would run for physical replicas.</summary><hr/><p>In a <code>PGD-AlwaysON</code> cluster with a BDR node that is also a physical replica, the
upgrade process would fail during the <code>alter_node_option</code> task because a BDR node
is expected to have RAFT enabled, but the physical replica BDR node does not.
TPA now skips this task on any node with the <code>replica</code> role, allowing
upgrade to complete successfully.</p>
</details></td><td>51997</td></tr>
<tr><td><details><summary>Fixed unnecessary output after deploy by removing the post-deploy check for pgbouncer_auth_function in pg_catalog.</summary><hr/><p>TPA recently relocated the pgbouncer_auth_function used to authenticate
users when pgbouncer is in use. This was done in an effort to better follow the
best practices and avoid issues during upgrade where pg_catalog function would
not be part of the dump of the database. TPA introduced a post deploy check to
help users still relying on the auth function defined in pg_catalog to identify
the problem and make sure that they are able to fix it before removing the function
from their systems. This check was used as a transition mechanism and is now being
removed. This resolves issues with unwanted output generated by that check.</p>
</details></td><td>100065</td></tr>
<tr><td><details><summary>Fixed a misconfiguration of the <code>.pgpass</code> file when <code>backup_name</code> is used.</summary><hr/><p>Previously, when using the <code>backup_name</code> variable, TPA would incorrectly use this name in <code>pgpass</code> for the Barman server.
This has been fixed and the documentation has been updated.</p>
</details></td><td></td></tr>
<tr><td><details><summary>TPA now ensures EDB repos are used when Beacon Agent is included in a cluster.</summary><hr/><p>TPA can deploy the Beacon Agent to monitor the health of a system. However,
it needs access to a valid EDB repository. This change ensures that the Standard
repository is enabled when the Beacon Agent is to be deployed.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Fixed issue whereby Barman could not configure the log_file parameter correctly.</summary><hr/><p>When setting up a barman node, the variable 'barman_log_file' was not setting
up an alternative directory to place the log file. Instead, it used the default
location (<code>/var/log/barman/barman.log</code>). Bug and fix reported by voxnyx (<a href="https://github.com/voxnyx">https://github.com/voxnyx</a>).</p>
</details></td><td></td></tr>
</tbody></table>


