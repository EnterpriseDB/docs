---
description: Incorporating pgd-cli into your TPA deployed BDR 4/PGD 5 cluster.
title: pgd-cli
originalFilePath: pgd-cli.md

---

## pgd-cli package version

By default, TPA installs the latest available version of `pgd-cli`.

!!!Note Only pgd-cli v1 packages are supported for BDR-Always-ON architectures

TPA only installs `pgd-cli` in BDR-Always-ON clusters if `pgdcli` is explicitly
added to the `role` list of a BDR node.
!!!

The version of the `pgd-cli` package that is installed can be specified
by including `pgdcli_package_version: xxx` under the `cluster_vars`
section of the `config.yml` file.

```yaml
cluster_vars:
    pgdcli_package_version: '5.0.0-1'
```

You may use any version specifier that apt or yum would accept.

If your version does not match, try prepending a `*` wildcard. This
is often necessary when the package version has an epoch qualifier
like `2:...`.

## Updating pgd-cli using `tpaexec upgrade`

!!!Note

The documentation refers to this component as `pgd-cli` but the name to pass to the `--components` list is `pgdcli`.
!!!

When trying to upgrade to a specific package version, ensure the `pgdcli_package_version` in 
`config.yml` is updated to reflect the desired version. This version should be kept in line 
with the `bdr_package_version` and `pgd_proxy_package_version` versions specified for the cluster.
Defining `bdr_package_version` and omitting `pgd_proxy_package_version` and `pgdcli_package_version`
from `config.yml` will ensure the same value is used across all three components.

The desired version can also be passed as an extra argument to the `tpaexec upgrade` command with:

```shell
tpaexec upgrade <cluster_dir> -e pgdcli_package_version="<desired version>" \
    --components=pgdcli
```

Refer to the section on
[package version selection and upgrade](../tpaexec-upgrade/#package-version-selection) for more
information.

To select pgd-cli for upgrade, ensure the `--components` flag passed to the `tpaexec upgrade`
command contains `pgdcli` (or `all`)

Refer to the section on [component selection for upgrade](../tpaexec-upgrade/#component-selection)
for more information.
