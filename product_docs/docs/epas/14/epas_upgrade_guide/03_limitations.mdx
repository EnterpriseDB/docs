---
title: "Upgrade considerations"
---

Consider the following when upgrading EDB Postgres Advanced Server:


-   The `pg_upgrade` utility cannot upgrade a partitioned table if a foreign key refers to the partitioned table.
-   If you are upgrading from the version 9.4 server or a lower version of EDB Postgres Advanced Server, and you use partitioned tables that include a `SUBPARTITION BY` clause, you must use `pg_dump` and `pg_restore` to upgrade an existing EDB Postgres Advanced Server installation to a later version of EDB Postgres Advanced Server. To upgrade, you must:
    1.  Use `pg_dump` to preserve the content of the subpartitioned table.
    2.  Drop the table from the EDB Postgres Advanced Server 9.4 database or a lower version of EDB Postgres Advanced Server database.
    3.  Use `pg_upgrade` to upgrade the rest of the EDB Postgres Advanced Server database to a more recent version.
    4.  Use `pg_restore` to restore the subpartitioned table to the latest upgraded EDB Postgres Advanced Server database.
-   If you perform an upgrade of the EDB Postgres Advanced Server installation, you must rebuild any hash-partitioned table on the upgraded server.
-   If you are using an ODBC, JDBC, OCI, or .NET driver to connect to your database applications and upgrading to a new major version of EDB Postgres Advanced Server, upgrade your driver to the latest version when upgrading EDB Postgres Advanced Server.
