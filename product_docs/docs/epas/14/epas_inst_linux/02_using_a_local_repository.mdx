---
title: "Installing on Linux Using a Local Repository"
---

This topic describes how to install EDB Postgres Advanced Server and includes two steps to completing an installation:

- Setting up the repository
- Installing the package

For each step, you must be logged in as superuser.

To log in as a superuser:

```sh
sudo su -
```

## Setting up the Repository

1. To register with EDB to receive credentials for the EDB repository, visit: [Repository Access Request](https://www.enterprisedb.com/repository-access-request).

1. Set up the EDB repository:

   ```sh
   yum -y install https://yum.enterprisedb.com/edbrepos/edb-repo-latest.noarch.rpm
   ```

   This creates the /etc/yum.repos.d/edb.repo configuration file.

1. Replace `'USERNAME:PASSWORD'` below with your username and password available from your
   [EDB account](https://www.enterprisedb.com/user) in the edb.repo file:

   ```sh
   sed -i "s@<username>:<password>@USERNAME:PASSWORD@" /etc/yum.repos.d/edb.repo
   ```

1. Install EPEL repository and refresh the cache:

   ```sh
   yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
   yum makecache
   ```

1. Enable the optional, extras, and HA repositories since EPEL packages may depend on packages from these repositories:

   ```sh
   subscription-manager repos --enable "rhel-*-optional-rpms" --enable "rhel-*-extras-rpms"  --enable "rhel-ha-for-rhel-*-server-rpms"
   ```

1. Install the `createrepo` utility on the source server to create the local repository:

   ```sh
   yum install -y yum-utils createrepo
   ```

1. Import EDB GPG key installed from edb-repo and also the other repositories:

   ```sh
   rpm --import /etc/pki/rpm-gpg/*
   ```

1. Create the download directory, download all the required packages and populate it using `createrepo`:

   ```sh
   $ mkdir -p /tmp/yumdownloaddir
   $ cd /tmp/yumdownloaddir
   $ repotrack parted edb-repo edb-as*-server java edb-pem edb-efm* edb-migrationtoolkit ppas-xdb edb-as*-pgagent.x86_64 edb-bart
   $ createrepo /tmp/yumdownloaddir
   ```

1. Zip up the download directory, ready to be shipped to the target server(s):

   ```sh
   $ cd /tmp
   $ tar -zcvf yumdownloaddir.tgz yumdownloaddir
   ```

1. Now login to the target server and copy the .tgz (zip) file to the /tmp directory using scp, or rsync, or any of the other methods. Then unzip it on all the servers needing EDB software.

   ```sh
   sudo su -
   tar -xvf /tmp/yumdownloaddir.tgz
   ```

1. Install the edb repo file and import the EDB GPG key from the archive:

   ```sh
   yum localinstall yumdownloaddir/edb-repo*.rpm
   rpm --import /etc/pki/rpm-gpg/*
   ```

   This creates the /etc/yum.repos.d/edb.repo configuration file.

1. Create an `edb_local.repo` file in /etc/yum.repos.d/ with the following contents:
   ```sh
   cp /etc/yum.repos.d/edb.repo /etc/yum.repos.d/edb_local.repo
   vi /etc/yum.repos.d/edb_local.repo
   [edb-localrepo]
   name=EnterpriseDB Localrepo for install without internet access
   baseurl=file:///tmp/yumdownloaddir/
   enabled=1
   repo_gpgcheck=0
   gpgcheck=1
   gpgkey=file:///etc/pki/rpm-gpg/ENTERPRISEDB-GPG-KEY
   #skip_if_unavailable = 1
   #keepcache = 0
   ```

## Installing the Package

```sh
yum -y install edb-as14-server
```

!!! Note
Once the edb repository is set up, you can install any of the EDB products by using the relevant package name at this step. You can use `yum list available` command to check the available packages.

Installing the server package creates an operating system user named `enterprisedb`. The user is assigned a user ID (UID) and a group ID (GID). The user has no default password. Use the `passwd` command to assign a password for the user. The default shell for the user is `bash` and the user's home directory is `/var/lib/edb/as14`.
