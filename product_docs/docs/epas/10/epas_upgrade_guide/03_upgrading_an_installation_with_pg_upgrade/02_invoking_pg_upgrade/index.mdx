---
title: "Invoking pg_upgrade"

legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-advanced-server/installation-getting-started/upgrade-guide/13/invoking_pg_upgrade.html"
---

When invoking `pg_upgrade`, you must specify the location of the old and new cluster's `PGDATA`and executable `(/bin)` directories, as well as the name of the Advanced Server superuser, and the ports on which the installations are listening. A typical call to invoke `pg_upgrade` to migrate from Advanced Server 10 to Advanced Server 11 takes the form:

```text
pg_upgrade
--old-datadir <path_to_9.6_data_directory>
--new-datadir <path_to_10_data_directory>
--user <superuser_name>
--old-bindir <path_to_9.6_bin_directory>
--new-bindir <path_to_10_bin_directory>
--old-port <9.6_port> --new-port <10_port>
```

Where:

`--old-datadir path_to_9.6_data_directory`

Use the `--old-datadir` option to specify the complete path to the `data` directory within the Advanced Server 9.6 installation.

`--new-datadir path_to_10_data_directory`

Use the `--new-datadir` option to specify the complete path to the `data` directory within the Advanced Server 10 installation.

`--username superuser_name`

Include the `--username` option to specify the name of the Advanced Server superuser. The superuser name should be the same in both versions of Advanced Server. By default, when Advanced Server is installed in Oracle mode, the superuser is named `enterprisedb`. If installed in PostgreSQL mode, the superuser is named `postgres`.

If the Advanced Server superuser name is not the same in both clusters, the clusters will not pass the `pg_upgrade` consistency check.

`--old-bindir path_to_9.6_bin_directory`

Use the `--old-bindir` option to specify the complete path to the `bin` directory in the Advanced Server 9.6 installation.

`--new-bindir path_to_10_bin_directory`

Use the `--new-bindir` option to specify the complete path to the `bin` directory in the Advanced Server 10 installation.

`--old-port 9.6_port`

Include the `--old-port` option to specify the port on which Advanced Server 9.6 listens for connections.

`--new-port 10_port`

Include the `--new-port` option to specify the port on which Advanced Server 10 listens for connections.

<div class="toctree" maxdepth="3">

command_line_options_reference

</div>
