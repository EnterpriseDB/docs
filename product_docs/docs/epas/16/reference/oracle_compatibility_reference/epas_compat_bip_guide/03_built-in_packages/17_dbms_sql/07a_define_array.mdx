---
title: "DEFINE_ARRAY"
---

The `DEFINE_ARRAY` procedure defines the collection for a column into which you want to fetch rows with a FETCH_ROWS call. You can use this procedure to fetch multiple rows from a single SELECT statement. 

When you fetch rows, they are copied into DBMS_SQL buffers until you run a COLUMN_VALUE call, which copies the rows into the table that was passed as an argument to the COLUMN_VALUE call.

```sql
DEFINE_ARRAY(<c> NUMBER, <position> NUMBER, <table_variable> { CLOB | BLOB | TIMESTAMP | NUMBER | VARCHAR2 | TIMESTAMPTZ |}, <cnt> NUMBER, <lower_bnd> NUMBER)
   );
```

## Parameters

`c`

ID of the cursor to which you want to bind an array.

`position`

Relative position of the column in the array being defined. The first column is position 1.

`table_variable`

A datatype that can be any one of the following matching pairs:
 
<clob_tab>     Clob_Table
<blob_tab>     Blob_Table
<date_tab>     Date_Table
<num_tab>      Number_Table
<urowid_tab>   Urowid_Table
<vchr2_tab>    Varchar2_Table
<tm_tab>       Time_Table
<ttz_tab>      Time_With_Time_Zone_Table
<tms_tab>      Timestamp_Table
<tstz_tab>     Timestamp_With_ltz_Table
<tstz_tab>     Timestamp_With_Time_Zone_Table
<ids_tab>      Interval_Day_To_Second_Table
<iym_tab>      Interval_Year_To_Month_Table

`cnt`

Number of rows to fetch. Must be a positive integer.

`lower_bnd`

Results are copied into the collection, starting at this lower bound index.


## Example

THE FOLLOWING EXAMPLE IS TAKEN FROM OUR QA TEST ROUTINES. I COULD ALSO COPY AN EXAMPLE FROM ORACLE DOCUMENTATION. WHAT IS THE BEST WAY TO GET AN EXAMPLE?

```sql
CREATE OR REPLACE PROCEDURE BULK_PLSQL_1750 (deptid NUMBER) IS
    var_name DBMS_SQL.VARCHAR2_TABLE;
    var_empid DBMS_SQL.NUMBER_TABLE;
    l_cursor NUMBER;
    row_processed NUMBER;
BEGIN
    l_cursor := DBMS_SQL.OPEN_CURSOR;
    DBMS_SQL.PARSE(l_cursor, 'SELECT ename, empno FROM emp1750 WHERE deptno = :b1', DBMS_SQL.NATIVE);
    DBMS_SQL.BIND_VARIABLE(l_cursor, 'b1', deptid);
    DBMS_SQL.DEFINE_ARRAY(l_cursor, 1, var_name, 1,1);
    DBMS_SQL.DEFINE_ARRAY(l_cursor, 2, var_empid, 1,1);
    row_processed := DBMS_SQL.EXECUTE(l_cursor);
  LOOP
    row_processed := DBMS_SQL.FETCH_ROWS(l_cursor);
    DBMS_SQL.COLUMN_VALUE(l_cursor, 1, var_name);
    DBMS_SQL.COLUMN_VALUE(l_cursor, 2, var_empid);
    EXIT WHEN row_processed != 10;
  END LOOP;
  DBMS_SQL.CLOSE_CURSOR(l_cursor);
  FOR i IN var_empid.FIRST .. var_empid.LAST
  LOOP
  DBMS_OUTPUT.PUT_LINE('Name = ' || var_name(i) || ' employee_id = ' || var_empid(i));
 END LOOP;
END;
/
BEGIN
  BULK_PLSQL_1750(10);
END;
/
```

