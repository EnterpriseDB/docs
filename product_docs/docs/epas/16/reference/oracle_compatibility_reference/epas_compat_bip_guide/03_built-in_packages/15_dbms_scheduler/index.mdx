---
title: "DBMS_SCHEDULER"
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-advanced-server/user-guides/database-compatibility-for-oracle-developers-built-in-package-guide/9.6/Database_Compatibility_for_Oracle_Developers_Built-in_Package_Guide.1.28.html"
  - "/edb-docs/d/edb-postgres-advanced-server/user-guides/database-compatibility-for-oracle-developers-guide/9.5/Database_Compatibility_for_Oracle_Developers_Guide.1.201.html"
  - "/edb-docs/d/edb-postgres-advanced-server/user-guides/user-guide/9.5/EDB_Postgres_Enterprise_Guide.1.159.html"
redirects:
  - /epas/latest/epas_compat_bip_guide/03_built-in_packages/15_dbms_scheduler/ #generated for docs/epas/reorg-role-use-case-mode
---

The `DBMS_SCHEDULER` package provides a way to create and manage Oracle-style jobs, programs, and job schedules. The `DBMS_SCHEDULER` package implements the following functions and procedures:

| Function/procedure                                                                                                                                | Return type | Description                                                                                                                       |
| ------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------- |
| `CREATE_JOB(job_name, job_type, job_action, number_of_arguments, start_date, repeat_interval, end_date, job_class, enabled, auto_drop, comments)` | n/a         | Use the first form of the `CREATE_JOB` procedure to create a job, specifying program and schedule details by means of parameters. |
| `CREATE_JOB(job_name, program_name, schedule_name, job_class, enabled, auto_drop, comments)`                                                      | n/a         | Use the second form of `CREATE_JOB` to create a job that uses a named program and named schedule.                                 |
| `CREATE_PROGRAM(program_name, program_type, program_action, number_of_arguments, enabled, comments)`                                              | n/a         | Use `CREATE_PROGRAM` to create a program.                                                                                         |
| `CREATE_SCHEDULE(schedule_name, start_date, repeat_interval, end_date, comments)`                                                                 | n/a         | Use the `CREATE_SCHEDULE` procedure to create a schedule.                                                                         |
| `DEFINE_PROGRAM_ARGUMENT(program_name, argument_position, argument_name, argument_type, default_value, out_argument)`                             | n/a         | Use the first form of the `DEFINE_PROGRAM_ARGUMENT` procedure to define a program argument that has a default value.              |
| `DEFINE_PROGRAM_ARGUMENT(program_name, argument_position, argument_name, argument_type, out_argument)`                                            | n/a         | Use the first form of the `DEFINE_PROGRAM_ARGUMENT` procedure to define a program argument that doesn't have a default value.    |
| `DISABLE(name, force, commit_semantics)`                                                                                                          | n/a         | Use the `DISABLE` procedure to disable a job or program.                                                                          |
| `DROP_JOB(job_name, force, defer, commit_semantics)`                                                                                              | n/a         | Use the `DROP_JOB` procedure to drop a job.                                                                                       |
| `DROP_PROGRAM(program_name, force)`                                                                                                               | n/a         | Use the `DROP_PROGRAM` procedure to drop a program.                                                                               |
| `DROP_PROGRAM_ARGUMENT(program_name, argument_position)`                                                                                          | n/a         | Use the first form of `DROP_PROGRAM_ARGUMENT` to drop a program argument by specifying the argument position.                     |
| `DROP_PROGRAM_ARGUMENT(program_name, argument_name)`                                                                                              | n/a         | Use the second form of `DROP_PROGRAM_ARGUMENT` to drop a program argument by specifying the argument name.                        |
| `DROP_SCHEDULE(schedule_name, force)`                                                                                                             | n/a         | Use the `DROP SCHEDULE` procedure to drop a schedule.                                                                             |
| `ENABLE(name, commit_semantics)`                                                                                                                  | n/a         | Use the `ENABLE` command to enable a program or job.                                                                              |
| `EVALUATE_CALENDAR_STRING(calendar_string, start_date, return_date_after, next_run_date)`                                                         | n/a         | Use `EVALUATE_CALENDAR_STRING` to review the execution date described by a user-defined calendar schedule.                        |
| `RUN_JOB(job_name, use_current_session, manually)`                                                                                                | n/a         | Use the `RUN_JOB` procedure to execute a job immediately.                                                                         |
| `SET_JOB_ARGUMENT_VALUE(job_name, argument_position, argument_value)`                                                                             | n/a         | Use the first form of `SET_JOB_ARGUMENT_VALUE` to set the value of a job argument described by the argument's position.           |
| `SET_JOB_ARGUMENT_VALUE(job_name, argument_name, argument_value)`                                                                                 | n/a         | Use the second form of `SET_JOB_ARGUMENT_VALUE` to set the value of a job argument described by the argument's name.              |

EDB Postgres Advanced Server's implementation of `DBMS_SCHEDULER` is a partial implementation when compared to Oracle's version. Only those functions and procedures listed in the table are supported.

To use `DBMS_SCHEDULER`,

1. Set the GUC parameter and the shared libraries parameter in `postgresql.conf` file:

   ```ini
   edb_job_scheduler.database_list = 'edb'
   shared_preload_libraries='$libdir/edb_job_scheduler' 
   ```

2. Restart the EPAS server.

3. Create the extension:

   ```sql
   # Connect to your database using psql as superuser
   psql -d edb -U enterprisedb
   # Create the extension
   CREATE EXTENSION edb_job_scheduler;
   ```


By default, the `edb_job_scheduler` extension resides in the `contrib/dbms_scheduler_ext` subdirectory under the EDB Postgres Advanced Server installation.

After creating the `DBMS_SCHEDULER` tables, only a superuser can perform a dump or reload of the database.

The EDB Job Scheduler is an extension that runs a job scheduler as a background process for the `DBMS_SCHEDULER` package. For the extension to operate, make sure to follow the instructions for using `DBMS_SCHEDULER`. If these instructions are followed, the job scheduler process first starts when the database cluster loads. 

To learn about future jobs and job statuses, see the two tables in `sys` schema: 

- `jobs` &mdash; Contains the information about future jobs. For example:

  ```
     Column   |           Type
  ------------+--------------------------
   jobid      | bigint
   jobnextrun | timestamp with time zone
   jobcommand | text
   jobuser    | text
  ```

- `job_run_details` &mdash; Contains the job run status. The `status` can be `'r' - running`, `'s' - success`, or `'f' - failure` for the respective `jobid`. For example: 
  ```
      Column    |           Type
  --------------+--------------------------
   jobid        | bigint
   runid        | bigint
   username     | text
   workerpid    | integer
   status       | character(1)
   error        | text
   scheduletime | timestamp with time zone
   starttime    | timestamp with time zone
   endtime      | timestamp with time zone
  ```

To configure the job scheduler, use these GUCs: 

- `edb_job_scheduler.max_jobs_per_database` &mdash; Controls the maximum number of jobs per database level. 
- `edb_job_scheduler.max_workers_per_database` &mdash; Controls the maximum number of worker processes per database level.

Reload the configuration with `pg_reload_conf()` or `pg_clt reload` to apply your changes. 

The extension offers these user API functions: 

- `sys.reload_all_jobs` &mdash; Reloads all the unscheduled jobs from the current database. 

  !!! Note
     This function requests only the scheduler process. So, if the local storage of the scheduler limit meets the maximum set by `edb_job_scheduler.max_jobs_per_database`, the loading fails. 

- `sys.dump_schedule()` &mdash; Displays the current job schedule from the scheduler's local memory. The scheduler's local memory dumps all the jobs that have yet to be executed into the server log in JSON format. 


<div class="toctree" maxdepth="6">

using_calendar_syntax_to_specify_a_repeating_interval create_job create_program create_schedule define_program_argument dbms_scheduler_disable drop_job drop_program drop_program_argument drop_schedule dbms_scheduler_enable evaluate_calendar_string run_job set_job_argument_value

</div>
