---
title: "FILECLOSEALL"
---

The `FILECLOSEALL` procedure closes all BFILEs opened in the session.

```sql
FILECLOSEALL; 
```

## Example

!!! sql
DECLARE
  src_loc     BFILE := bfilename('AnNOTHER_DIR','b.txt') ;
  dst_loc     BLOB;
  src_offset  NUMBER := 1;
  dst_offset  NUMBER := 1;
  src_osin    NUMBER;
  dst_osin    NUMBER;
  bytes_rd    NUMBER;
  bytes_wt    NUMBER; 
BEGIN
  SELECT p2 INTO dst_loc FROM p 
      WHERE p where p1 = 20;

  /* Opening the source BFILE is mandatory */
  dbms_lob.fileopen(src_loc, dbms_lob.file_readonly);

  /* Opening the LOB is optional */
  dbms_lob.OPEN(dst_loc, dbms_lob.lob_readwrite);
  /* Save the input source/destination offsets */
  src_osin := src_offset;
  dst_osin := dst_offset;
  /* Use LOBMAXSIZE to indicate loading the entire BFILE */
  dbms_lob.LOADBLOBFROMFILE(dst_loc,src_loc,dbms_lob.lobmaxsize,src_offset,dst_offset) ;

  /* Closing the LOB is mandatory if you have opened it */
  dbms_lob.close(dst_loc);
  dbms_lob.filecloseall();
  COMMIT;
!!!