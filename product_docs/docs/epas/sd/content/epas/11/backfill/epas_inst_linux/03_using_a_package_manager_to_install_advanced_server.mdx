---
title: "Using a Package Manager to Install Advanced Server"

legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-advanced-server/installation-getting-started/installation-guide-for-linux/13/using_a_package_manager_to_install_advanced_server.html"
---

<div id="using_a_package_manager_to_install_advanced_server" class="registered_link"></div>

You can use the `dnf` or `yum` package manager to install Advanced Server or Advanced Server supporting components. `dnf` or `yum` will attempt to satisfy package dependencies as it installs a package, but requires access to the Advanced Server repositories. If your system does not have access to a repository via the Internet, you can use RPM to install an individual package or create a local repository, but you may be required to manually satisfy package dependencies.

You must have credentials for the EnterpriseDB repository to install Advanced Server; to submit a request for credentials, visit:

<https://info.enterprisedb.com/rs/069-ALB-339/images/Repository%20Access%2004-09-2019.pdf>

For a list of the RPM installers and Debian packages available from EnterpriseDB for Advanced Server and supporting components, see [Advanced Server RPM Packages](#advanced-server-rpm-packages).

By default, Advanced Server logging is configured to write files to the log subdirectory of the data directory, rotating the files each day and retaining one week of log entries. You can customize the logging behavior of the server by modifying the postgresql.conf file; for more information about modifying the postgresql.conf file, please see [Modifying the postgresql.conf File](#modifying-the-postgresql.conf-File).

The RPM installers place Advanced Server components in the directories listed in the table below:

| Component                         | Location                                   |
| --------------------------------- | ------------------------------------------ |
| Executables                       | `/usr/edb/as11/bin`                        |
| Libraries                         | `/usr/edb/as11/lib`                        |
| Cluster configuration files       | `/etc/edb/as11`                            |
| Documentation                     | `/usr/edb/as11/share/doc`                  |
| Contrib                           | `/usr/edb/as11/share/contrib`              |
| Data                              | `/var/lib/edb/as11/data`                   |
| Logs                              | `/var/log/as11`                            |
| Lock files                        | `/var/lock/as11`                           |
| Log rotation file                 | `/etc/logrotate.d/as11`                    |
| Sudo configuration file           | `/etc/sudoers.d/as11`                      |
| Binary to access VIP without sudo | `/usr/edb/as11/bin/secure`                 |
| Backup area                       | `/var/lib/edb/as11/backups`                |
| Templates                         | `/usr/edb/as11/share`                      |
| Procedural Languages              | `/usr/edb/as11/lib or /usr/edb/as11/lib64` |
| Development Headers               | `/usr/edb/as11/include`                    |
| Shared data                       | `/usr/edb/as11/share`                      |
| Regression tests                  | `/usr/edb/as11/lib/pgxs/src/test/regress`  |
| SGML Documentation                | `/usr/edb/as11/share/doc`                  |

## Installation Pre-requisites

Before using an RPM package to install Advanced Server on a Linux host, you must:

**Install Linux-specific Software**

You must install `xterm, konsole`, or `gnome-terminal` before executing any console-based program installed by EnterpriseDB installers.

**Install Migration Toolkit or EDB\*Plus Installation Prerequisites (Optional)**

Before using an RPM to install Migration Toolkit or EDB\*Plus, you must first install Java version 1.7 or later for Migration Toolkit and Java version 1.8 or later for EDB\*Plus. On a Linux system, you can use the `dnf` or `yum` package manager to install Java. Open a terminal window, assume superuser privileges, and enter:

-   On RHEL or CentOS 7:

    ```text
    # yum -y install java
    ```

-   On RHEL or CentOS 8:

    ```text
    # dnf -y install java
    ```

Follow the onscreen instructions to complete the installation.

**Request Credentials to the EnterpriseDB Repository**

Before installing the repository configuration file, you must have credentials that allow access to the EnterpriseDB repository. For information about requesting credentials, visit:

<https://www.enterprisedb.com/user/login>

After receiving your repository credentials you can:

-   Create the repository configuration file.
-   Modify the file, providing your user name and password.
-   Install the repository keys and additional prerequisite software.
-   Install Advanced Server and supporting components.

### Installing Advanced Server on a CentOS Host

You can use an RPM package to install Advanced Server on a CentOS host.

-   To install the repository configuration file, assume superuser privileges and invoke one of the following platform specific commands:

    On CentOS 7:

    ```text
    yum -y install https://yum.enterprisedb.com/edbrepos/edb-repo-latest.noarch.rpm
    ```

    On CentOS 8:

    ```text
    dnf -y install https://yum.enterprisedb.com/edbrepos/edb-repo-latest.noarch.rpm
    ```

-   Replace the `USERNAME:PASSWORD` variable in the following command with the username and password of a registered EnterpriseDB user:

    ```text
    sed -i "s@<username>:<password>@USERNAME:PASSWORD@" /etc/yum.repos.d/edb.repo
    ```

-   Before installing Advanced Server, you must install the `epel-release` package:

    On CentOS 7:

    ```text
    # yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
    ```

    On CentOS 8:

    ```text
    # dnf -y install epel-release
    ```

-   For CentOS 8, enable the PowerTools repository to satisfy package dependencies:

    ```text
    dnf config-manager --set-enabled PowerTools
    ```

    On CentOS 8, disable the built-in PostgreSQL module:

    ```text
    dnf -qy module disable postgresql
    ```

The repository configuration file is named `edb.repo`. The file resides in `/etc/yum.repos.d.` 

After saving your changes to the configuration file, you can use `yum install` or `dnf install` command to install Advanced Server. For example, to install the server and its core components, use the command:

-   On CentOS 7:

    ```text
    yum -y install edb-as11-server
    ```

-   On CentOS 8:

    ```text
    dnf -y install edb-as11-server
    ```

When you install an RPM package that is signed by a source that is not recognized by your system, `yum` may ask for your permission to import the key to your local server. If prompted, and you are satisfied that the packages come from a trustworthy source, enter a `y`, and press `Return` to continue.

After installing Advanced Server, you must configure the installation. For more information, see [Configuring a Package Installation](#configuring-a-package-installation).

!!! Note
    During the installation, `yum` may encounter a dependency that it cannot resolve. If it does, it will provide a list of the required dependencies that you must manually resolve.

### Installing Advanced Server on a RHEL Host

You can use an RPM package to install Advanced Server on a RHEL host.

-   To install the repository configuration file, assume superuser privileges and invoke one of the following platform specific commands:

    On RHEL 7:

    ```text
    yum -y install https://yum.enterprisedb.com/edbrepos/edb-repo-latest.noarch.rpm
    ```

    On RHEL 8:

    ```text
    dnf -y install https://yum.enterprisedb.com/edbrepos/edb-repo-latest.noarch.rpm
    ```

-   Replace the `USERNAME:PASSWORD` variable in the following command with the username and password of a registered EnterpriseDB user:

    ```text
    sed -i "s@<username>:<password>@USERNAME:PASSWORD@" /etc/yum.repos.d/edb.repo
    ```

-   Before installing Advanced Server, you must install the `epel-release` package:

    On RHEL 7:

    ```text
    # yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
    ```

    On RHEL 8:

    ```text
    # dnf -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
    ```

-   Enable the supporting repositories:

    On RHEL 7, enable the `optional`, `extras`, and `HA` repositories to satisfy package dependencies:

    ```text
    subscription-manager repos --enable "rhel-*-optional-rpms" --enable "rhel-*-extras-rpms"  --enable "rhel-ha-for-rhel-*-server-rpms"
    ```

    On RHEL 8, enable the `codeready-builder-for-rhel-8-*-rpms` repository to satisfy package dependencies:

    ```text
    ARCH=$( /bin/arch )

    subscription-manager repos --enable "codeready-builder-for-rhel-8-${ARCH}-rpms"
    ```

    On RHEL 8, disable the built-in PostgreSQL module:

    ```text
    dnf -qy module disable postgresql
    ```

The repository configuration file is named `edb.repo`. The file resides in `/etc/yum.repos.d.`

After saving your changes to the configuration file, you can use `yum install` or `dnf install` command to install Advanced Server. For example, to install the server and its core components, use the command:

-   On RHEL 7:

    ```text
    yum -y install edb-as11-server
    ```

-   On RHEL 8:

    ```text
    dnf -y install edb-as11-server
    ```

When you install an RPM package that is signed by a source that is not recognized by your system, `yum` may ask for your permission to import the key to your local server. If prompted, and you are satisfied that the packages come from a trustworthy source, enter a `y`, and press `Return` to continue.

After installing Advanced Server, you must configure the installation. For more information, see [Configuring a Package Installation](#configuring-a-package-installation).

!!! Note
    During the installation, `yum` may encounter a dependency that it cannot resolve. If it does, it will provide a list of the required dependencies that you must manually resolve.

### Installing Advanced Server on a CentOS/RHEL 7 ppc64le Host

You can use an RPM package to install Advanced Server on a CentOS or RHEL 7 ppc64le host.

-   To install the Advance Toolchain repository:

    ```text
    rpm --import https://public.dhe.ibm.com/software/server/POWER/Linux/toolchain/at/redhat/RHEL7/gpg-pubkey-6976a827-5164221b
    ```

    The repository configuration file is named `advance-toolchain.repo`. The file resides in `/etc/yum.repos.d.`

-   After creating the ` advance-toolchain.repo` file, the `enabled` parameter to `1` by default. 

    ```text
    [advance-toolchain]
    name=Advance Toolchain IBM FTP
    baseurl=https://public.dhe.ibm.com/software/server/POWER/Linux/toolchain/at/redhat/RHEL7
    failovermethod=priority
    enabled=1
    gpgcheck=1
    gpgkey=ftp://public.dhe.ibm.com/software/server/POWER/Linux/
    toolchain/at/redhat/RHELX/gpg-pubkey-6976a827-5164221b
    ```

-   To install the repository configuration file, assume superuser privileges and invoke the following command:

    ```text
    yum -y install https://yum.enterprisedb.com/edbrepos/edb-repo-latest.noarch.rpm
    ```

-   Replace the `USERNAME:PASSWORD` variable in the following command with the username and password of a registered EnterpriseDB user:

    ```text
    sed -i "s@<username>:<password>@USERNAME:PASSWORD@" /etc/yum.repos.d/edb.repo
    ```

-   Before installing Advanced Server, you must install the `epel-release` package:

    ```text
    # yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
    ```

-   Enable the repository:

    On RHEL 7, enable the `optional`, `extras`, and `HA` repositories to satisfy package dependencies:

    ```text
    subscription-manager repos --enable "rhel-*-optional-rpms" --enable "rhel-*-extras-rpms"  --enable "rhel-ha-for-rhel-*-server-rpms"
    ```

The repository configuration file is named `edb.repo`. The file resides in `/etc/yum.repos.d.`

After saving your changes to the configuration file, you can use `yum install` command to install Advanced Server. For example, to install the server and its core components, use the command:

-   On CentOS or RHEL 7 ppc64le:

    ```text
    yum -y install edb-as11-server
    ```

When you install an RPM package that is signed by a source that is not recognized by your system, `yum` may ask for your permission to import the key to your local server. If prompted, and you are satisfied that the packages come from a trustworthy source, enter a `y`, and press `Return` to continue.

After installing Advanced Server, you must configure the installation. For more information, see [Configuring a Package Installation](#configuring-a-package-installation).

!!! Note
    During the installation, `yum` may encounter a dependency that it cannot resolve. If it does, it will provide a list of the required dependencies that you must manually resolve.

### Advanced Server RPM Packages

The tables that follow list the RPM packages that are available from EnterpriseDB. You can also use the `yum search` or `dnf search` command to access a list of the packages that are currently available from your configured repository. Open a command line, assume superuser privileges, and enter:

On RHEL or CentOS 7:

```text
yum search <package>
```

On RHEL or CentOS 8:

```text
dnf search <package>
```

Where `package` is the search term that specifies the name (or partial name) of a package.

The repository search will return a list of available packages that include the specified search term.

Please note that the available package list is subject to change.

| Package Name                                                             | Package Installs                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| edb-as11-server                                                          | This package installs core components of the Advanced Server database server.                                                                                                                                                                                                                                                                                                                                                               |
| edb-as11-server-client                                                   | Contains client programs and utilities that you can use to access and manage Advanced Server.                                                                                                                                                                                                                                                                                                                                               |
| edb-as11-server-contrib                                                  | Installs contributed tools and utilities that are distributed with Advanced Server. Files for these modules are installed in:<br /><br />Documentation: `/usr/edb/as11/share/doc`<br /><br />Loadable modules: `/usr/edb/as11/lib`<br /><br />Binaries: `/usr/edb/as11/bin`                                                                                                                                                                 |
| edb-as11-server-core                                                     | Includes the programs needed to create the core functionality behind the Advanced Server database.                                                                                                                                                                                                                                                                                                                                          |
| edb-as11-server-devel                                                    | Contains the header files and libraries needed to compile C or C++ applications that directly interact with an Advanced Server server and the ecpg or ecpgPlus C preprocessor.                                                                                                                                                                                                                                                              |
| edb-as11-server-docs                                                     | Installs the readme file.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-as11-server-edb-modules                                              | Installs supporting modules for Advanced Server                                                                                                                                                                                                                                                                                                                                                                                             |
| edb-as11-server-indexadvisor                                             | Installs Advanced Server's Index Advisor feature. The Index Advisor utility helps determine which columns you should index to improve performance in a given workload.                                                                                                                                                                                                                                                                      |
| edb-as11-server-libs                                                     | Provides the essential shared libraries for any Advanced Server client program or interface.                                                                                                                                                                                                                                                                                                                                                |
| edb-as11-server-llvmjit                                                  | This package contains support for Just in Time (JIT) compiling parts of EDBAS queries.                                                                                                                                                                                                                                                                                                                                                      |
| edb-as11-server-pldebugger                                               | This package implements an API for debugging PL/pgSQL functions on Advanced Server.                                                                                                                                                                                                                                                                                                                                                         |
| edb-as11-server-plperl                                                   | Installs the PL/Perl procedural language for Advanced Server. Please note that the `edb-as11-server-plperl` package is dependent on the platform-supplied version of Perl.                                                                                                                                                                                                                                                                  |
| edb-as11-server-plpython <br /> edb-as11-server-plpython3 <br />         | Installs the PL/Python procedural language for Advanced Server. Please note that the `edb-as11-server-plpython` package is dependent on the platform-supplied version of Python. By default, the `edb-as11-server-plpython3` package is not installed; you need to explicitly install the package using `yum`. To install `edb-as11-server-plpython3` package, you must first uninstall the `plpython` platform-supplied version of Python. |
| edb-as11-server-pltcl                                                    | Installs the PL/Tcl procedural language for Advanced Server. Please note that the `edb-as11-pltcl` package is dependent on the platform-supplied version of TCL.                                                                                                                                                                                                                                                                            |
| edb-as11-server-sqlprofiler                                              | This package installs Advanced Server's SQL Profiler feature. SQL Profiler helps identify and optimize SQL code.                                                                                                                                                                                                                                                                                                                            |
| edb-as11-server-sqlprotect                                               | This package installs Advanced Server's SQL Protect feature. SQL Protect provides protection against SQL injection attacks.                                                                                                                                                                                                                                                                                                                 |
| edb-as11-server-sslutils                                                 | This package installs functionality that provides SSL support.                                                                                                                                                                                                                                                                                                                                                                              |
| edb-as11-server-cloneschema                                              | This package installs the EDB Clone Schema extension. For more information about EDB Clone Schema, see the EDB Postgres Advanced Server Guide.                                                                                                                                                                                                                                                                                              |
| edb-as11-server-parallel-clone                                           | This package installs functionality that supports the EDB Clone Schema extension.                                                                                                                                                                                                                                                                                                                                                           |
| edb-as11-pgagent                                                         | Installs pgAgent; pgAgent is a job scheduler for Advanced Server. Before installing this package, you must install EPEL; for detailed information about installing EPEL, see [Installation Troubleshooting](04_installing_troubleshooting/#installing_troubleshooting).                                                                                                                                                                     |
| edb-as11-edbplus                                                         | The `edb-edbplus` package contains the files required to install the EDB\*Plus command line client. EDB\*Plus commands are compatible with Oracle's SQL\*Plus.                                                                                                                                                                                                                                                                              |
| edb-as11-pgsnmpd                                                         | SNMP (Simple Network Management Protocol) is a protocol that allows you to supervise an apparatus connected to the network.                                                                                                                                                                                                                                                                                                                 |
| edb-as11-pljava                                                          | Installs PL/Java, providing access to Java stored procedures, triggers and functions via the JDBC interface.                                                                                                                                                                                                                                                                                                                                |
| edb-as11-pgpool37-extensions                                             | This package creates pgPool extensions required by the server for use with pgpool.                                                                                                                                                                                                                                                                                                                                                          |
| edb-as11-postgis                                                         | Installs POSTGIS meta RPMs.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| edb-as11-slony-replication                                               | Installs the meta RPM for Slony-I.                                                                                                                                                                                                                                                                                                                                                                                                          |
| edb-as11-slony-replication-core                                          | Slony-I builds a primary-standby system that includes all features and capabilities needed to replicate large databases to a reasonably limited number of standby systems.                                                                                                                                                                                                                                                                  |
| edb-as11-slony-replication-docs                                          | This package contains the Slony project documentation (in pdf form).                                                                                                                                                                                                                                                                                                                                                                        |
| edb-as11-slony-replication-tools                                         | This package contains the Slony altperl tools and utilities that are useful when deploying Slony replication environments. Before installing this package, you must install EPEL; for detailed information about installing EPEL, see [Installation Troubleshooting](04_installing_troubleshooting/#installing_troubleshooting).                                                                                                            |
| edb-as11-hdfs-fdw                                                        | The Hadoop Data Adapter allows you to query and join data from Hadoop environments with your Postgres or Advanced Server instances. It is YARN Ready certified with HortonWorks, and provides optimizations for performance with predicate pushdown support.                                                                                                                                                                                |               
| edb-as11-mongo-fdw                                                       | This EnterpriseDB Advanced Server extension implements a Foreign Data Wrapper for MongoDB.                                                                                                                                                                                                                                                                                                                                                  |
| edb-as11-mysql8_fdw <br /> edb-as11-mysql5_fdw                           | This EnterpriseDB Advanced Server extension implements a Foreign Data Wrapper for MySQL.                                                                                                                                                                                                                                                                                                                                                    |
| edb-as11-libicu                                                          | These packages contain supporting library files.                                                                                                                                                                                                                                                                                                                                                                                            |

The following table lists the packages for Advanced Server 11 supporting components.

| Package Name                                               | Package Installs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ---------------------------------------------------------  | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| edb-pgpool37                                               | This package contains the pgPool-II installer. pgPool provides connection pooling for Advanced Server installations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| edb-jdbc                                                   | The `edb-jdbc` package includes the .jar files needed for Java programs to access an Advanced Server database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-migrationtoolkit                                       | The `edb-migrationtoolkit` package installs Migration Toolkit, facilitating migration to an Advanced Server database from Oracle, PostgreSQL, MySQL, Sybase and SQL Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| edb-oci                                                    | The `edb-oci` package installs the EnterpriseDB Open Client library, allowing applications that use the Oracle Call Interface API to connect to an Advanced Server database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| edb-oci-devel                                              | This package installs the OCI include files; install this package if you are developing C/C++ applications that require these files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| edb-odbc                                                   | This package installs the driver needed for applications to access an Advanced Server system via ODBC.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| edb-odbc-devel                                             | This package installs the ODBC include files; install this package if you are developing C/C++ applications that require these files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| edb-pgbouncer9                                             | This package contains PgBouncer (a lightweight connection pooler). This package requires the libevent package.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ppas-xdb                                                   | This package contains the xDB installer; xDB provides asynchronous cross-database replication.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ppas-xdb-console                                           | This package provides support for xDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ppas-xdb-libs                                              | This package provides support for xDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ppas-xdb-publisher                                         | This package provides support for xDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ppas-xdb-subscriber                                        | This package provides support for xDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| edb-pem                                                    | The `edb-pem` package installs Management Tool that efficiently manages, monitor, and tune large Postgres deployments from a single remote GUI console.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| edb-pem-agent                                              | This package is an agent component of Postgres Enterprise Manager.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| edb-pem-docs                                               | This package contains documentation for various languages, which are in HTML format.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| edb-pem-server                                             | This package contains server components of Postgres Enterprise Manager.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| edb-efm41 <br /> edb-efm40 <br /> edb-efm39                | This package installs EDB Failover Manager that adds fault tolerance to database clusters to minimize downtime when a primary database fails by keeping data online in high availability configurations                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| edb-bart                                                   | This package installs the Backup and Recovery Tool (BART) to support online backup and recovery across local and remote PostgreSQL and EDB Advanced Servers.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| libevent-edb <br /> libiconv-edb <br /> libevent-edb-devel | These package contains supporting library files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

### Updating an RPM Installation

If you have an existing Advanced Server RPM installation, you can use `yum` or `dnf` to upgrade your repository configuration file and update to a more recent product version. To update the `edb.repo` file, assume superuser privileges and enter:

-   On RHEL or CentOS 7:

    ```text
    yum upgrade edb-repo
    ```

-   On RHEL or CentOS 8:

    ```text
    dnf upgrade edb-repo
    ```

`yum` or `dnf` will update the `edb.repo` file to enable access to the current EDB repository, configured to connect with the credentials specified in your `edb.repo` file. Then, you can use `yum` or `dnf` to upgrade all packages whose names include the expression `edb`:

-   On RHEL or CentOS 7:

    ```text
    yum upgrade edb*
    ```

-   On RHEL or CentOS 8:

    ```text
    dnf upgrade edb*
    ```

!!! Note
    The `yum upgrade` or `dnf upgrade` command will only perform an update between minor releases; to update between major releases, you must use `pg_upgrade`.

For more information about using yum commands and options, enter `yum --help` on your command line.

For more information about using `dnf` commands and options, visit:

<https://docs.fedoraproject.org/en-US/quick-docs/dnf/>


## Installing Advanced Server on a SLES Host

You must have credentials that allow access to the EnterpriseDB repository to install Advanced Server on a SLES host. To request credentials for the repository, visit:

<https://www.enterprisedb.com/repository-access-request>

You can use the zypper package manager to install Advanced Server or Advanced Server supporting components on an SLES host. zypper will attempt to satisfy package dependencies as it installs a package, but some components require access to specific repositories that are not hosted at EnterpriseDB.

To add Advanced Server or supporting components, use the following commands to add EnterpriseDB repository configuration files to your SLES host:

 ```text
    zypper addrepo https://zypp.enterprisedb.com/suse/epas11-sles.repo
    zypper addrepo https://zypp.enterprisedb.com/suse/epas-slestools.repo
    zypper addrepo https://zypp.enterprisedb.com/suse/epas-slesdependencies.repo
 ```

Each command creates a repository configuration file in the `/etc/zypp/repos.d` directory. The files are named:

- `edbas11suse.repo`
- `edbasdependencies.repo`
- `edbastools.repo`

After creating the repository configuration files, use the `zypper refresh` command to refresh the metadata on your SLES host to include the EnterpriseDB repositories.

 ```text
    /etc/zypp/repos.d # zypper refresh
 ```

When prompted for a `User Name` and `Password`, provide your connection credentials for the EnterpriseDB repository. If you need credentials, contact EnterpriseDB at:

<https://www.enterprisedb.com/general-inquiry-form>

**Before installing EDB Postgres Advanced Server or supporting components, you must:**

-  Install the SUSEConnect to register the host with SUSE, allowing access to SUSE repositories using the following command:

   ```text
   zypper install SUSEConnect
   ```

-  Add SUSE Package Hub extension and sle-sdk extension to the SLES host using the following commands:

   ```text
SUSEConnect -p PackageHub/12/x86_64
   SUSEConnect -p sle-sdk/12/x86_64
   ```

For detailed information about registering a SUSE host, visit:

<https://www.suse.com/support/kb/doc/?id=7016626>

The following sections provide information about the specific repositories that are not hosted by EnterpriseDB, but that provide software that satisfies dependencies for each listed component. Please note that after adding repository access, you should use the `zypper refresh` command to process the repository content:

   ```text
   zypper refresh
   ```

Please note that only OpenJDK (version 1.8) is supported on SLES hosts of Java components. Before using an RPM package to add Advanced Server or a supporting component that requires Java, use zypper to add supporting repository locations to your system.

**Use the commands:**

```text
zypper addrepo http://download.opensuse.org/repositories/Java:/Factory/SLE_12_SP 2/Java:Factory.repo

zypper refresh
```

Then, to install the server and its core components, invoke the command:

```text
zypper install edb-as11
```

To add Advanced Server, use the following command to add EnterpriseDB repository configuration files to your SLES host:

```text
zypper addrepo https://zypp.enterprisedb.com/suse/edb-sles.repo
```

A repository configuration file is created named `edb.repo` in the `/etc/zypp/repos.d` directory. 

After creating the repository configuration files, use the `zypper refresh` command to refresh the metadata on your SLES host to include the EnterpriseDB repositories.

To install Advanced Server:

```text
zypper -n install edb-as11-server
```

Then initialize the database cluster:

```text
PGSETUP_INITDB_OPTIONS="-E UTF-8" /usr/edb/as11/bin/edb-as-11-setup initdb
```

Start the database server:

```text
systemctl start edb-as-11
```

Connect to the database server:

```text
sudo su – enterprisedb
```

The following sections provide information about the supporting components. You must use the `zypper refresh` command to process the repository content.

**Java Components:**

The OpenJDK (version 1.8) is supported on SLES host for Java components. Before installing Advanced Server or a supporting component that requires Java, you must install OpenJDK (version 1.8).

```text
zypper -n install java-1_8_0-openjdk
```

Then:

```text
zypper refresh
```

Install the server:

```text
zypper -n install edb-as11-server
```

**Slony:**

If you are using a package to add Slony to a SLES host, please note that you must add access to the Perl repository:

For SLES 12 SP2:

```text
zypper addrepo http://download.opensuse.org/repositories/devel:languages:perl/SL E_12_SP2/devel:languages:perl.repo
```

For SLES 12 SP3:

```text
zypper addrepo http://download.opensuse.org/repositories/devel:languages:perl/SL E_12_SP3/devel:languages:perl.repo
```

Then:

```text
zypper refresh
```

PostGIS:

When using an RPM package to add PostGIS to a SLES host, you must add the following repository:

```text
zypper addrepo "http://download.opensuse.org/repositories/server:/Kolab:/3.3/SLE _12/server:Kolab:3.3.repo"
```

Then:

**BART:**

When installing BART on a SLES host, you must add the repository configuration file using the following command:

```text
zypper addrepo https://zypp.enterprisedb.com/suse/edb-sles.repo
```

Then:

```text
zypper refresh
```

**pgAgent:**

When adding the pgAgent packages to a SLES host, you must add access to the wxWidgets repository:

For SLES 12 SP2:

```text
SUSEConnect –p sle-module-legacy/12/x86_64
SUSEConnect –p sle-sdk/12/x86_64
zypper addrepo http://download.opensuse.org/repositories/X11:/wxWidgets/SLE_12_S P2/X11:wxWidgets.repo
```

For SLES 12 SP3:

```text
SUSEConnect –p sle-module-legacy/12/x86_64
SUSEConnect –p sle-sdk/12/x86_64
zypper addrepo http://download.opensuse.org/repositories/X11:/wxWidgets/SLE_12_S P3/X11:wxWidgets.repo
```

Then:

```text
zypper refresh
```

**PEM Server and PEM Agent:**

When adding the PEM Server and PEM Agent to a SLES host, you must add access to the wxWidgets repository:

For SLES 12 SP2:

```text
SUSEConnect -p sle-module-legacy/12/x86_64
SUSEConnect -p sle-sdk/12/x86_64
zypper addrepo https://download.opensuse.org/repositories/Apache:Modules/SLE_12_ SP2/Apache:Modules.repo
zypper addrepo http://download.opensuse.org/repositories/Cloud:/OpenStack:/Newto n:/cisco-apic:/2.3.1/SLE_12_SP2/ pem_opensuse_boost
```

For SLES 12 SP3:

```text
SUSEConnect -p sle-module-legacy/12/x86_64 SUSEConnect -p sle-sdk/12/x86_64
zypper addrepo https://download.opensuse.org/repositories/Apache:Modules/SLE_12_ SP3/Apache:Modules.repo
zypper addrepo http://download.opensuse.org/repositories/Cloud:/OpenStack:/Newto n:/cisco-apic:/2.3.1/SLE_12_SP3/ pem_opensuse_boost
```

Then:

```text
zypper refresh
zypper install edb-pem-server
```

The PEM server installer includes a script (configure-pem-server.sh) to help automate the configuration process for RPM installations. The script is installed in the `/usr/edb/pem/bin directory`. To invoke the script, use the command:

```text
/usr/edb/pem/bin/configure-pem-server.sh
```

**BART:**

When installing BART on a SLES host, you must add the SUSE SDK as well as the Archiving repository:

```text
SUSEConnect –p sle-sdk/12/x86_64
zypper addrepo https://download.opensuse.org/repositories/Archiving/SLE_12_SP3/A rchiving.repo
```

Then:

```text
zypper refresh
```

**LLVM JIT:**

When installing LLVM JIT on a SLES host, you must add the following repository to your system:

```text
zypper addrepo https://download.opensuse.org/repositories/devel:/tools:/compiler /SLE_12_SP3/devel:tools:compiler.repo
```

Then:

```text
zypper refresh
```

## Updating Components on a SLES Host:

To update components installed with zypper, use the `zypper update` command.


## Installing Advanced Server on a Debian or Ubuntu Host

To install Advanced Server on a Debian or Ubuntu host, you must have credentials that allow access to the EnterpriseDB repository. To request credentials for the repository, visit:

<https://www.enterprisedb.com/repository-access-request>

The following steps will walk you through using the EnterpriseDB apt repository to install a debian package. When using the commands, replace the `username` and `password` with the credentials provided by EnterpriseDB.

-   Assume superuser privileges:

    ```text
    sudo su –
    ```

-   Configure the EnterpriseDB repository and replace the `username` and `password` placeholders in the following command:

    On Debian 9:

    ```text
    sh -c 'echo "deb https://username:password@apt.enterprisedb.com/$(lsb_release -cs)-edb/ $(lsb_release -cs) main" > /etc/apt/sources.list.d/edb-$(lsb_release -cs).list'
    ```

    On Ubuntu 18:

    a.  Set up the EnterpriseDB repository:

    ```text
    sh -c 'echo "deb [arch=amd64] https://apt.enterprisedb.com/$(lsb_release -cs)-edb/ $(lsb_release -cs) main" > /etc/apt/sources.list.d/edb-$(lsb_release -cs).list'
    ```

    b.  Substitute your EnterpriseDB credentials for the `username` and `password` placeholders in the following command:

    ```text
    sh -c 'echo "machine apt.enterprisedb.com login <USERNAME> password <PASSWORD>" > /etc/apt/auth.conf.d/edb.conf'
    ```

-   Add support to your system for secure APT repositories:

    ```text
    apt-get -y install apt-transport-https
    ```

-   Add the EDB signing key:

    ```text
    wget -q -O - https://apt.enterprisedb.com/edb-deb.gpg.key  | sudo apt-key add -
    ```

-   Update the repository metadata:

    ```text
    apt-get update
    ```

-   Install Debian package:

    ```text
    apt-get –y install edb-as11-server
    ```

!!! Note
     The OpenJDK version 10 is supported on a Debian or Ubuntu host of Java components. Before using a debian package to add Advanced Server or a supporting component such as MTK or EDB\*Plus that requires Java, make sure to install Java version 8 on your system to support EDB Java-based components.

The Debian package manager places Advanced Server and supporting components in the directories listed in the following table:

| Component                        | Location                                                                                |
| -------------------------------- | --------------------------------------------------------------------------------------- |
| Server                           | `/usr/lib/edb-as/11/`                                                                   |
| Data and Configuration Directory | `/var/lib/edb-as/11/main`<br /><br />`/etc/edb-as/11/main/`                             |
| pgAgent                          | `/usr/lib/edb-as/11`                                                                    |
| Pgpool                           | `/usr/edb/pgpool4.0/`                                                                   |
| Postgis                          | `/usr/lib/edb-as/11/`                                                                   |
| PGSNMPD                          | `/usr/lib/edb-as/11`                                                                    |
| Slony Replication                | `/usr/lib/edb-as/11`                                                                    |
| pgBouncer                        | `/usr/edb/pgbouncer1.14/`                                                               |
| pgBouncer Configuration Files    | `/etc/edb/pgbouncer1.14/pgbouncer.ini`<br /><br />`/etc/edb/pgbouncer1.14/userlist.txt` |
| SQL-Profiler                     | `/usr/lib/edb-as/11/lib`                                                                |
| SQL-Protect                      | `/usr/lib/edb-as/11/lib`                                                                |
| SSLUTILS                         | `/usr/lib/edb-as/11/lib`                                                                |
| PL-PERL                          | `/usr/lib/edb-as/11/lib`                                                                |
| PL-PYTHON                        | `/usr/lib/edb-as/11/lib`                                                                |
| PLTCL                            | `/usr/lib/edb-as/11/lib`                                                                |
| EFM                              | `/usr/edb/efm-4.0/`                                                                     |
| JDBC                             | `/usr/edb/jdbc`                                                                         |
| MTK                              | `/usr/edb/migrationtoolkit/`                                                            |

### Advanced Server Debian Packages

The table that follows lists some of the Debian packages that are available from EnterpriseDB. You can also use the `apt list` command to access a list of the packages that are currently available from your configured repository. Open a command line, assume superuser privileges, and enter:

```text
apt list edb*
```

Please note: The available package list is subject to change.

| Package Name                                                             | Package Installs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| edb-as11-server                                                          | Installs core components of the Advanced Server database server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| edb-as11-server-client                                                   | Includes client programs and utilities that you can use to access and manage Advanced Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| edb-as11-server-core                                                     | Includes the programs needed to create the core functionality behind the Advanced Server database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| edb-as11-server-dev                                                      | The `edb-as11-server-dev` package contains the header files and libraries needed to compile C or C++ applications that directly interact with an Advanced Server server and the ecpg or ecpgPlus C preprocessor.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| edb-as11-server-doc                                                      | Installs the readme file.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| edb-as11-server-edb-modules                                              | Installs supporting modules for Advanced Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| edb-as11-server-indexadvisor                                             | Installs Advanced Server's Index Advisor feature. The Index Advisor utility helps determine which columns you should index to improve performance in a given workload.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| edb-as11-server-pldebugger                                               | This package implements an API for debugging PL/pgSQL functions on Advanced Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| edb-as11-server-plpython <br /> edb-as11-server-plpython3 <br />         | Installs the PL/Python procedural language for Advanced Server. Please note that the `edb-as11-server-plpython` package is dependent on the platform-supplied version of Python. By default, the `edb-as11-server-plpython3` package is not installed; you need to explicitly install the package using `apt`. To install `edb-as11-server-plpython3` package, you must first uninstall the `plpython` platform-supplied version of Python.                                                                                                                                                                                                      |
| edb-as11-server-pltcl                                                    | Installs the PL/Tcl procedural language for Advanced Server. Please note that the `edb-as11-pltcl` package is dependent on the platform-supplied version of TCL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| edb-as11-server-sqlprofiler                                              | This package installs Advanced Server's SQL Profiler feature. SQL Profiler helps identify and optimize SQL code.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| edb-as11-server-sqlprotect                                               | This package installs Advanced Server's SQL Protect feature. SQL Protect provides protection against SQL injection attacks.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| edb-as11-server-sslutils                                                 | This package installs functionality that provides SSL support.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-as11-server-cloneschema                                              | This package installs the EDB Clone Schema extension. For more information about EDB Clone Schema, see the EDB Postgres Advanced Server Guide.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-as11-server-parallel-clone                                           | This package installs functionality that supports the EDB Clone Schema extension.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| edb-as11-edbplus                                                         | The `edb-edbplus` package contains the files required to install the EDB\*Plus command line client. EDB\*Plus commands are compatible with Oracle's SQL\*Plus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-as11-pgsnmpd                                                         | SNMP (Simple Network Management Protocol) is a protocol that allows you to supervise an apparatus connected to the network.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| edb-as11-pljava                                                          | This package installs PL/Java, providing access to Java stored procedures, triggers and functions via the JDBC interface.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| edb-as11-pgadmin4                                                        | pgAdmin 4 provides a graphical management interface for Advanced Server and PostgreSQL databases.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| edb-pgadmin-apache                                                       | Apache support module for pgAdmin 4.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| edb-pgadmin4-common                                                      | pgAdmin 4 supporting files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| edb-pgadmin4-doc                                                         | pgAdmin 4 documentation module.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| edb-as11-pgpool37-extensions                                             | This package creates pgPool extensions required by the server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-as11-postgis-2.5                                                     | This package installs POSTGIS support for geospatial data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-postgis-2.5-scripts                                             | This package installs POSTGIS support for geospatial data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-postgis-doc-2.5                                                 | This package provides support for POSTGIS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-postgis-gui-2.5                                                 | This package provides a GUI for POSTGIS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| edb-as11-postgis-jdbc                                                    | This package provides support for POSTGIS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-postgis-scripts                                                 | This package provides support for POSTGIS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-pgagent                                                         | This package installs pgAgent; pgAgent is a job scheduler for Advanced Server. Before installing this package, you must install EPEL; for detailed information about installing EPEL, see [Installation Troubleshooting](04_installing_troubleshooting/#installing_troubleshooting).                                                                                                                                                                                                                                                                                                                                                             |
| edb-as11-slony-replication                                               | This package installs the meta RPM for Slony-I.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| edb-as11-slony-replication-core                                          | This package contains core portions of Slony-I to build a primary-standby system that includes all features and capabilities needed to replicate large databases to a reasonably limited number of standby systems.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| edb-as11-slony-replication-docs                                          | This package contains the Slony project documentation (in pdf form).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| edb-as11-slony-replication-tools                                         | This package contains the Slony altperl tools and utilities that are useful when deploying Slony replication environments. Before installing this package, you must install EPEL; for detailed information about installing EPEL, see [Installation Troubleshooting](04_installing_troubleshooting/#installing_troubleshooting).                                                                                                                                                                                                                                                                                                                 |
| edb-as11-hdfs-fdw                                                        | The Hadoop Data Adapter allows you to query and join data from Hadoop environments with your Postgres or Advanced Server instances. It is YARN Ready certified with HortonWorks, and provides optimizations for performance with predicate pushdown support.                                                                                                                                                                                                                                                                                                                                                                                     |
| edb-as11-hdfs-fdw-doc                                                    | Documentation for the Hadoop Data Adapter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-mongo-fdw                                                       | This EnterpriseDB Advanced Server extension implements a Foreign Data Wrapper for MongoDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| edb-as11-mongo-fdw-doc                                                   | Documentation for the Foreign Data Wrapper for MongoDB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| edb-as11-mysql-fdw                                                       | This EnterpriseDB Advanced Server extension implements a Foreign Data Wrapper for MySQL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| edb-pgpool37                                                             | This package contains the pgPool-II installer. pgpool-II provides connection pooling for Advanced Server installations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| edb-jdbc                                                                 | The `edb-jdbc` package includes the .jar files needed for Java programs to access an Advanced Server database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-migrationtoolkit                                                     | The `edb-migrationtoolkit` package installs Migration Toolkit, facilitating migration to an Advanced Server database from Oracle, PostgreSQL, MySQL, Sybase and SQL Server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| edb-pgbouncer19                                                          | This package contains PgBouncer (a lightweight connection pooler). This package requires the libevent package.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| edb-efm41 <br /> edb-efm40 <br /> edb-efm39                              | This package installs EnterpriseDB Failover Manager that adds fault tolerance to database clusters to minimize downtime when a primary database fails by keeping data online in high availability configurations.                                                                                                                                                                                                                                                                                                                                                                                                                                |

<div id="configuring_a_package_installation" class="registered_link"></div>

## Configuring a Package Installation

The packages that install the database server component create a unit file (on version 7.x or 8.x hosts) and service startup scripts.

### Creating a Database Cluster and Starting the Service

The PostgreSQL `initdb` command creates a database cluster; when installing Advanced Server with an RPM package, the `initdb` executable is in `/usr/edb/asx.x/bin`. After installing Advanced Server, you must manually configure the service and invoke `initdb` to create your cluster. When invoking `initdb`, you can:

-   Specify environment options on the command line.
-   Include the `systemd` service manager on RHEL or CentOS 7.x | 8.x and use a service configuration file to configure the environment.

To review the `initdb` documentation, visit:

<https://www.postgresql.org/docs/11/static/app-initdb.html>

After specifying any options in the service configuration file, you can create the database cluster and start the service; these steps are platform specific.

**On RHEL or CentOS 7.x | 8.x**

To invoke `initdb` on a RHEL or CentOS 7.x | 8.x system, with the options specified in the service configuration file, assume the identity of the operating system superuser:

```text
su - root
```

To initialize a cluster with the non-default values, you can use the `PGSETUP_INITDB_OPTIONS` environment variable by invoking the `edb-as-11-setup` cluster initialization script that resides under `EPAS_Home/bin`.

To invoke `initdb` export the `PGSETUP_INITDB_OPTIONS` environment variable with the following command:

```text
PGSETUP_INITDB_OPTIONS="-E UTF-8" /usr/edb/as11/bin/edb-as-11-setup initdb
```

After creating the cluster, use `systemctl` to start, stop, or restart the service:

```text
systemctl { start | stop | restart } edb-as-11
```

**On Debian 9.x | 10.x or Ubuntu 18.04**

You can initialize multiple clusters using the bundled scripts. To create a new cluster, assume `root` privileges, and invoke the bundled script:

```text
/usr/bin/epas_createcluster 11 main2
```

To start a new cluster, use the following command:

```text
/usr/bin/epas_ctlcluster 11 main2 start  
```

To list all the available clusters, use the following command:

```text
/usr/bin/epas_lsclusters
```

!!! Note
    The data directory is created under `/var/lib/edb-as/11/main2` and configuration directory is created under `/etc/edb-as/11/main/`.

<div id="specifying_cluster_options_with_initdbopts" class="registered_link"></div>

#### Specifying Cluster Options with INITDBOPTS

You can use the `INITDBOPTS` variable to specify your cluster configuration preferences. By default, the `INITDBOPTS` variable is commented out in the service configuration file; unless modified, when you run the service startup script, the new cluster will be created in a mode compatible with Oracle databases. Clusters created in this mode will contain a database named `edb`, and have a database superuser named `enterprisedb`.

To create a new cluster in PostgreSQL mode, remove the pound sign (#) in front of the `INITDBOPTS` variable, enabling the `--no-redwood-compat` option. Clusters created in PostgreSQL mode will contain a database named `postgres`, and have a database superuser named `postgres`.

You may also specify multiple `initdb` options. For example, the following statement:

`INITDBOPTS="--no-redwood-compat -U alice --locale=en_US.UTF-8"`

Creates a database cluster (without compatibility features for Oracle) that contains a database named `postgres` that is owned by a user named `alice`; the cluster uses `UTF- 8` encoding.

In addition to the cluster configuration options documented in the PostgreSQL core documentation, Advanced Server supports the following `initdb` options:

`--no-redwood-compat`

Include the `--no-redwood-compat` keywords to instruct the server to create the cluster in PostgreSQL mode. When the cluster is created in PostgreSQL mode, the name of the database superuser will be `postgres`, the name of the default database will be `postgres`, and Advanced Server’s features compatible with Oracle databases will not be available to the cluster.

`--redwood-like`

Include the `--redwood-like` keywords to instruct the server to use an escape character (an empty string ('')) following the `LIKE` (or PostgreSQL-compatible `ILIKE`) operator in a SQL statement that is compatible with Oracle syntax.

`--icu-short-form`

Include the `--icu-short-form` keywords to create a cluster that uses a default ICU (International Components for Unicode) collation for all databases in the cluster. For more information about Unicode collations, refer to the *EDB Postgres Advanced Server Guide* available at:

[https://www.enterprisedb.com/docs](/epas/latest/)

For more information about using `initdb`, and the available cluster configuration options, see the PostgreSQL Core Documentation available at:

<https://www.postgresql.org/docs/11/static/app-initdb.html>

You can also view online help for `initdb` by assuming superuser privileges and entering:

```text
/path_to_initdb_installation_directory/initdb --help
```

Where `path_to_initdb_installation_directory` specifies the location of the `initdb` binary file.

### Modifying the Data Directory Location on CentOS or Redhat 7.x | 8.x

On a CentOS or RedHat version 7.x | 8.x host, the unit file is named `edb-as-11.service` and resides in `/usr/lib/systemd/system`. The unit file contains references to the location of the Advanced Server `data` directory. You should avoid making any modifications directly to the unit file because it may be overwritten during package upgrades.

By default, data files reside under `/var/lib/edb/as11/data` directory. To use a data directory that resides in a non-default location, perform the following steps:

-   Create a copy of the unit file under the `/etc` directory:

    ```text
    cp /usr/lib/systemd/system/edb-as-11.service /etc/systemd/system/
    ```

-   After copying the unit file to the new location, create the service file `/etc/systemd/system/edb-as-11.service` and include `/lib/systemd/system/edb-as-11.service` within the file.

-   Use the following command to reload `systemd`, updating the modified service scripts:

    ```text
    systemctl daemon-reload
    ```

-   Start the Advanced Server service with the following command:

    ```text
    systemctl start edb-as-11
    ```

## Starting Multiple Postmasters with Different Clusters

You can configure Advanced Server to use multiple postmasters, each with its own database cluster. The steps required are version specific to the Linux host.

**On RHEL or CentOS 7.x | 8.x**

The `edb-as11-server-core` RPM for version 7.x | 8.x contains a unit file that starts the Advanced Server instance. The file allows you to start multiple services, with unique `data` directories and that monitor different ports. You must have `root` access to invoke or modify the script.

The example that follows creates an Advanced Server installation with two instances; the secondary instance is named `secondary`:

-   Make a copy of the default file with the new name. As noted at the top of the file, all modifications must reside under `/etc`. You must pick a name that is not already used in `/etc/systemd/system`.

    ```text
    cp /usr/lib/systemd/system/edb-as-11.service /etc/systemd/system/secondary-edb-as-11.service
    ```

-   Edit the file, changing `PGDATA` to point to the new `data` directory that you will create the cluster against.

-   Create the target `PGDATA` with user `enterprisedb`.

-   Run `initdb`, specifying the setup script:

    ```text
    /usr/edb/as11/bin/edb-as-11-setup initdb secondary-edb-as-11
    ```

-   Edit the `postgresql.conf` file for the new instance, specifying the port, the IP address, TCP/IP settings, etc.

-   Make sure that new cluster runs after a reboot:

    ```text
    systemctl enable secondary-edb-as-11
    ```

-   Start the second cluster with the following command:

    ```text
    systemctl start secondary-edb-as-11
    ```

## Creating an Advanced Server Repository on an Isolated Network

You can create a local repository to act as a host for the Advanced Server RPM packages if the server on which you wish to install Advanced Server (or supporting components) cannot directly access the EnterpriseDB repository. Please note that this is a high-level listing of the steps requires; you will need to modify the process for your individual network.

To create and use a local repository, you must:

-   Use `yum` or `dnf` to install the `epel-release`, `yum-utils`, and `createrepo` packages.

    On RHEL or CentOS 7.x:

    ```bash
    yum install epel-release
    yum install yum-utils
    yum install createrepo
    ```

    On RHEL or CentOS 8.x:

    ```bash
    dnf install epel-release
    dnf install yum-utils
    dnf install createrepo
    ```

-   Create a directory in which to store the repository:

    ```text
    mkdir /srv/repos
    ```

-   Copy the RPM installation packages to your local repository. You can download the individual packages or use a tarball to populate the repository. The packages are available from the EnterpriseDB repository at <https://repos.enterprisedb.com/>.

-   Sync the RPM packages and create the repository.

    ```text
    reposync -r edbas11 -p /srv/repos
    createrepo /srv/repos
    ```

-   Install your preferred webserver on the host that will act as your local repository, and ensure that the repository directory is accessible to the other servers on your network.

-   On each isolated database server, configure `yum` or `dnf` to pull updates from the mirrored repository on your local network. For example, you might create a repository configuration file called `/etc/yum.repos.d/edb-repo` with connection information that specifies:

    ```text
    [edbas11]
    name=EnterpriseDB Advanced Server 11
    baseurl=https://yum.your_domain.com/edbas11
    enabled=1
    gpgcheck=0
    ```

After specifying the location and connection information for your local repository, you can use `yum` or `dnf` commands to install Advanced Server and its supporting components on the isolated servers. For example:

-   On RHEL or CentOS 7:

    ```text
    yum -y install edb-as11-server
    ```

-   On RHEL or CentOS 8:

    ```text
    dnf -y install edb-as11-server
    ```

For more information about creating a local `yum` repository, visit:

<https://wiki.centos.org/HowTos/CreateLocalRepos>
