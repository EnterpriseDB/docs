---
title: "Upgrading a TDE-enabled database"
navTitle: Upgrading
description: Learn how you can use pg_upgrade to upgrade or migrate TDE databases.
redirects:
  - /tde/latest/upgrade_use_cases/ #generated for TDE/refresh
---

You can use [pg_upgrade](https://www.postgresql.org/docs/current/pgupgrade.html) with additional TDE arguments to perform upgrading and migrating operations.

This table provides an overview of supported use cases.

| Use case                                                      | Source unencrypted server                     | Target encrypted server                                            |
|---------------------------------------------------------------|-----------------------------------------------|--------------------------------------------------------------------|
| Perform a minor upgrade and add encryption                    | Unencrypted EDB Postgres Extended Server 16.1 | Encrypted EDB Postgres Extended Server 16.2                        |
| Change the Postgres distribution and add encryption           | Unencrypted PostgreSQL 16                     | Encrypted EDB Postgres Advanced Server 16                          |
| Maintain the Postgres distribution and add encryption         | Unencrypted EDB Postgres Advanced Server 15   | Encrypted EDB Postgres Advanced Server 15                          |
| Maintain the Postgres distribution and rotate encryption keys | Encrypted EDB Postgres Advanced Server 15     | Encrypted EDB Postgres Advanced Server 15 with new encryption keys |

!!! Important
    Both source and target servers must be in the same Postgres major version. pg_upgrade only supports upgrades between minor versions.

## Tutorials 

See [Tutorials](enabling) for a list of step-by-step tutorials that highlight different migration scenarios.