---
# IMPORTANT: Do not edit this file directly - it is generated from yaml source.
title: EDB Postgres Distributed 5.9.0 release notes
navTitle: Version 5.9.0
originalFilePath: product_docs/docs/pgd/5.9/rel_notes/src/relnote_5.9.0.yml
editTarget: originalFilePath
---

Released: 19 August 2025

This is a minor release of PGD 5, which includes several enhancements and bug fixes. This version is also a prerequisite for seamless upgrades to PGD 6.1.0, and it has been updated to include key infrastructure, such as a back-ported Connection Manager, to ensure a smooth transition to the latest major version.

## Highlights

- This is the first PGD 5 version to support a direct, in-place upgrade to PGD 6, beginning with PGD 6.1.0
- New Detach Partition function for PGD AutoPartition
- Support EDB Postgres Advanced Server (EPAS) Interval Partitioning

## Features

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>New drop_after_retention_period argument added to the bdr.autopartition function</summary><hr/><p>bdr.autopartition() now takes an additional boolean argument drop_after_retention_period which can be set to false if the user does not want the partition to be dropped, but only detached.</p>
</details></td><td></td></tr>
</tbody></table>


## Enhancements

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Improve Raft snapshot export/import to reset Raft completely</summary><hr/><p>We've made improvements to how our Raft consensus mechanism handles snapshots. This ensures that in the rare event of a data consistency issue, restoring a snapshot will now fully reset the system's state, allowing operations to resume smoothly from a consistent starting point.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>EPAS Interval Partition Support for PGD</summary><hr/><p>A new enhancement allows partitions created by EDB Postgres Advanced Server (EPAS) AutoPartition to work correctly within a multi-node PGD environment. This fix ensures partitions are created consistently on each node and are visible across all nodes.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Connection Manager Back-Port for PGD 5.9</summary><hr/><p>To streamline the upgrade process, the Connection Manager has been back-ported to PGD 5.9 as an optional feature that's disabled by default. This change allows for seamless upgrades to PGD 6 by having the necessary infrastructure in place. It also gives you the opportunity to test the Connection Manager in non-production environments before a full production upgrade.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Enable proxy routing by default for subgroups</summary><hr/><p>Subgroups have proxy routing enabled by default from 5.9.0 however it doesn't impact the existing behavior of subgroups and how to connect to the nodes without proxy.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Synchronize roles and tablespaces during logical join</summary><hr/><p>Roles and tablespaces are now synchronized before the schema is restored from the join source node.
If there are already existing roles or tablespaces (or EPAS profiles), they will be updated to have
the same settings, passwords etc. as the ones from the join source node.
System roles (i.e. the ones created by initdb) are not synchronized.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Replication of roles to witness nodes</summary><hr/><p>Roles are now replicated to witness nodes at node join. Roles also get replicated to witness nodes during normal operation of the cluster.</p>
</details></td><td></td></tr>
</tbody></table>


## Bug Fixes

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Fix for PGD node upgrade fails with 'function max(pg_lsn) does not exist'</summary><hr/><p>We've resolved a bug that could cause a PGD node upgrade to fail with the error 'function max(pg_lsn) does not exist'.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Fix for Subscription Key Errors During Node Sync</summary><hr/><p>A fix has been implemented to resolve an issue that caused duplicate key value violates unique constraint &quot;subscription_pkey&quot; errors during node resynchronization. To ensure unique names and prevent manager crashes, subscription names now include the source node name, which provides a more robust and reliable resynchronization process.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.9.0</td><td><details><summary>PGD CLI cluster verify Command Fix for Witness-Only Groups</summary><hr/><p>The pgd cluster verify command no longer displays a warning for witness-only groups that do not contain data nodes. This resolves an issue where the command incorrectly flagged these groups, ensuring that the verification output is now accurate for all cluster types.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Raft Fix for Parting Lagging Nodes</summary><hr/><p>Raft no longer fails to recover after a heavily-lagging node that was previously a leader is parted from the cluster. This fixes a bug where the Raft leader could crash with a &quot;BDR node XXX not found&quot; error, which previously required a manual, forceful reset of the Raft state. Now, Raft correctly handles this scenario and recovers automatically, ensuring cluster stability.</p>
</details></td><td>50099</td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Fix for &quot;Clock Has Moved Backwards&quot; Error with Snowflake Sequences</summary><hr/><p>A race condition has been fixed that could cause a &quot;clock has moved backwards&quot; error when using Snowflake sequences, even when the system clock was functioning correctly. This fix ensures the sequence correctly handles concurrent access, preventing this error and improving the reliability of Snowflake sequence generation.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Fix for <code>bdr_init_physical</code> Hangs with Synchronous Commit</summary><hr/><p>A bug has been fixed that could cause <code>bdr_init_physical</code> to hang when the upstream node had a synchronous commit scope. This issue, which prevented a new node from completing physical initialization, was caused by a specific interaction with synchronous commit settings. The fix ensures that <code>bdr_init_physical</code> now works reliably in all configurations, even before the new node joins the group and is considered for synchronous commits.</p>
</details></td><td>50599</td></tr>
<tr><td>BDR</td><td>5.9.0</td><td><details><summary>Fix a crash with pg_failover_slots</summary><hr/><p>Ensure that CDC hooks are no-op when recovery is in progress or the backend is not connected to a database. This can definitely happen if <code>pg_failover_slots</code> is active.</p>
</details></td><td></td></tr>
</tbody></table>


