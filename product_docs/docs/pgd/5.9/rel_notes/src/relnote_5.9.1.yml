# yaml-language-server: $schema=https://raw.githubusercontent.com/EnterpriseDB/docs/refs/heads/develop/tools/automation/generators/relgen/relnote-schema.json
product: EDB Postgres Distributed
version: 5.9.1
date: 5 December 2025
components:
  "BDR": 5.9.1
  "PGD CLI": 5.9.1
  "PGD Proxy": 5.9.1
  "Utilities": 5.9.1
intro: |
 This is a patch release of PGD 5, which includes several enhancements and bug fixes. 

relnotes:
- relnote: Added `Details` column to `cluster verify --verbose --arch` output.
  details: |
    The cluster verify command now includes a `Details` column in the architecture verification section when using the `--verbose` option. This column provides specific, detailed information about any issues encountered during the architecture check.
  component: PGD CLI
  jira:  BDR-6734
  addresses: ""
  type: Enhancement
  impact: Medium  

- relnote: Added the `-V, --version` flag to PGD Proxy.
  details: |
    Added the `-V, --version` flag to the `pgd-proxy` binary to verify the installed PGD Proxy version.
  component: PGD Proxy 
  jira:  BDR-7016
  addresses: "51980"
  type: Enhancement
  impact: Medium

- relnote: Added support for LDAP authentication to Connection Manager.
  details: |
    Connection Manager now supports the same LDAP authentication features as PostgreSQL, with the exception that OpenLDAP configuration files and environment variables are not supported.
  component: BDR
  jira:  BDR-6732
  addresses: ""
  type: Feature
  impact: Medium

- relnote: Fixed an issue whereby a connection is silently dropped in the Connection Manager.
  details: |
    The fix improves the handling of authentication failures in the Connection Manager.
  component: BDR  
  jira:  BDR-7169
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed an issue whereby Connection Manager crashed when full hostname is used in the `pg_hba.conf` `address` field.
  details: |
    The fix also corrects the handling of hostname suffixes. Since hostname matching is not supported by the Connection Manager, HBA rules using hostnames or hostname suffixes are now correctly ignored by the Connection Manager, preventing instability.
  component: BDR
  jira:  BDR-7241
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Improved Connection Manager routing change logic.
  details: |
    Resolved an issue where the Connection Manager dropped existing client connections whenever a write-leader or read-only node routing change occurred. With this fix, client connections are no longer affected by a routing refresh, as long as the PGD node they are currently connected to remains operational.
  component: BDR
  jira:  BDR-7064
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed unexpected subscription and slot creation involving subscriber-only and witness nodes.
  details: |
    Resolved an issue where subscriptions or replication slots were incorrectly created between subscriber-only nodes and witness nodes. This fix prevents the incorrect creation of both subscriptions and replication slots between subscriber-only nodes and witness nodes.
  component: BDR
  jira:  BDR-7061
  addresses: ""
  type: Bug Fix
  impact: Medium  

- relnote: Ensure child origins are cleaned up when a PGD node parts. 
  details: |
    Resolved a bug whereby child origins remained on a PGD node after the parting operation was complete. 
  component: PGD CLI
  jira:  BDR-7061
  addresses: ""
  type: Bug Fix
  impact: Medium  

- relnote: Fixed writer error `could not open temporary file` after restart.
  details: |
    This issue occurred when streaming a large transaction, and the writer restarted only to find the temporary file name had been incorrectly freed. The bug was introduced with parallel apply and is resolved now.
  component: BDR
  jira:  BDR-7165
  addresses: "53341"
  type: Bug Fix
  impact: Medium

- relnote: Fixed consensus schema version compatibility issue affecting PGD upgrades.
  details: |
    Resolved a compatibility problem encountered during upgrades from PGD versions previous to 5.6.0 to newer releases. The issue was caused by added fields in the `bdr.node_group_routing_info` catalog, which caused interoperability failures with `pgd-proxy` when using the `bdr.raft_catalog_read_consistency` feature in mixed version clusters. 
  component: BDR
  jira:  BDR-7025
  addresses: "51027"
  type: Bug Fix
  impact: Medium

- relnote: Backported Connection Manager group options to `pgd group` commands.
  details: |
    Resolved an issue where Connection Manager options were not included when the it was backported to PGD 5. These options are now backported and available for use with the `group get-option`, `group set-option`, and `group show` commands.
  component: PGD CLI 
  jira:  BDR-7199
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Support for encrypted server side certificates.
  details: |
    Connection Manager now supports the PostgreSQL `ssl_passhrase_command` option to decrypt the server private key.
  component: BDR
  jira:  BDR-7285
  addresses: "53695"
  type: Enhancement
  impact: Medium

- relnote: Fixed the `bdr.msgb_connect` hang by introducing a connection timeout.
  details: |
    Resolved an issue where the `bdr.msgb_connect` function could hang indefinitely due to a missing network timeout setting. The fix adds the a timeout to the function.  
  component: BDR
  jira:  BDR-7294
  addresses: "53442"
  type: Bug Fix
  impact: Medium

- relnote: Upgraded internal library version.
  details: |
    Upgraded the project's Golang runtime to version 1.24.0.   
  component: BDR
  jira:  BDR-7128
  addresses: ""
  type: Change
  impact: Low

- relnote: Connection Manager now starts and responds on its configured ports on all nodes, even those that are not currently part of a node group with routing enabled.
  details: |
    In these cases, the configuration inherited from the top-level node group is automatically applied.
  component: BDR
  jira:  BDR-7251
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed a unique constraint violation error that could occur during an `UPDATE` operation on tables configured with both primary and unique keys.
  details: |
    Previously, an `UPDATE` conflict with an `update_missing` resolution (which attempts to insert a new record) did not check for conflicts against existing primary or unique keys, leading to an error. This issue is now fixed by treating the scenario as an `insert_exists` conflict and applying the appropriate resolution logic.
  component: BDR
  jira:  BDR-6897
  addresses: "50539, 51417, 54323"
  type: Bug Fix
  impact: Medium

- relnote: Fixed join inconsistency during physical node setup. 
  details: |
    Resolved an issue during physical node joins where the last transaction was redundantly included in the physical snapshot. The system now ensures this final transaction is excluded from the snapshot, as it will be correctly received later via logical replication, preventing duplication.
  component: BDR 
  jira:  BDR-7032
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed various issues with EPAS role and profile synchronization. 
  details: |
    Resolved various synchronization issues affecting the correct replication and management of EDB Postgres Advanced Server (EPAS) roles and profiles across the cluster. 
  component: BDR 
  jira:  BDR-7100
  addresses: "52572"
  type: Bug Fix
  impact: Medium

- relnote: Only synchronize relevant PGD role settings. 
  details: |
    The role synchronization logic has been refined to only apply role settings from the source node if they are global, or are specifically configured for the PGD database on the source node. 
  component: BDR 
  jira:  BDR-7105
  addresses: ""
  type: Enhancement
  impact: Medium

- relnote: Fixed cleanup of stale LSN records in `bdr.node_peer_progress_mapping`. 
  details: |
    Resolved an issue where stale records from parted or dropped nodes were retained in the `bdr.node_peer_progress_mapping` table. Proper cleanup is now enforced to prevent these stale records from unnecessarily holding back the group replication slot.
  component: BDR 
  jira:  BDR-6994
  addresses: "50616, 50778, 50856"
  type: Bug Fix
  impact: Medium

- relnote: Fixed spurious walsender timeouts during lengthy transactions. 
  details: |
    Resolved an issue where spurious walsender timeouts could occur while the receiver process was flushing a lengthy transaction. 
  component: BDR 
  jira:  BDR-6974
  addresses: "52018"
  type: Bug Fix
  impact: Medium

- relnote: Fixed error during join due to altered non-database role settings. 
  details: |
    Resolved an issue where the error `database with remote_datid 0 not found in remote_databases` occurred during the node join process. This failure happened when a role on the upstream source node had been altered to include a setting that was not specific to the database, causing a lookup failure during synchronization.
  component: BDR 
  jira:  BDR-7062
  addresses: "52859"
  type: Bug Fix
  impact: Medium

- relnote: Ensure hard-coded `CRDT` merge functions are always available. 
  details: |
    Resolved an issue where the system incorrectly required built-in, hard-coded `CRDT` merge functions to be explicitly registered in the `bdr.crdt_handlers` catalog.
  component: BDR 
  jira:  BDR-7201
  addresses: "52759"
  type: Bug Fix
  impact: Medium

- relnote: Fixed incorrect error during `bdr.commit_scope` check. 
  details: |
    Resolved an issue where the check for the configuration parameter `bdr.commit_scope` incorrectly raised an error if the PostgreSQL configuration was reloaded while a transaction was in progress, even when the parameter's value had not actually been modified.
  component: BDR 
  jira:  BDR-6903
  addresses: "51457"
  type: Bug Fix
  impact: Medium

- relnote: Fixed EPAS role and profile replication issues. 
  details: |
    Resolved two replication issues related to EPAS roles and profiles:
    - Fixed an issue where profile names were incorrectly quoted as string literals instead of identifiers, causing syntax errors when replicating `CREATE ROLE` or `ALTER ROLE` commands with the `PROFILE` clause.
    - Corrected a bug where `ALTER ROLE` commands that did not change passwords incorrectly included the `PASSWORD` clause, which triggered password reuse policy violations when profiles had `PASSWORD_REUSE_TIME` or `PASSWORD_REUSE_MAX` constraints.
  component: BDR 
  jira:  BDR-7262, BDR-7263
  addresses: "54909"
  type: Bug Fix
  impact: Medium

- relnote: Fixed consensus timeout errors during initial cluster setup. 
  details: |
    Resolved `consensus request timed out` errors that could occur during BDR cluster initialization. This issue happened when vacuum operations on internal consensus tables interfered with critical group creation processes. The fix now defers vacuum operations until the cluster is properly established.
  component: BDR 
  jira:  BDR-7225
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Emit warning message for `synchronous_standby_names` clash with commit scope. 
  details: |
    Added a new sanity check that emits a warning during startup if the PostgreSQL configuration parameter `synchronous_standby_names` is configured in a way that might clash with a PGD commit scope. This helps administrators quickly identify and correct potential misconfigurations.
  component: BDR 
  jira:  BDR-6911
  addresses: ""
  type: Enhancement
  impact: Medium 