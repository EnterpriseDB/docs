---
title: verify-cluster
deepToC: true
---

Verifies whether the cluster follows the rules as per the AlwaysOn architecture.

### Synopsis

Verifies whether the cluster follows the rules as per the AlwaysOn architecture.

```sh
pgd verify-cluster [flags]
```

### Options

No specific command options. See [global options](../command_ref#global-options) for global options.

### Examples

#### Verifying a cluster with an unrecommended architecture

In this example, we verify the cluster with an unrecommended architecture.

```bash
$ pgd verify-cluster
__OUTPUT__
Check                                                                               Status   Groups
-----                                                                               ------   ------
There is always at least 1 Global Group and 1 Data Group                            Ok
There are at least 2 data nodes in a Data Group (except for the witness-only group) Critical group_b
There is at most 1 witness node in a Data Group                                     Warning  group_a
Witness-only group does not have any child groups                                   Ok
There is at max 1 witness-only group iff there is even number of local Data Groups  Warning  bdrgroup
There are at least 2 proxies configured per Data Group if routing is enabled        Warning  group_a, group_b
```

#### Verifying a cluster with recommended architecture

In this example, we verify the cluster with a recommended architecture.

```bash
$ pgd verify-cluster
__OUTPUT__
Check                                                                               Status Groups
-----                                                                               ------ ------
There is always at least 1 Global Group and 1 Data Group                            Ok
There are at least 2 data nodes in a Data Group (except for the witness-only group) Ok
There is at most 1 witness node in a Data Group                                     Ok
Witness-only group does not have any child groups                                   Ok
There is at max 1 witness-only group iff there is even number of local Data Groups  Ok
There are at least 2 proxies configured per Data Group if routing is enabled        Ok
```
