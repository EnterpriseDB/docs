---
title: Compatibility changes
---

## Summary

There are some changes in PGD 6.1 that are not compatible with 5.8.1 and other previous versions.

## Connection Manager 

PGD 6 introduces a new Connection Manager which replaces the PGD 5's proxy solution with a tightly integrated approach using a background worker to expose read-write, read-only and http-status network interfaces in PGD. 
For more details check [here](/pgd/latest/reference/connection-manager/).

## DDL Locking changes

There is a new global lock type, `ddl_locking = leader` that's used by PGD 6.1 by default instead of the global DML lock.
This lock ensures that a table is exclusively locked on all group leaders (as opposed to all nodes).
For PGD Essential this means that in practice the lock is engaged immediately as there is only one leader, which means the system exhibits the same behavior as a single node Postgres setup.

`LOCK TABLE` and `TRUNCATE TABLE` now use this new lock type by default (before the default behavior was to not lock outside of the origin node).

## Join/part behavior

### Sequences conversion

When creating a PGD cluster, existing [sequences](/pgd/6.1/reference/sequences.mdx) are automatically converted to distributed ones.

### Parting a node drops it

When a node is parted, it is eventually dropped and the node will not be seen in the `PARTED` state at the end of the parting.
Therefore, scripts that wait for the node to reach `PARTED` state may need change.
Parting can also take longer than earlier versions since this operation waits till the group slot on all crosses of the last transaction from the parting node to ensure consistency.

## Other

### Replica identity

Replica identity defaults to FULL now.
This removes some edge cases in conflict detection between inserts, updates, and deletes across node crashes and recovery.

### Run on (all) writes

Run on (all) writes is now not replicated.
The `bdr.xact_replicate` is set to `off` by default, reducing possible accidental issues with replication of commands sent via the run on (all) nodes command.

### General UI improvements

- Workers renamed to not contain 'pglogical' (this is not backwards compatible with 5.81 or previous versions)
- Previously deprecated configuration parameters (GUCs) now removed (this includes, for example, all the pglogical prefixed GUCsâ€”this is not backwards compatible with PGD 5.8.1 or older versions).
- Conflicts are logged neither to Postgres log or `conflict_history` table by default (this is not backwards compatible with PGD 5.8.1 or older versions)

## Changes to defaults

### Global lock timeout

bdr.global_lock_timeout is set to 1 minute by default.

### Auto sync

bdr.enable_auto_sync_reconcile is set to ON by default.
This feature is documented [here](pgd/latest/reference/node_management/automatic_sync/).
It enables changes from a down node to be synced to all other nodes.