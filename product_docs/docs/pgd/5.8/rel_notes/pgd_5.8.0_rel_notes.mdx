---
title: EDB Postgres Distributed 5.8.0 release notes
navTitle: Version 5.8.0
originalFilePath: product_docs/docs/pgd/5.8/rel_notes/src/relnote_5.8.0.yml
editTarget: originalFilePath
---

Released: 22 May 2025

EDB Postgres Distributed 5.8.0 includes a number of enhancements and bug fixes.

## Highlights

- Highlights here

## Enhancements

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>The <code>--summary</code> and <code>--options</code> flags for <code>pgd node show</code> CLI command.</summary><hr/><p>Add the <code>--summary</code> and <code>--options</code> flags to <code>pgd node show</code> command to filter the output of the <code>pgd node show</code> command.
This also maintains symmetry with other <code>show</code> commands.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>More GUCs verfied in <code>pgd cluster verify</code> CLI command.</summary><hr/><p>Add the <code>bdr.lock_table_locking</code> and <code>bdr.truncate_locking</code> GUCs to list of GUCs verfied in <code>pgd cluster verify</code> command.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>We now ensure that commit scope logic only runs on data nodes.</summary><hr/><p>While commit scope processing does not have any direct affect on
non-data nodes, by skipping it altogether we can avoid potentially
confusing error messages.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Added <code>bdr.galloc_chunk_info()</code> function to simplify sequences.</summary><hr/><p>The <code>bdr.galloc_chunk_info()</code> function provides information about the chunk
allocation for a given sequence. This function returns the chunk ID, the
sequence ID, and the chunk size. This function is useful for debugging and
understanding how sequences are allocated in BDR.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>Improve the CLI debug messages.</summary><hr/><p>Improve the formating of the log messages to be more readable and symmetrical with Postgres log messages.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>Added a new column for <code>pgd cluster verify --settings</code> CLI command output.</summary><hr/><p>Add the <code>recommended_value</code> column to the result of the <code>pgd cluster verify --settings</code> command.
The column will not be displayed in tabular output but will be displayed in JSON output.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>Display sorted output for CLI.</summary><hr/><p>The output for the commands with tabular output will be sorted by the resource name.
For the commands that display more than one resource, the output will be sorted by each resource column in order.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Improved pgd_bench error message related to CAMO.</summary><hr/><p>If executed with <code>--mode=camo</code>, but the provided test script is not wrapped
in an explicit transaction, pgd_bench will not be able to retrieve the
expected <code>transaction_id</code> value. Now the emitted error message contains
a hint about a possible missing transaction.</p>
</details></td><td></td></tr>
</tbody></table>


## Bug Fixes

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Added &quot;safety nets&quot; for CDC failover.</summary><hr/><p>CDC failover now has additional safety nets to ensure that the consumer
does not start replication from a node that is not the creator of the
replication slot. This is to prevent data loss or duplicate transactions.
The changes also add additional checks to ensure that the consumer does
not start replication from a node that does not have the required WAL
files to decode the transactions that are missing on the consumer but
were included in the initial snapshot that the newly joined node had
obtained (physical or logical).</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Fixed replication failure with concurrent updates on a non-unique index.</summary><hr/><p>Updated to compare tuples on lookup to ensure it is the same when handling non-unique indexes.</p>
</details></td><td>43523, 43802, 45244, 47815, 48007</td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Improved handling of connection information and password obfuscation.</summary><hr/><p>The shared memory information for connection information may get obfuscated when a password is present
and become useless. Instead of reading from there, we are now using the <code>primary_conninfo</code> GUC
which is now available on all supported PG versions.</p>
</details></td><td>41776</td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>Fixed the CLI <code>pgd cluster show</code> command's behavior with clock drift errors and a degraded cluster.</summary><hr/><p>The <code>pgd cluster show</code> command would exit with an error regarding clock drift if only one node was up and running in a N node cluster, and not show the associated <code>health</code> and <code>summary</code> information.
The command now returns output for, <code>health</code> and <code>summary</code>, while reporting an appropriate error for <code>clock-drift</code>.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>Fixed the CLI <code>pgd node show</code> command crashing if a non-existent node is given.</summary><hr/><p>The <code>pgd node show</code> command crashed if a non-existent node was given to the command.
The command now fails gracefully with an appropriate error message.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.8.0</td><td><details><summary>Fixed the timestamp parsing issue for <code>pgd replication show</code> CLI command.</summary><hr/><p>The <code>pgd replication show</code> command previously crashed when formatting EPAS timestamps.</p>
</details></td><td>47280</td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Prevent segfault in bdr.taskmgr_set_leader.</summary><hr/><p>Add a note in test 00200 to at least give a hint about which
function may be to blame.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Improved deadlock avoidance where bdr_init_physical and monitoring queries are running concurrently.</summary><hr/><p>We have replaced TRUNCATEs with DELETEs from all BDR catalogs on a local node drop.
This is to avoid deadlock in bdr_init_physical if the user happens to run monitoring
queries during node joining / cleaning unwanted source node data.</p>
</details></td><td>46952</td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Ensure a new joiner processes the watermark message in the CATCHUP phase.</summary><hr/><p>Setting nci-&gt;min_lsn to XactLastCommitEnd of watermark message Tx to ensure
CATCHUP phase finishes on new joiner only after watermark is processed.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Fix Raft leader election timeout/failure after upgrade</summary><hr/><p>Ensure that any custom value set in the deprecated GUC <code>bdr.raft_election_timeout</code>
is applied to its replacement <code>bdr.raft_global_election_timeout</code>.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Ensure that disabled subscriptions on subscriber-only nodes are not re-enabled</summary><hr/><p>During subscription reconfiguration, if there is no change required to a subscription,
do not enable it since it could have been disabled explicitly by the user.
Skip reconfiguring subscriptions if there are no leadership changes.</p>
</details></td><td>46519</td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Fixed deadlock issue in bdr_init_physical.</summary><hr/><p>Fixed deadlock between bdr_init_physical cleaning unwanted node data and concurrent monitoring queries.</p>
</details></td><td>46952</td></tr>
<tr><td>BDR</td><td>5.8.0</td><td><details><summary>Fixed new cluster node consistency issue.</summary><hr/><p>Fixed an issue when a new node joining the cluster finishes CATCHUP phase before getting its replication progress against all data nodes. This could have caused a new node to be out of sync with the cluster.</p>
</details></td><td></td></tr>
</tbody></table>


