---
title: EDB Postgres Distributed 5.7.0 release notes
navTitle: Version 5.7.0
originalFilePath: product_docs/docs/pgd/5.8/rel_notes/src/relnote_5.7.0.yml
editTarget: originalFilePath
---

Released: 25 February 2025

EDB Postgres Distributed 5.7.0 includes a number of enhancements and bug fixes.

## Highlights

- **Improved 3rd Party CDC Tool Integration**: PGD 5.7.0 now supports [failover of logical slots used by CDC tools](/pgd/latest/cdc-failover) with standard plugins (such as test_decoding, pgoutput, and wal2json) within a PGD cluster. This enhancement eliminates the need for 3rd party subscribers to reseed their tables during a lead Primary change.
- **PGD Compatibility Assessment**: Ensure a seamless migration to PGD with the new [Assess](/pgd/latest/cli/command_ref/assess/) command in the PGD CLI. This tool proactively reports any PostgreSQL incompatibilities—especially those affecting logical replication—so you can address them before upgrading to PGD.
- **Upgrade PGD and Postgres with a Single Command**: Leverage the new [`pgd node upgrade`](/pgd/latest/cli/command_ref/node/upgrade
) command in the PGD CLI to upgrade a node to the latest versions of PGD and Postgres.

## Features

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Added support for failover slots for logical replication.</summary><hr/><p>When a PGD node fails or becomes unavailable, consumers can now continue to consume changes from some other node in the cluster. The feature can be turned on by setting the top group option <code>failover_slot_scope</code> to <code>global</code>. The consumer needs to handle duplicate transactions, but PGD
guarantees that every transaction is decoded and sent at least once.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td>Ensured that the `remote_commit_time` and `remote_commit_lsn` are properly reported in the conflict reports.</td><td>42273</td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added new CLI command structure for easier access.</summary><hr/><p>The new CLI command structure is more intuitive and easier to use. The new structure is a &quot;noun-verb&quot; format, where the noun is the object you want to work with and the verb is the action you want to perform. Full details are available in <a href="/pgd/latest/cli/command_ref">the CLI command reference</a>.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added a new local assesment feature for local non-PGD nodes to the CLI</summary><hr/><p>The new feature allows you to assess the local node for compatibility with PGD. The feature is available as <code>pgd assess</code>. Full details are available in <a href="/pgd/latest/cli/command_ref">the CLI command reference</a>.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added <code>pgd node upgrade</code> functionality to the PGD CLI.</summary><hr/><p>The new command allows you to upgrade a node to the latest version of PGD and Postgres. It integrates the operation of <code>bdr_pg_upgrade</code> into the CLI and is run locally. See <a href="/pgd/latest/cli/command_ref/node/upgrade">pgd node upgrade</a> and <a href="/pgd/latest/upgrades/inplace_upgrade">inplace upgrades</a> for more information.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed an issue whereby concurrent joins of subscriber-only nodes occasionally stopped responding.</summary><hr/><p>A node could end up waiting for the local state of another concurrently joined node to advance, which caused the system to stop responding.</p>
</details></td><td>42964</td></tr>
</tbody></table>


## Enhancements

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Narrowed down <code>bdr.node_slots</code> output to list only relevant slots.</summary><hr/><p>The slots are displayed based on the node type, its role, and the cluster topology.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td>Added `target_type` column to `bdr.node_slots` view to indicate slot purpose/status.</td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improved performance of DML and other operations on partitioned tables.</summary><hr/><p>Many code paths touching partitioned tables were performing costly checks to support additional table access methods. This code was adjusted to make the most common case (heap) the fastest.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improved <code>bdr_init_physical</code> to be able to run without superuser.</summary><hr/><p>Now only the <code>bdr_superuser</code> is required.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added new CLI commands for adding removing and updating commit scopes.</summary><hr/><p>The new commands are <code>pgd commit-scope show</code>, <code>pgd commit-scope create</code>, <code>pgd commit-scope update</code> and <code>pgd commit-scope drop</code>. Full details are available in <a href="/pgd/latest/cli/command_ref">the CLI command reference</a>.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added support for legacy CLI command structure in the updated PGD CLI.</summary><hr/><p>The legacy CLI command structure is still supported in the updated PGD CLI. The legacy command support is available for a limited time and will be removed in a future release. It is implemented as a wrapper around the new commands.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added new subcommands to PGD CLI <code>node</code> and <code>group</code> for getting options.</summary><hr/><p>The new subcommands are <code>pgd node get-options</code> and <code>pgd group get-options</code>. Full details are available in <a href="/pgd/latest/cli/command_ref">the CLI command reference</a>.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Added new output formatting options <code>psql</code> and <code>markdown</code> to the PGD CLI.</summary><hr/><p>The new options allow you to format the output of the CLI commands in a psql-like or markdown format. Format options are now <code>json</code>, <code>psql</code>, <code>modern</code>, <code>markdown</code>, <code>simple</code> and defaults to <code>simple</code>.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Removed redundant <code>WARNING</code> when executing <code>ALTER SEQUENCE</code>.</summary><hr/><p>The message now only appears when creating the sequence.</p>
</details></td><td></td></tr>
</tbody></table>


## Bug Fixes

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td>Fixed a server panic by ensuring that catalog lookups aren't performed in a callback that gets called very late in the commit cycle.</td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td>Fixed an unintentional timed wait for a synchronous logical replication that resulted in unusually high latency for some transactions.</td><td>42273</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>The <code>bdr.group_camo_details</code> view now only lists data nodes belonging to the CAMO group.</summary><hr/><p>The <code>bdr.group_camo_details</code> view now only lists data nodes belonging to the CAMO commit scope group. Previously, the view could include data nodes were not part of the CAMO group, logical standby nodes, Subscriber-Only nodes and witness nodes.</p>
</details></td><td>45354</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improved PostgreSQL 17 compatibility.</summary><hr/><p>Internal tables managed by autopartition that were created before the upgrade to PG17 were missing a <code>rowtype</code> entry into <code>pg_depend</code>. This issue caused errors after upgrading to PG17.</p>
</details></td><td>44401</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where parting stopped responding with consensus timeout or consensus errors.</summary><hr/><p>This fix also ensures parting doesn't stop responding when any of the nodes restart when part is in progress. Origin LSNs don't show up as 0/0 in log messages.</p>
</details></td><td>42056</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a memory leak in a global hook.</summary><hr/><p>This bug could cause memory to leak even if <code>bdr.so</code> is just loaded and the extension isn't installed.</p>
</details></td><td>43678</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where subgroup member part prevented new nodes from joining.</summary><hr/><p>This fix ensures that if a subgroup member is parted while Raft subgroup routing is active, then another node can subsequently join that subgroup.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a case where galloc sequence overflow wasn't being caught correctly.</summary><hr/><p>This bug resulted in <code>nextval</code> call being stuck.</p>
</details></td><td>44755</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed group slot movement for witness and data nodes in presence of subscriber-only nodes and witness nodes.</summary><hr/><p>For PGD 5.6.0 and later, there are no subscriptions from a subscriber-only node to a witness node. This caused a problem with movement of group slot on data nodes and witness nodes in the presence of subscriber-only nodes in the cluster. This bug could cause WAL to be held on both witness nodes and data nodes when there's a subscriber-only node in the cluster.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td>Fixed a bug where conflict resolution functions were executed also on the witness nodes.</td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where <code>bdr_init_physical</code> stopped responding when <code>synchronous_commit</code> is set to <code>remote_write/remote_apply</code>.</summary><hr/><p><code>bdr_init_physical</code> disables synchronous replication on a new node by resetting <code>synchronous_standby_names</code> to an empty string. A warning message reminds you to set <code>synchronous_standby_names</code> as needed.</p>
</details></td><td>44760</td></tr>
<tr><td>PGD Proxy</td><td>5.7.0</td><td><details><summary>Fixed proxy regression by improving dsn name support for read nodes</summary><hr/><p>A regression in the way read nodes were identified in the proxy in 6.5.1 was fixed
by enabling support for different values in the <code>dsn</code> field's host and the node_name.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug to handle additional replication sets on witness nodes.</summary><hr/><p>The witness node now only cares about the top replication set and thus allows it to miss replications sets and not error out.</p>
</details></td><td>41776, 44527</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Changed origin deletion to be done asynchronously when optimized topology is enabled.</summary><hr/><p>In an optimized topology, origin names now use the generation ID of the node. This fixes an inconsistency in which some transactions can be lost or sent twice when a node is parted.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a crash during upgrades in a mixed-version cluster.</summary><hr/><p>Upgrading from versions earlier than 5.6.0 to 5.6.0 and later in a mixed-version cluster with a standby or a node joining/parting could cause a crash.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Unsupported <code>ALTER TABLE</code> command on materialized views is no longer replicated.</summary><hr/><p>Replication no longer becomes stuck when the command is issued.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td>Disallowed `GRANT` on BDR objects to non-BDR users.</td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td>Improved maintenance of the `bdr.leader` table.</td><td></td></tr>
</tbody></table>


## Deprecations

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Deprecated proxy commands in new PGD CLI command structure.</summary><hr/><p>The proxy commands are deprecated in the new CLI command structure. The proxy commands are still available in the legacy CLI command structure. Proxy options can be set using the <code>pgd group set-option</code> command.</p>
</details></td><td></td></tr>
<tr><td>PGD CLI</td><td>5.7.0</td><td><details><summary>Removed <code>yaml</code> output as an option in PGD CLI</summary><hr/><p>The <code>yaml</code> output option is removed from the PGD CLI. The <code>json</code> output option is still available.</p>
</details></td><td></td></tr>
</tbody></table>


## Other

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Added a GUC to support upgrade to 5.7.0 for clusters with optimized topology (a preview feature).</summary><hr/><p>An upgrade to 5.7.0 from clusters that have <code>bdr.force_full_mesh</code> set to <code>off</code> to enable optimized topology
(a preview feature) must first set this GUC to <code>on</code> and then upgrade. After the entire cluster upgrades,
this GUC can be set to <code>off</code> again to enable optimized topology.
Having this GUC set to <code>off</code> during upgrade isn't supported.</p>
</details></td><td></td></tr>
</tbody></table>


