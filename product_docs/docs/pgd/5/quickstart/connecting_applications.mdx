---
title: "Connecting your external applications to PGD"
navTitle: "Connecting Applicationsxs"
description: >
  Enable your applications to connect to your quick started PGD cluster
---

Connecting your application or remotely connecting to your new Postgres Distributed cluster involves a number of tasks:

* Getting credentials and optionally creating a .pgpass file
* Establishing the IP address of the PGD Proxy host (or hosts) you wish to connect to
* Ensuring that you are able to connect to that IP address
* Getting an appropriate Postgres client
* Connecting the client to the cluster

## Getting Credentials

The default user, enterprisedb, is already created in the cluster by tpaexec. It also generated passwords for that user as part of the provisioning. To get the password run

```shell
tpaexec show-password democluster enterprisedb
```

This will return a string which is the password for the enterprisedb user. You can, if you wish, just use that string when prompted for a password.

## Creating a .pgpass file

You can avoid entering passwords for psql and other Postgres clients by creating a .pgpass file. This is a file in your home directory which contains password details which applications can look up when connecting. After getting the password in the "Getting Credentials" section, you can open (with your preferred editor) the file .pgpass.

Enter in the editor:
```plain
*:*:bdrdb:enterprisedb:<your password>
```

Save and exit from the editor. Then run:

```shell
chmod 0600 ~/.pgpass
```

To secure the file by denying anyone but you read (or write) access.

## Establishing the IP Address

### Docker

Your Docker quick start cluster will by default be accessible on the IP addresses 172.17.0.2 (kaboom), 172.17.0.3 (kaftan), 172.17.04 (kaolin) and 172.17.0.5 (kapok). These addresses are automatically generated by Docker.

### AWS

You could refer to the ip addresses in `democluster/ssh_config` or you can run:

```shell
aws ec2 --region eu-west-1 describe-instances --query 'Reservations[*].Instances[*].{PublicIpAddress:PublicIpAddress,Name:Tags[?Key==`Name`]|[0].Value}'
__OUTPUT__
[
    [
        {
            "PublicIpAddress": "54.217.130.13",
            "Name": "kapok"
        }
    ],
    [
        {
            "PublicIpAddress": "54.170.119.101",
            "Name": "kaolin"
        }
    ],
    [
        {
            "PublicIpAddress": "3.250.235.130",
            "Name": "kaftan"
        }
    ],
    [
        {
            "PublicIpAddress": "34.247.188.211",
            "Name": "kaboom"
        }
    ]
]

```

Which will show you EC2's list of public IP addresses for the clusters's instances. 


### Bare metal

You will have set IP addresses for your bare metal instances when you configured the cluster in the quick start. Use those addresses.

## Ensure you can connect to your IP addresses

### Bare metal and Docker

You should be able to connect without configuring anything.

### AWS

AWS is configured to only allow outside access to its SSH endpoints. To allow Postgres clients to connect from outside the AWS cloud, you will need to enable the transit of traffic on port 6432.

You will need to get your own external IP address, or the external IP address of the system you want to connect to the cluster).

One way to do this is to run:

```shell
curl https://checkip.amazonaws.com
__OUTPUT__
89.97.100.108
```

You also need to security groupid for your cluster. Run:

```shell
aws ec2 --region eu-west-1 describe-security-groups --filter Name=group-name,Values="*democluster*" | grep GroupId
__OUTPUT__
            "GroupId": "sg-072f996360ba20d5c",
```

Note that you must put in the correct region for your cluster, set when you configured it.

```
aws ec2 authorize-security-group-ingress --group-id <SECURITYGROUPID> --protocol tcp --port 6432 --cidr <YOURIP>/32 --region eu-west-1
```

Again, make sure you put in the correct region for your cluster.

You can read more about this command in the [Configuring a Security Group](https://docs.aws.amazon.com/cli/latest/userguide/cli-services-ec2-sg.html#configuring-a-security-group) section of the AWS CLI guide.


## Getting an appropriate Postgres client

TBD

## Connecting the client to the cluster

Assuming you have psql or similar, you can now connect to the cluster. Run:

```shell
psql -h <ipaddressofnode> -p 6432 -U enterprisedb bdrdb
__OUTPUT__
psql (15.2.0, server 15.2.0 (Debian 15.2.0-2.buster))
SSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)
Type "help" for help.

bdrdb=# 
```

Use the .pgpass file with clients that support it, or use the host, port,user,password and database name to connect with other applications.

