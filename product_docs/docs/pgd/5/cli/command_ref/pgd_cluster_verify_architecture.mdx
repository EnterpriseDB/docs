---
title: cluster verify architecture
navTitle: verify architecture
description: Verifies whether the cluster follows the rules as per the AlwaysOn architecture
deepToC: true
---

Verifies whether the cluster follows the rules as per the AlwaysOn architecture

## Synopsis

Verifies whether the cluster follows the rules as per the AlwaysOn architecture.

```sh
pgd cluster verify architecture [flags]
```

## Examples

### Not recommended architecture

```sh
$ pgd cluster verify architecture
__OUTPUT__
Check                                                                               Status   Groups
-----                                                                               ------   ------
There is always at least 1 Global Group and 1 Data Group                            Ok
There are at least 2 data nodes in a Data Group (except for the witness-only group) Critical group_b
There is at most 1 witness node in a Data Group                                     Warning  group_a
Witness-only group does not have any child groups                                   Ok
There is at max 1 witness-only group iff there is even number of local Data Groups  Warning  bdrgroup
There are at least 2 proxies configured per Data Group if routing is enabled        Warning  group_a, group_b
```

### With recommended architecture)

```sh
$ pgd cluster verify architecture
__OUTPUT__
Check                                                                               Status Groups
-----                                                                               ------ ------
There is always at least 1 Global Group and 1 Data Group                            Ok
There are at least 2 data nodes in a Data Group (except for the witness-only group) Ok
There is at most 1 witness node in a Data Group                                     Ok
Witness-only group does not have any child groups                                   Ok
There is at max 1 witness-only group iff there is even number of local Data Groups  Ok
There are at least 2 proxies configured per Data Group if routing is enabled        Ok
```
