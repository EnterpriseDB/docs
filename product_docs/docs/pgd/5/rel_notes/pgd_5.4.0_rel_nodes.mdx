---
title: "EDB Postgres Distributed 5.4.0 release notes"
navTitle: "Version 5.4.0"
---

Released: 05 Mar 2024

EDB Postgres Distributed version 5.4.0 is a minor version of EDB Postgres Distributed.

!!! Important Recommended upgrade
We recommend that all users of PGD 5 upgrade to PGD 5.4. See [PGD/TPA upgrades](../upgrades/tpa_overview) for details.
!!!

## Highlights of EDB Postgres Distributed 5.4.0

* Group Commit and Parallel Apply are now compatible with each other.

## Compatibility

!!! Note EDB Server version compatibility
This version requires the recently released Postgres versions 14.10, 15.4,
or 16.1 (or later) of EDB Postgres Advanced Server or EDB Postgres Extended
Server. No such restrictions exist for PostgreSQL Server.

Package managers on Debian, RHEL, and SLES pull in the required EDB Postgres Advanced Server or EDB Postgres Extended 
upgrades with an upgrade of EDB Postgres Distributed.
!!!

## Features

| Component | Version | Description  | Addresses |
|-----------|---------|-------------|-----------|
| PGD       | 5.4.0   | Group Commit and Parallel Apply can work together with a dedicated writer for Group Commit. | | /* TBC (To Be Committed) */
| BDR       | 5.4.0   | Automatically detect and synchronize all available nodes to the furthest ahead node for transactions originating from failed or disconnected node. ||
| BDR       | 5.4.0   | Automatic resolution of pending group commit transactions when the originating node fails or disconnects, ensuring uninterrupted transaction processing within the cluster. ||
| BDR       | 5.4.0   | Added ability to set `apply_delay` group option on sub-groups, enabling adding of delayed subscriber-only nodes | | /* 25-apply-delay */


## Enhancements

| Component | Version  |Description | Addresses |
|-----------|---------|-------------|-----------|

## Bug fixes

| Component | Version |Description  | Addresses |
|-----------|---------|-------------|-----------|
| BDR       | 5.4.0   | Fixed memory leaks when running a query on some or all nodes. |  | /* 10-Memory-Leak-Run-On-All-Nodes */
| BDR       | 5.4.0   | Resolved an issue of high CPU usage for concensus processes | RT97649 | /* 20-High-CPU-usage-consensus */
| BDR       | 5.4.0   | Improved WAL retention logic when a part_node occurs. |  | /* 30-group-slot-and-wal-retention */
| BDR       | 5.4.0   | Witness nodes will automatically not synchronize structure when joining a group |  | /* 40-BDR-4507-bdr_join_node_group-witness-no-synchronize-structure */
| BDR       | 5.4.0   | bdr.create_node() / bdr.alter_node() now give a hint when an invalid node kind is used. | | /* 41-BDR-4652-bdr_create_node-HINT */
| BDR       | 5.4.0   | Fixed transactions PREPARE/COMMIT/ABORT order with Parallel Apply enabled. || /* 67-Fix-Prepared-Parallel-Apply */
| BDR       | 5.4.0   | DDL replication now takes into account more of Postgres configuration options that are set in the original session or transaction in order to provide more consistent results of the DDL execution. Added `standard_conforming_strings`, `edb_redwood_date`, `default_with_rowids` and `check_function_bodies`. | | /* 70-BDR-4397-ddl-guc */
| BDR       | 5.4.0   | Improved `pgd_bench` cluster initialization and commandline help output. || /* 91-Improve-pgd_bench */
| BDR       | 5.4.0   | Restoring a node group from a consensus snapshot correctly applies option changes (number of writers, streaming and apply_delay) to local subscriptions. || /* 92-BDR-4493-fix-group-snapshot-restore */
| BDR       | 5.4.0   | bdr_init_physical: fixed debug logging of pg_ctl enabling output capture for debugging purposes || /*     94-bdr_init_physical-fix-pg_ctl-debug-logging */
| BDR       | 5.4.0   | Fix assertion failure when TargetColumnMissing conflict occurs in a Group Commit transaction ||
| BDR       | 5.4.0   | Fix detection of UpdateOriginChange conflict to be more accurate ||
| BDR       | 5.4.0   | Support timeout for normal Group Commit transaction ||
| BDR       | 5.4.0   | Fix error handling in writer when there are lock timeouts or conflicts or deadlocks with and without group commit transactions ||
| BDR       | 5.4.0   | Handle failure of source of synchronization and reconciliation coordinator ||
| BDR       | 5.4.0   | Reconcile correctly when origin node fails before sending prepare to any node ||
| BDR       | 5.4.0   | Apply commit scope timeout to reconciliation ||
| BDR       | 5.4.0   | Make sure reconciliation and node synchronization with respect to down node is not impacted when raft is down ||
| BDR       | 5.4.0   | Allow the origin of group commit transactions to wait for responses from all the required nodes before taking an abort decision ||
