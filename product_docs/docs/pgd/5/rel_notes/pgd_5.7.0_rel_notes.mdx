---
title: EDB Postgres Distributed 5.7.0 release notes
navTitle: Version 5.7.0
originalFilePath: product_docs/docs/pgd/5/rel_notes/src/relnote_5.7.0.yml
editTarget: originalFilePath
---

Released: 18 February 2025

EDB Postgres Distributed 5.7.0 includes a number of enhancements and bug fixes.

## Highlights

- Highlights here

## Features

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Support failover slots for logical replication</summary><hr/><p>When a PGD node fails or becomes unavailable, consumers can now continue to consume changes from some other node in the cluster. The feature can be turned on by setting top group option <code>failover_slot_scope</code> to <code>global</code>. The consumer needs to handle duplicate transactions, but PGD
guarantees that every transaction is decoded and sent at least once.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Ensure that the <code>remote_commit_time</code> and <code>remote_commit_lsn</code> are properly reported in the conflict reports</summary><hr/></details></td><td>42273</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fix an occasional hang in concurrent joins of subscriber-only nodes</summary><hr/><p>A node may end up waiting for the local state of another concurrently joined node to advance, resulting in a hang.</p>
</details></td><td>42964</td></tr>
</tbody></table>


## Enhancements

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Narrowed down <code>bdr.node_slots</code> output to list relevant slots only</summary><hr/><p>The slots are displayed based on the node type, its role and the cluster topology</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Added <code>target_type</code> column to <code>bdr.node_slots</code> view to indicate slot purpose/status</summary><hr/></details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improved performance of DML and other operations on partitioned tables</summary><hr/><p>Many code paths touching partitioned tables were performing costly checks to support additional Table Access Methods. This code was adjusted to make the most common case (heap) the fastest.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improved <code>bdr_init_physical</code> to be able to run without superuser</summary><hr/><p>Only the <code>bdr_superuser</code> is required.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Omit redundant <code>WARNING</code> when executing <code>ALTER SEQUENCE</code></summary><hr/><p>The message is only relevant when creating the sequence.</p>
</details></td><td></td></tr>
</tbody></table>


## Bug Fixes

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a server panic by ensuring that we don't do catalog lookups in a callback that gets called very late in the commit cycle</summary><hr/></details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed an unintentional timed wait for a synchronous logical replication, resulting in unusually high latency for some transactions</summary><hr/></details></td><td>42273</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improve PostgreSQL 17 compatibility</summary><hr/><p>Internal tables managed by autopartition that were created before the upgrade to PG17 were missing a <code>rowtype</code> entry into <code>pg_depend</code> which would cause errors after upgrading to PG17.</p>
</details></td><td>44401</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where parting would hang in case of consensus timing out or consensus errors</summary><hr/><p>Also ensure parting does not hang when any of the nodes restart when part is in progress and origin LSNs do not show up as 0/0 in log messages</p>
</details></td><td>42056</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a memory leak in a global hook</summary><hr/><p>This could cause memory to leak even if <code>bdr.so</code> is just loaded, without even installing the extension itself.</p>
</details></td><td>43678</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where subgroup member part would prevent new nodes from joining</summary><hr/><p>Ensure that if a subgroup member is parted while Raft subgroup routing is active, that another node can subsequently be joined to that subgroup.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a case where galloc sequence overflow was not being caught correctly</summary><hr/><p>This would result in <code>nextval</code> call being stuck.</p>
</details></td><td>44755</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed group slot movement for witness and data nodes in presence of subscriber-only node(s) and witness node(s)</summary><hr/><p>From PGD 5.6.0 onwards, there are no subscriptions from a subscriber-only node to a witness node. This caused a problem with movement of group slot on data nodes and witness nodes in the presence of subscriber-only nodes in the cluster. This bug can cause WAL to be held on both witness nodes and data nodes when there is a subscriber-only node in the cluster. This is fixed.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where conflict resolution functions were executed also on the witness node(s)</summary><hr/></details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a bug where <code>bdr_init_physical</code> would hang when <code>synchronous_commit</code> is set to <code>remote_write/remote_apply</code></summary><hr/><p><code>bdr_init_physical</code> disables synchronous replication on new node by resetting <code>synchronous_standby_names</code> to an empty string. A warning message is printed to remind setting <code>synchronous_standby_names</code> as needed.</p>
</details></td><td>44760</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Handle additional replication sets on witness nodes</summary><hr/><p>The witness node only cares about the top replication set, thus allow it to miss replications sets and not error-out.</p>
</details></td><td>41776, 44527</td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Changed origin deletion to be done asynchronously when optimized topology is enabled</summary><hr/><p>In an optimized topology, origins names use the generation ID of the node. This fixes an inconsistency when a node is parted, some transactions can be lost or sent twice.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Fixed a crash during upgrades in mixed version cluster</summary><hr/><p>Upgrading from versions lower than 5.6.0 to 5.6.0 and above in a mixed version cluster with a standby or a node joining/parting could cause a crash.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Unsupported <code>ALTER TABLE</code> command on materialized views is no longer replicated</summary><hr/><p>Earlier this would cause replication getting stuck when the command was issued.</p>
</details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Disallow <code>GRANT</code> on BDR objects to non-BDR users</summary><hr/></details></td><td></td></tr>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Improved maintenance of the <code>bdr.leader</code> table</summary><hr/></details></td><td></td></tr>
</tbody></table>


## Other

<table class="table w-100"><thead><tr><th>Component</th><th>Version</th><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>BDR</td><td>5.7.0</td><td><details><summary>Added a GUC to support upgrade to 5.7.0 for clusters with optimized topology (a preview feature)</summary><hr/><p>An upgrade to 5.7.0 from clusters that have value of <code>bdr.force_full_mesh</code> set to <code>off</code> to enable optimized topology,
a preview feature, must first set this GUC to <code>on</code> and then upgrade. After the entire cluster upgrades,
this GUC can be set to <code>off</code> again to enable optimized topology.
Having this GUC set to <code>off</code> during upgrade is not supported.</p>
</details></td><td></td></tr>
</tbody></table>


