---
title: "Release notes for EDB Postgres Distributed version 5.1.0"
navTitle: "Version 5.1.0"
---

EDB Postgres Distributed version 5.1.0 is a minor version of EDB Postgres Distributed.
This version addresses security vulnerabilities in dependencies for PGD-Proxy and PGD-CLI.

!!! Note
    This version is required for EDB Postgres Advanced Server versions 12.15, 13.11, 14.8 and later.

| Component | Version | Type            | Description                                          |
|-----------|---------|-----------------|------------------------------------------------------|
| CLI       | 5.1.0   | Enhancement     | Enhance the `show-events` command to show Raft events, event source and subtype (BDR-2339) |
| CLI       | 5.1.0   | Enhancement     | Improve clockskew estimation in `show-clockskew` and `check-health` commands (BDR-2157) |
| CLI       | 5.1.0   | Feature         | Add support to view and set `consensus_grace_period` proxy option |
| PGD       | 5.1.0   | Feature         | Add pid to the log message emitted upon writer process death (BDR-2534) |
| PGD       | 5.1.0   | Feature         | Add group name in the bdr.event_summary view (BDR-3315) |
| PGD       | 5.1.0   | Feature         | Add SLES support (BDR-3101)   SLES 15sp4 is now supported |
| PGD       | 5.1.0   | Feature         | Add subscription status column to the group subscription summary view. (BDR-2198)  This will help distinguish whether NULL values are due to a node being down or a subscription being disabled.|
| PGD       | 5.1.0   | Feature         | Add NOT group filter to Group Commit (BDR-3339)  Allows inverting the meaning of group filter to include all nodes except the ones in specifed group(s).|
| PGD       | 5.1.0   | Feature         | Add bdr.drop_node_group (BDR-3313)  Allows dropping empty node groups.|
| PGD       | 5.1.0   | Feature         | Add SYNCHRONOUS_COMMIT to Commit Scopes (BDR-3340)  This allows dynamic synchronous_commit-like behavior for replication.|
| PGD       | 5.1.0   | Feature         | Add "event_node_name" column to bdr.event_summary (BDR-3317) |
| PGD       | 5.1.0   | Feature         | Add write leader election to event history (BDR-3350) Add information about the node which is elected as a write leader for each group in the event_history catalog. While at it improve reporting of raft instance id in event_detail of event_history.|
| PGD       | 5.1.0   | Feature         | Allow exporting and importing other instances' Raft snapshots.  Allow exporting and importing snapshots also for other instances and not only top raft instances.|
| PGD       | 5.1.0   | Bug fix         | Fix memory leak in consensus process (BDR-3409, RT91830)  |
| PGD       | 5.1.0   | Bug fix         | Fix issue where a node can be inconsistent with the group after rejoining. If a node had been part of a sub-group, then parted and then rejoined to the group, it could be inconsistent with the group. The changes from some nodes of the group would be replayed from a wrong starting point, resulting in potential data-loss. |
| PGD       | 5.1.0   | Bug fix         | Fix join and replication when SDW and standby_slot_names are set (BDR-3176, RT89702, RT89536) |
| PGD       | 5.1.0   | Bug fix         | Fix spurious warnings when processing sequence options (BDR-3295, RT90668) |
| PGD       | 5.1.0   | Bug fix         | Fix upgrades for nodes with CRDTs (BDR-3302) |
| PGD       | 5.1.0   | Bug fix         | Adjust lag tracking parameters for LCRs from pg_stat_replication (BDR-3040) |
| PGD       | 5.1.0   | Bug fix         | Adjust node routing options defaults based on node kind (BDR-3029)  This change is only related to the display of the information and not the behavior, for example witness nodes are not marked as candidates for receiving writes |
| PGD       | 5.1.0   | Bug fix         | Convert all sequences to "distributed" during create node (BDR-2890)  |
| PGD       | 5.1.0   | Bug fix         | Fix streaming transactions with standby_slot_names (BDR-3248)  This could have led to a subscriber-only node get ahead of a data-node. |
| PGD       | 5.1.0   | Bug fix         | Make priority work properly for routing selection (BDR-3385)  Previously, node priority was only working if there wasn't previous leader which is never the case on failover so it was pretty much useless.|
| PGD       | 5.1.0   | Bug fix         | Correctly record join as complete for the first node (BDR-3458) |
| PGD       | 5.1.0   | Bug fix         | Disable tracing by default.   This was only enabled for initial debugging and was supposed to be disabled before 5.0 release. |
| PGD       | 5.1.0   | Bug fix         | Reload configuration for the pglogical receiver (BDR-2337)  Reload and apply the configuration changes when the server receives reload signal |
| PGD       | 5.1.0   | Bug fix         | Improve missing instance error message in bdr.monitor_group_raft() (BDR-3393) |
| PGD       | 5.1.0   | Bug fix         | Consistent use of tcp keepalives across all BDR connections (BDR-3355, BDR-3463)  This adds the following GUCs: bdr.global_connection_timeout, bdr.global_keepalives, bdr.global_keepalives_idle, bdr.global_keepalives_interval, bdr.global_keepalives_count, bdr.global_tcp_user_timeout. The defaults are set to fairly conservative values and are subject to adjustments in the future patches. |
| PGD       | 5.1.0   | Bug fix         | Close Raft connections on no activity after a timeout  This uses wal_sender_timeout/wal_receiver_timeout underneath |
| PGD       | 5.1.0   | Bug fix         | Make backends that receive Raft messages easily identifiable  Add more information in the log message related to Raft backends. |
| PGD       | 5.1.0   | Bug fix         | Parallel Apply can slow down under heavy load (BDR-3474)
| PGD       | 5.1.0   | Enhancement     | Avoid restarting sync workers.(BDR-3415)  This is to prevent the node join from failing when config changes are made that signal the restart of subscription workers. |
| Proxy     | 5.1.0   | Enhancement     | Set `application_name` to proxy name if not set by user in connection string for internal db connections (BDR-2922) |
| Proxy     | 5.1.0   | Enhancement     | Use the new `consensus_grace_period` proxy option which is the duration for which proxy will continue to route to current write leader (if it is available) upon loss of a Raft leader. If the new Raft leader is not elected during this period proxy will stop routing. If set to `0s` proxy will stop routing immediately. (BDR-3427) |
| Proxy     | 5.1.0   | Bug fix         | Instead of blocking close the new client connections when write leader is unavailable. (BDR-3545) |
| Utilities | 1.1.0   | Bug fix         | Handle uninitialized physical replication slots issue (BDR-3303) |