# yaml-language-server: $schema=https://raw.githubusercontent.com/EnterpriseDB/docs/refs/heads/develop/tools/automation/generators/relgen/relnote-schema.json
product: EDB Postgres Distributed
version: 6.2.0
date:  5 December 2025
intro: |
  EDB Postgres Distributed 6.2.0 includes new features, enhancements, and bug fixes focused on improving stability and reliability.
highlights: |
  - **First release with Postgres 18 support**: PGD 6.2.0 introduces support for the newly released PostgreSQL 18, EDB Postgres Extended (PGE) 18, and EDB Postgres Advanced Server (EPAS) 18.
  - **Connection Manager enhancements**: PGD 6.2.0 introduces significant enhancements to Connection Manager, including LDAP authentication support and improved routing stability that prevents existing client connections from dropping during leader changes.
  - **Easier adoption of Transparent Data Encryption (TDE)**: The `pgd node setup` and `pgd node upgrade` commands now include TDE options. This allows simplified adoption of TDE such as single-command conversion of non-TDE nodes to TDE nodes, significantly streamlining adopting TDE when upgrading PGD clusters running older PGE or EPAS versions (prior to v15). 


relnotes:
- relnote: Added TDE options to `pgd node upgrade` and `pgd node setup` commands.
  details: |
    The `pgd node upgrade` command now supports in-place conversion of a non-TDE PGD node to a TDE-enabled node with the `--key-unwrap-command` and `--copy-by-block` options.
    The `pgd node setup` command now includes comprehensive options to configure TDE during the initial provisioning of a new cluster node. These new options are: `--data-encryption`, `--copy-key-from`, `--key-wrap-command`, `--key-unwrap-command`, `--no-key-wrap`, and `--data-encryption-keylen` (accepts the AES key length).
  jira:  BDR-6883, BDR-7041
  addresses: ""
  type: Feature
  impact: Medium

- relnote: Added `--group filter` to `pgd nodes list` and `pgd raft show` commands.
  details: |
    The `--group` filter provides the capability to filter the output by a specified data group when administering a multi-group PGD cluster.
  jira:  BDR-5223
  addresses: ""
  type: Enhancement
  impact: Low

- relnote: Inferred default `superuser` value for EPAS cluster `setup` command.
  details: |
    When provisioning an EPAS cluster, the `--superuser` option for the `pgd node setup` command now automatically defaults to `enterprisedb` unless explicitly specified.
  jira:  BDR-6652
  addresses: ""
  type: Enhancement
  impact: Medium

- relnote: Fixed contradictory output for switchover with Connection Manager DSN.
  details: |
    Resolved an issue where the `pgd group set-leader` command displayed confusing messages of both success and failure. This issue occurred because after the switchover completed successfully, the Connection Manager immediately reset the connection due to the write-leader change.
  jira:  BDR-6912
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Added `Details` column to `pgd cluster verify --verbose --arch` output.
  details: |
    The `pgd cluster verify` command now includes a `Details` column in the architecture verification section when using the `--verbose` option. This column provides specific, detailed information about any issues encountered during the architecture check.
  jira:  BDR-6734
  addresses: ""
  type: Enhancement
  impact: Medium  

- relnote: Fixed unexpected subscription and slot creation involving subscriber-only and witness nodes.
  details: |
    This fix prevents the incorrect creation of both subscriptions and replication slots between subscriber-only nodes and witness nodes. The fix also addresses a problem seen during upgrades from PGD 5.9.0 to 6.2.0 where an unexpected slot was left behind on the witness node.
  jira:  BDR-7061
  addresses: ""
  type: Bug Fix
  impact: Medium  

- relnote: Improved Connection Manager routing change logic.
  details: |
    Resolved an issue where the Connection Manager dropped existing client connections whenever a write-leader or read-only node routing change occurred. With this fix, client connections are no longer affected by a routing refresh, as long as the PGD node they are currently connected to remains operational.
  jira:  BDR-7064
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Added `bdr.stat_receiver_transactions` view.
  details: |
    The view provides real-time information on transactions in the receiver pipeline. This view reports on transactions currently being received, sent to writers for processing, and indicates whether a transaction is being streamed to a file or writer, including the writer's application progress.
  jira:  BDR-7010
  addresses: ""
  type: Feature
  impact: Medium  

- relnote: Added support for LDAP authentication to Connection Manager.
  details: |
    Connection Manager now supports the same LDAP authentication features as PostgreSQL, with the exception that OpenLDAP configuration files and environment variables are not supported.
  jira:  BDR-6732
  addresses: ""
  type: Feature
  impact: Medium

- relnote: Fixed an issue whereby a connection is silently dropped in the Connection Manager.
  details: |
    The fix improves the handling of authentication failures in the Connection Manager.
  jira:  BDR-7169
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed an issue whereby Connection Manager crashed when full hostname is used in the `pg_hba.conf` `address` field.
  details: |
    The fix also corrects the handling of hostname suffixes. Since hostname matching is not supported by the Connection Manager, HBA rules using hostnames or hostname suffixes are now correctly ignored by the Connection Manager, preventing instability.
  jira:  BDR-7241
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Added detailed monitoring columns to `bdr.writers` view.
  details: |
    The `bdr.writers` view now includes several new columns for enhanced monitoring. It now reports the transaction apply source, the total size of the transaction, the progress of the application, the last change applied, and the upstream LSN corresponding to that last applied change.
  jira:  BDR-6923
  addresses: ""
  type: Feature
  impact: Medium

- relnote: Fixed writer error `could not open temporary file` after restart.
  details: |
    This issue occurred when streaming a large transaction, and the writer restarted only to find the temporary file name had been incorrectly freed. The bug was introduced with parallel apply and is resolved now.
  jira:  BDR-7165
  addresses: "53341"
  type: Bug Fix
  impact: Medium

- relnote: Enhanced `pgd node part` command for reuse of parting node name.
  details: |
    The behavior of the `pgd node part` command is modified so it now only waits until the node is renamed (allowing its original name to be reused) and continues the complex parting operation in the background. This enhancement also deprecates the `â€“-no-wait` option when all nodes in the PGD cluster are running version 6.2 or above.
  jira:  BDR-7027
  addresses: ""
  type: Enhancement
  impact: Medium

- relnote: Fixed an issue to ensure that the values of `node_uuid` and `node_kind` of a node are preserved after joining a cluster in a different PGD version.
  details: |
    This bug caused the `node_uuid` in system tables (`bdr.local_node` and `bdr.node`) to diverge after a full cluster upgrade. The fix ensures that the joining node's UUID and kind are correctly preserved throughout the process.
  jira:  BDR-7029
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Allow reuse of parting node names with `bdr.part_node`.
  details: |
    The PGD node management interface now allows you to reuse the names of parting nodes even while the parting operation is still in progress. This is accomplished through by setting the new `concurrent=true` option when calling the `bdr.part_node` function. 
  jira:  BDR-6635
  addresses: ""
  type: Enhancement
  impact: Medium

- relnote: Allow rename of sequence or schema containing galloc sequences.
  details: |
    Resolved an issue where concurrent operations, such as renaming a sequence or schema containing a galloc sequence, could cause problems with Raft synchronization. The fix introduces a global UUID identifier for each sequence in the `bdr.sequence_kind` catalog, which remains constant despite any sequence or schema renames. 
  jira:  BDR-5394, BDR-7050
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Added version and distribution checks for physical join in `pgd node setup`.
  details: |
    The `pgd node setup` command now performs stricter compatibility checks before allowing a physical join:
    - If the BDR version of the local and remote nodes are not an exact match, the command attempts a logical join instead of a physical join.
    - If the Postgres major version of the local and remote nodes are not the same, the command attempts a logical join instead of a physical join.
    - If the PostgreSQL distribution (flavor) of the local and remote nodes are not the same, the command exits with an error.
  jira:  BDR-7190
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed backward compatibility issue for `pgd group` commands.
  details: |
    Resolved a backward compatibility issue where PGD 6.x CLI commands, such as `pgd group show`, reported the error `No query found for version` when invoked against an older PGD 5.x cluster. The fix ensures these commands function correctly across major PGD versions.
  jira:  BDR-7210
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed invalid system identifier check for `pgd node setup`.
  details: |
    Resolved an issue where the `pgd node setup` command incorrectly reported a mismatch error when validating a valid base backup node of the given remote node.
  jira:  BDR-7089
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Handle returned `CONTEXT` value for `bdr.run_on_x` functions.
  details: |
    The PGD CLI now adjusts the database connection's verbosity to ignore the `CONTEXT` value, which previously added noise to the output, especially for errors from `bdr.run_on_x` functions.
  jira:  BDR-7036
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Support for encrypted server side certificates.
  details: |
    Connection Manager now supports the PostgreSQL `ssl_passhrase_command` option to decrypt the server private key.
  jira:  BDR-7285
  addresses: "53695"
  type: Enhancement
  impact: Medium

- relnote: Fixed the `bdr.msgb_connect` hang by introducing a connection timeout.
  details: |
    Resolved an issue where the `bdr.msgb_connect` function could hang indefinitely due to a missing network timeout setting. The fix adds a timeout to the function.  
  jira:  BDR-7294
  addresses: "53442"
  type: Bug Fix
  impact: Medium

- relnote: Fixed an issue where the `pgd node upgrade` command failed with an `invalid_slots` error when upgrading to PostgreSQL 18 or later.
  details: |
    The BDR extension has been updated to improve compatibility with the `pg_upgrade` utility, which ensures the upgrade process runs cleanly.
  jira:  BDR-7077
  addresses: ""
  type: Bug Fix
  impact: Highest

- relnote: Fixed `pgd node setup` to create a PGD node from an existing data directory.
  details: |
    Resolved an issue which prevented the `pgd node setup` command from successfully creating and configuring a PGD node using an existing data directory.
  jira:  BDR-7197
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Improved PGD database user authentication for `pgd node setup`.
  details: |
    The command has been enhanced to read user authentication credentials from a password file. 
    This file location is resolved by checking the `--dsn` global option, the `PGPASSFILE` environment variable, or the `~/.pgpass` file, in that order.
  jira:  BDR-7296
  addresses: ""
  type: Enhancement
  impact: Medium

- relnote: Connection Manager now starts and responds on its configured ports on all nodes, even those that are not currently part of a node group with routing enabled.
  details: |
    In these cases, the configuration inherited from the top-level node group is automatically applied.
  jira:  BDR-7251
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed a unique constraint violation error that could occur during an `UPDATE` operation on tables configured with both primary and unique keys.
  details: |
    Previously, an `UPDATE` conflict with an `update_missing` resolution (which attempts to insert a new record) did not check for conflicts against existing primary or unique keys, leading to an error. This issue is now fixed by treating the scenario as an `insert_exists` conflict and applying the appropriate resolution logic.
  jira:  BDR-6897
  addresses: "50539, 51417, 54323"
  type: Bug Fix
  impact: Medium

- relnote: The `ALTER TABLE SET pgd.replicate_to_analytics` property can now be applied to individual partitions.
  details: |
    This allows for granular control over which partitions replicate data to analytical targets.
  jira:  BDR-7226
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: Fixed an issue that caused consensus breakage when a duplicate value was assigned to either the <code>analytics_storage_location</code> or <code>analytics_write_catalog</code> settings.
  jira:  BDR-7129
  addresses: ""
  type: Bug Fix
  impact: Medium

- relnote: The `bdr.prefer_analytics_engine` setting now works for Iceberg REST catalogs by using the `analytics_write_catalog` node group option. 
  details: |
    Previously, this setting only applied to PGFS storage locations.
  jira:  BDR-7072
  addresses: ""
  type: Enhancement
  impact: Medium