---
title: PGD Essential Architectures
navTitle: Architectures
navigation:
- standard
- near-far
---

## Choosing an architecture

There are two supported architectures for PGD Essential. The architecture you choose will depend on your use case. Essential supports the two major use cases for replication: high availability and disaster recovery. The architecture you choose will depend on your use case.

They are standard and near/far.

## Standard architecture - Ideal for a highly available single location

The standard, or one-location, architecture is designed for a single location which needs to be highly available. Built around three data nodes, the Essential standard architecture ensures that data is replicated across all three nodes and that, in the event of a failure, the system can continue to operate without data loss.

Using core PGD capabilites, the standard architecture configures the three nodes in a multi-master replication configuration. That is, each node operates as a master node and logically replicates its data to the other nodes. Now, while PGD is capable of handling conflicts between data changes on nodes, the Essential standard architecture use PGD's integrated connection manager to ensure that all writes are directed to a single node, the write leader. Conflicts are avoided by allowing that singular leader to handle all updates to the data. Changes are then replicated to the other nodes in the cluster. 

If the write leader fails, the remaining nodes in the cluster will elect a new write leader and the connection managers in those nodes will then automatically failover to send writes to the new leader. When the failed node comes back online, it will automatically rejoin the cluster and begin replicating data from the new write leader.

The Essential standard architecture has been created to be easy to deploy and manage, based on user experience. Unlike other high availability solutions, because Essential is built on PGD, moving to a more complex architecture is simple and straightforward; move to Expanded PGD and then add new data groups to the cluster as needed.

## Near/far architecture - Ideal for disaster recovery

The Near/Far architecture is designed for a single location which needs to be reasonably highly available, but also needs to be able to recover from a disaster. It does this by having a two data node cluster in the primary location and a single data node in a secondary location. 

The two data nodes in the primary location are configured in a multi-master replication configuration, just like the standard architecture. The single data node in the secondary location is configured as a subscriber to the primary location. This means that all changes made to the data in the primary location are replicated to the secondary location. 

In the event of a partial failure at the primary location, the system will switch to the other data node, also with a complete replica of the data, and continue to operate. It will also continue replication to the secondary location. When the failed node at the primary location comes back, it will rejoin and begin replicating data from the node that is currently primary.

In the event of a complete failure in the primary location, the secondary location's database has a complete replica of the data. The connection manager in the primary location will automatically failover to the secondary location and all writes will be directed to that node. When the primary location comes back online, it will automatically rejoin the cluster and begin replicating data from the secondary location.




