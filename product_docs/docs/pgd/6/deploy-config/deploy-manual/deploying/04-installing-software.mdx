---
title: Step 4 - Installing the PGD software
navTitle: Installing PGD software
deepToC: true
redirects:
  - /pgd/latest/install-admin/admin-manual/installing/04-installing-software/ #generated for pgd deploy-config-planning reorg 
  - /pgd/latest/admin-manual/installing/04-installing-software/ #generated for pgd deploy-config-planning reorg 
---

## Installing the PGD software

With the repositories configured, you can now install the Postgres Distributed software. 
You must perform these steps on each host before proceeding to the next step.

* **Install the packages.**
  * Install the PGD package which include a server-specific PGD package. (`edb-pgd6-<postgresversion>`) that includes the PGD CLI.
* **Switch to the Postgres user.**
  * The Postgres user is the system user that runs the database server. 
  * For EDB Postgres Advanced Server, this is `enterprisedb`. For PostgreSQL, it's `postgres`.
* **Run the PGD CLI command to create a PGD node**
  * This command creates a node in the cluster.
  * Then it joins the node to the existing cluster (or makes the first node in the cluster).

## Worked example

### Install the packages

The first step is to install the packages. Each Postgres package has an `edb-pgd17-<pgdedition>-<postgresversion>` package to go with it. 
For example, if you're installing EDB Postgres Advanced Server (epas) version 17, you'd install `edb-pgd6-epas17`. 

<TabContainer synckey="platform">

<Tab title="RHEL/Rocky/AlmaLinux/Oracle Linux">

To install the packages on a RHEL or RHEL compatible Linux, run:

```bash
sudo dnf -y install edb-as17-server
sudo dnf -y install edb-pgd6-epas17
```

</Tab>

<Tab title="Debian/Ubuntu">

To install the packages on a Debian or Ubuntu Linux, run:

```bash
sudo dnf -y install edb-as17-server
sudo apt-get -y install edb-pgd6-epas17
```

</Tab>

</TabContainer>

### Switch to the Postgres user

<TabContainer synckey="pgd">

<Tab title="RHEL/Rocky/AlmaLinux/Oracle Linux">

To install the packages on a RHEL or RHEL compatible Linux, run:

```bash
sudo dnf -y install edb-as17-server
sudo dnf -y install edb-pgd6-epas17
```

</Tab>

<Tab title="Debian/Ubuntu">

To install the packages on a Debian or Ubuntu Linux, run:

```bash
sudo dnf -y install edb-as17-server
sudo apt-get -y install edb-pgd6-epas17
```

</Tab>

</TabContainer>



## Summaries

### Installing PGD for EDB Postgres Advanced Server

For your convenience, here's a summary of the commands used in this example.

```
sudo dnf -y install edb-bdr5-epas16 edb-pgd5-proxy edb-pgd5-cli
sudo PGSETUP_INITDB_OPTIONS="-E UTF-8" /usr/edb/as16/bin/edb-as-16-setup initdb
sudo systemctl start edb-as-16
echo -e "shared_preload_libraries = '\$libdir/bdr,\$libdir/dbms_pipe,\$libdir/edb_gen,\$libdir/dbms_aq'" | sudo -u enterprisedb tee -a /var/lib/edb/as16/data/postgresql.conf >/dev/null
echo -e "wal_level = 'logical'" | sudo -u enterprisedb tee -a /var/lib/edb/as16/data/postgresql.conf >/dev/null
echo -e "track_commit_timestamp = 'on'" | sudo -u enterprisedb tee -a /var/lib/edb/as16/data/postgresql.conf >/dev/null
echo -e "max_worker_processes = '16'" | sudo -u enterprisedb tee -a /var/lib/edb/as16/data/postgresql.conf >/dev/null
sudo -u enterprisedb psql edb -c "ALTER USER enterprisedb WITH PASSWORD 'secret'"
echo -e "host all all all md5\nhost replication all all md5" | sudo tee -a /var/lib/edb/as16/data/pg_hba.conf >/dev/null
echo -e "*:*:*:enterprisedb:secret" | sudo -u enterprisedb tee /var/lib/edb/.pgpass >/dev/null; sudo chmod 0600 /var/lib/edb/.pgpass
sudo systemctl restart edb-as-16
sudo -u enterprisedb psql edb -c "CREATE DATABASE bdrdb"
sudo -u enterprisedb psql bdrdb -c "CREATE EXTENSION bdr"
sudo -u enterprisedb psql bdrdb

```

### Installing PGD for EDB Postgres Extended Server

Installing PGD with EDB Postgres Extended Server has a number of differences from the EDB Postgres Advanced Server installation:

* The BDR package to install is named `edb-bdrV-pgextendedNN` (where V is the PGD version and NN is the PGE version number).
* Call a different setup utility: `/usr/edb/pgeNN/bin/edb-pge-NN-setup`.
* The service name is `edb-pge-NN`.
* The system user is postgres (not enterprisedb).
* The home directory for the postgres user is `/var/lib/pgqsl`.
* There are no preexisting libraries to add to `shared_preload_libraries`.

#### Summary: Installing PGD for EDB Postgres Extended Server 16

```
sudo dnf -y install edb-bdr5-pgextended16 edb-pgd5-proxy edb-pgd5-cli
sudo PGSETUP_INITDB_OPTIONS="-E UTF-8" /usr/edb/pge16/bin/edb-pge-16-setup ekend initdb
sudo systemctl start edb-pge-16
echo -e "shared_preload_libraries = '\$libdir/bdr'" | sudo -u postgres tee -a /var/lib/edb-pge/16/data/postgresql.conf >/dev/null
echo -e "wal_level = 'logical'" | sudo -u postgres tee -a /var/lib/edb-pge/16/data/postgresql.conf >/dev/null
echo -e "track_commit_timestamp = 'on'" | sudo -u postgres tee -a /var/lib/edb-pge/16/data/postgresql.conf >/dev/null
echo -e "max_worker_processes = '16'" | sudo -u postgres tee -a /var/lib/edb-pge/16/data/postgresql.conf >/dev/null
sudo -u postgres psql postgres -c "ALTER USER postgres WITH PASSWORD 'secret'"
echo -e "host all all all md5\nhost replication all all md5" | sudo tee -a /var/lib/edb-pge/16/data/pg_hba.conf >/dev/null
echo -e "*:*:*:postgres:secret" | sudo -u postgres tee /var/lib/pgsql/.pgpass >/dev/null; sudo chmod 0600 /var/lib/pgsql/.pgpass
sudo systemctl restart edb-pge-16
sudo -u postgres psql postgres -c "CREATE DATABASE bdrdb"
sudo -u postgres psql bdrdb -c "CREATE EXTENSION bdr"
sudo -u postgres psql bdrdb

```

### Installing PGD for Postgresql

Installing PGD with PostgresSQL has a number of differences from the EDB Postgres Advanced Server installation:

* The BDR package to install is named `edb-bdrV-pgNN` (where V is the PGD version and NN is the PostgreSQL version number).
* Call a different setup utility: `/usr/pgsql-NN/bin/postgresql-NN-setup`.
* The service name is `postgresql-NN`.
* The system user is postgres (not enterprisedb).
* The home directory for the postgres user is `/var/lib/pgqsl`.
* There are no preexisting libraries to add to `shared_preload_libraries`.

#### Summary: Installing PGD for Postgresql 16

```
sudo dnf -y install edb-bdr5-pg16 edb-pgd5-proxy edb-pgd5-cli
sudo PGSETUP_INITDB_OPTIONS="-E UTF-8" /usr/pgsql-16/bin/postgresql-16-setup initdb
sudo systemctl start postgresql-16
echo -e "shared_preload_libraries = '\$libdir/bdr'" | sudo -u postgres tee -a /var/lib/pgsql/16/data/postgresql.conf >/dev/null
echo -e "wal_level = 'logical'" | sudo -u postgres tee -a /var/lib/pgsql/16/data/postgresql.conf >/dev/null
echo -e "track_commit_timestamp = 'on'" | sudo -u postgres tee -a /var/lib/pgsql/16/data/postgresql.conf >/dev/null
echo -e "max_worker_processes = '16'" | sudo -u postgres tee -a /var/lib/pgsql/16/data/postgresql.conf >/dev/null
sudo -u postgres psql postgres -c "ALTER USER postgres WITH PASSWORD 'secret'"
echo -e "host all all all md5\nhost replication all all md5" | sudo tee -a /var/lib/pgsql/16/data/pg_hba.conf >/dev/null
echo -e "*:*:*:postgres:secret" | sudo -u postgres tee /var/lib/pgsql/.pgpass; sudo chmod 0600 /var/lib/pgsql/.pgpass
sudo systemctl restart postgresql-16
sudo -u postgres psql postgres -c "CREATE DATABASE bdrdb"
sudo -u postgres psql bdrdb -c "CREATE EXTENSION bdr"
sudo -u postgres psql bdrdb

```
