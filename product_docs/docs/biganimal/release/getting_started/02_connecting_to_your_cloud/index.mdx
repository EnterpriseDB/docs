---
title: Connecting your cloud
---

You can connect your BigAnimal account to either Azure or AWS. To successfully connect your account, you must perform the following:

1. [Import users from your organization]()
1. [Run EDB's setup script]()
1. [Assign roles to users]()

## Import users from your organization

Use the link provided in EDB customer care's oboarding email to open a page for setting up your identity provider (IdP). Choose the protocol with which you want to connect and perform either of the following procedures.

### Method 1: Manually register your IdP in BigAnimal using a SAML metadata file

In the **Setting up your IdP in BigAnimal** page, specify the following information:

- **Domain Name**: SAML Authentication Request Protocol binding used to send the AuthNRequest i.e. HTTP or HTTP POST
- **SAML** or **OIDC**: Authentication protocol used by your identity provider.
- **Issuer URI**: URI string uniquely associated with your Identity Provider partner.
- **Signing certificate**: Identity provider's assertion signing certificate (.cer or .cert). Coordinate with your identity provider partner to obtain this certificate securely.
- **Request Binding**:
- **Response Signature Algorithm (RSA) Algorithm**: The signature algorithm used to sign the SAML AuthNRequest i.e. SHA or SHA-256

Click **Next** to download the metadata file to configure BigAnimal in your IdP environment. 

!!! Note

    While configuring the SAML response, ensure that the SAML repsonse is configured correctly. **Provide more details here (TBD)**.


### Method 2: Confirming your domain 

Add and verify your domain to confirm ownership of the domain. Your domain routes all login requests from users (with your domain name in their email addresses) to the correct login page. 

1. Configure a new application for BigAnimal using the SSO URL and Audience URI in your SAML IdP. 

1. Sign in to your domain name provider and add a verification key in a DNS txt record. In BigAnimal verify that your personal record is present and assigned to your domain. 

Each DNS record associates an organization with a domain. This also means that users can only access multiple BigAnimal Organizations by using different emails with different domains. Users e.g. contractors, who need such access need an email with the correct domain to access each Organization; they will have multiple BigAnimal logins, one for each Organization.  

When users are done filling out the onboarding form, BigAnimal tests whether the information provided is correct. BigAnimal displays messages to help you troubleshoot in case of any errors. 

### Method 3: OIDC 

OIDC uses OAuth 2.0 for authentication and authorization. Configure a new application and create credentials in your OIDC IdP. 

Perform the following steps in the **Setting up your IdP in BigAnimal** page

1. Input OAuth credentials into BigAnimal. They then input these OAuth credentials, the client ID and client secret into the BigAnimal UI. EDB will flag to the customer that these credentials can’t be accessed or used by BigAnimal after they are input.

1. Input callback URL in OIDC. After providing the client ID and client secret, the user will receive a callback URL from BigAnimal. They then input this callback URL from BigAnimal to Authorized redirect URI field in the OIDC IdP.

1. Connect within BigAnimal. When users are done filling out the onboarding form and click ‘complete,’ BigAnimal will test whether the information provided is correct. We’ll let users know where they failed if applicable i.e. email, domain verification or IdP form.

## Run EDB's setup script

When you first log into BigAnimal, run a script to set up your cloud account.

1. Open your terminal and copy the script below:

1. Input your cloud provider and account ID or subscription ID. The script sets up the boundary policy, designates the role and access BigAnimal should have to your Cloud Provider, and checks and raises account limits as needed.


## Assign roles to users

The final step in this part of onboarding is to import users from the IdP. We’ll prompt the user to do so from the form.

Importing Users: Assigning Roles + Role Mapping
The final step in setting up the IdP, whether SAML or OIDC, is importing the users which must be done from the IdP. 

Users are invited through the IdP with a default role of ‘reader’ (which will become Organization Member after Projects is released). 
Any user who is added to the group in the IdP will be automatically added into BigAnimal.
Users are notified via the IdP that they’ve been added. 
BigAnimal roles can be managed through the BigAnimal UI 
A user will only be created and show up in the BigAnimal UI once they have logged in. If they have never logged in, they won’t show up in the user list and therefore their BigAnimal role can’t be changed (until they log in).

The first user who is setting the IdP up will have the default role of ‘Account Owner’ in the BigAnimal UI. 
 
After importing users, the Account Owner can set up the Cloud Account themselves or another user can. After completing the IdP setup, the user will be redirected to the portal and can log into BigAnimal immediately. For more on Cloud Account Setup, see here.

In the future, the users in an IdP will be imported automatically into BigAnimal with their BigAnimal roles mapped to their corresponding roles in the IdP. In the future, under the Projects work, we’ll adjust the roles available to a user and how those get assigned. 



