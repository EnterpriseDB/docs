---
title: "Error messages"
redirects:
- /eprs/7/10_appendix/03_resolving_problems/01_error_messages
---

These error messages can appear from the Replication Server console. The messages are listed in alphabetical order.

This list includes only the messages that typically involve initial configuration operations requiring additional information for resolving the problem. 

## Error Messages and Resolutions

**Problem**

`Authentication failed. Reason: Invalid user name/password.`

**Resolution**

Occurs when registering a publication server or subscription server. Verify the user name and password you enter matches the admin user name and password in the Replication Server configuration file on the host you're running the publication server or subscription server. See [Replication Server configuration file](../../02_overview/03_replication_server_components_and_architecture/01_physical_components/#xdb_replication_conf_file).

**Problem**

`Cannot register database because it is already registered by a publication service.`

**Resolution**

You can create only one publication database definition for any given database. (Oracle is the exception whereby more than one publication database definition can be created for the same Oracle database if different Oracle user names are specified in each publication database definition.)

**Problem**

`The connection could not be established with the server. Verify that the server is running and accepting connections. Reason: Connection refused to host: *xxx*.\ *xxx*.\ *xx*.\ *xxx*; nested exception is: java.net.ConnectException: Connection refused`

**Resolution**

Occurs whenever a Java RMI connection can't be made to the publication server, the subscription server, or a database server. Can occur when registering a publication or subscription server, adding a publication database or a subscription database, or identifying the publication server for a new subscription. Verify you that have entered the correct host IP address and port number of the server. Verify the server is running (see [Starting the publication server or subscription server](04_troubleshooting_areas/#start_pub_or_sub_server)). If the server is running on Linux, verify that in the `/etc/hosts` file the host name is mapped to the correct network IP address, which matches the IP address returned by the Linux `/sbin/ifconfig` command and also matches the IP address you entered in the **Host** field of the dialog box. Alternatively, instead of modifying the `/etc/hosts` file, set configuration option `java.rmi.server.hostname` to the IP address of the publication or subscription server (see [Assigning an IP address for remote method invocation](../03_miscellaneous_xdb_processing_topics/01_publications_and_subscriptions_server_conf_options/07_assign_ip_adress_for_rmi/#assign_ip_adress_for_rmi) Don't use the loopback address `127.\ *x*.\ *x*.\ *x*` for this entry.

**Problem**

`Connection refused. Check that the hostname and port are correct and that the postprimary is accepting TCP/IP connections.`

**Resolution**

Occurs when attempting to save a publication database definition. The publication server can't connect to the database server network location given in the Add Database dialog box. Verify that the correct IP address and port for the database server are given. Verify that the database server is running and is accessible from the host running the publication server.

**Problem**

`Could not connect to the database server. Reason: FATAL: number of requested standby connections exceeds max_wal_senders (currently *n*)`

**Resolution**

Occurs when attempting a snapshot replication from a publication database configured with the log-based method of synchronization replication (that is, WAL-based logical replication), and the additional concurrent connection for logical replication exceeds the current setting, `n`, of the `max_wal_senders` configuration parameter in the `postgresql.conf file`. Increase the value of `max_wal_senders` in the `postgresql.conf` file of the database server running the publication database. Restart the database server containing the publication database. See [Synchronization Replication with the Log-Based Method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based).

**Problem**

`Currently no publication exists on the publication server. Please create at least one publication on the server and then retry.`

**Resolution**

Occurs when attempting to create a subscription. If there are no publications in the specified publication server, then this error message appears.

**Problem**

`The database cannot be registered because a partial schema already exists. A manual cleanup is required to proceed. For help with manual cleanup please check out our product documentation.`

**Resolution**

The metadata database objects from a prior publication already exist in the schema under which the publication server is attempting to create new metadata database objects. Perform the operation described in [Deleting the control schema and control schema objects](04_troubleshooting_areas/#deleting-the-control-schema-and-control-schema-objects).

**Problem**

`Database cannot be removed. Reason: Publication database connection cannot be removed as one or more publications are defined against it.`

**Resolution**

Make sure all publications subordinate to the publication database definition are removed. If no publications appear under the Publication Database node in the Replication Server console replication tree and the error persists, there might be a problem with the control schema objects. Perform the operation described in [Deleting the control schema and control schema objects](04_troubleshooting_areas/#deleting-the-control-schema-and-control-schema-objects).

**Problem**

`Database cannot be removed. Reason: Publication service failed to clean up replication control schema tables.`

**Resolution**

The control schema objects under the Oracle publication database user schema or under the Postgres or SQL Server schemas `\_edb_replicator_pub`, `\_edb_replicator_sub`, or `\_edb_scheduler` can't be deleted by the publication server. The control schema objects or schemas might have already been deleted. The publication database definition can't be removed using the Replication Server console. Perform the operation described in [Deleting the control schema and control schema objects](04_troubleshooting_areas/#deleting-the-control-schema-and-control-schema-objects).

**Problem**

`Database cannot be removed. Reason: The target publication database is currently set as the Controller database and is being referenced by one or more dependent nodes.`

**Resolution**

Occurs when attempting to remove the publication database currently set as the controller database. Select another publication database to use as the controller database. Use the **Set As Controller** option in the publication database's context menu to set this database as the controller database. You can then remove the original publication database. See [Switching the controller database](../../07_common_operations/07_switching_controller_db/#switching_controller_db).

**Problem**

`Database cannot be set as controller. Reason: Connection refused. Check that the hostname and port are correct and that the postprimary is accepting TCP/IP connections.`

**Resolution**

Occurs when attempting to set a publication database as the controller database and the database isn't accessible by the publication server. Verify that the correct IP address and port was defined in the publication database definition. Verify that the database server is running and is accessible from the host running the publication server.

**Problem**

`Database connection cannot be added. Connection refused. Check that the hostname and port are correct and that the postprimary is accepting TCP/IP connections.`

**Resolution**

Occurs when attempting to save a subscription database definition. The subscription server can't connect to the database server network location given in the Add Database dialog box. Verify that the correct IP address and port for the database server are given. Verify that the database server is running and is accessible from the host running the subscription server.

**Problem**

`Database connection cannot be added. FATAL: no pg_hba.conf entry for host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*", user "*user_name*", database "*db_name*", SSL off`

**Resolution**

Occurs when attempting to save a subscription database definition. The subscription server isn't permitted to connect to the database at the network location given in the Add Database dialog box. Verify that the database host IP address, port number, database user name, password, and database identifier are correct. Verify there is an entry in the `pg_hba.conf` file permitting access to the database by the given user name originating from the IP address where the subscription server is running.

**Problem**

`Database connection cannot be added. Controller database is not initialized yet.`

**Resolution**

Occurs when attempting to add a subscription database. Verify that the Replication Server configuration file on the host running the subscription server contains an entry for a valid controller database. Verify that a publication database was defined under the publication server as the controller database and its connection information is recorded in the Replication Server configuration file. See [Replication Server configuration file](../../02_overview/03_replication_server_components_and_architecture/01_physical_components/#xdb_replication_conf_file).

**Problem**

`The database type for the selected database is different than that of the MDN database. Each database should be of the same type in a MMR cluster.`

**Resolution**

All database servers in a multi-master replication system must be of the same type&mdash;either all PostgreSQL (or EDB Postgres Advanced Server installed in PostgreSQL-compatible configuration mode) or all EDB Postgres Advanced Server installed in Oracle-compatible configuration mode. This error message appears when attempting to add a primary node and the database server type differs from the database server type of the primary definition node. See [Permitted MMR database server configurations](/eprs/latest/01_introduction/04_permitted_conf_and_permutations/#permitted_mmr_db_server_conf).

**Problem**

`An error occurred while removing tables from other Primary node(s). Please refer to the user manual for instructions on how to remove shadow tables and triggers from Primary node(s).`

**Resolution**

When a primary node of a multi-master replication system is deleted using the Replication Server console or the Replication Server CLI, the control schema objects that were created in the primary node are also dropped. These include schemas `\_edb_replicator_pub`, `\_edb_replicator_sub`, and `\_edb_scheduler`. For the log-based method of synchronization replication, there are shadow tables and triggers on the publication tables as well. If any of these control schema objects fail to be dropped, this error message appears. See [Dropping replication slots for log-based synchronization replication](04_troubleshooting_areas/#drop_replication_slots_for_log_based) for directions on how to remove these control schema objects.

**Problem**

`FATAL: no pg_hba.conf entry for host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*", user "*user_name*", database "*db_name*", SSL off`

**Resolution**

Occurs when attempting to save a publication database definition. The publication server isn't permitted to connect to the database at the network location given in the Add Database dialog box. Verify that the database host IP address, port number, database user name, password, and database identifier are correct. Verify there is an entry in the `pg_hba.conf` file permitting access to the database by the given user name originating from the IP address where the publication server is running.

**Problem**

`Filter cannot be defined for Binary data type column(s)e.g. BYTEA, BLOB, RAW.`

**Resolution**

Occurs when attempting to define a filter rule on a column with a binary data type in a publication table. Filter rules aren't permitted on such columns. See [Table settings and restrictions for table filters](../../02_overview/02_replication_concepts_and_definitions/13_table_filters/#table_settings_and_restrictions_for_table_filters).

**Problem**

`Filter with same name/clause already exist on table/view: *schema*.\ *table_name*`

**Resolution**

When adding a filter rule on a publication table, you can't use the same filter name or the same filter clause (WHERE clause) more than once on a given table. Modify the duplicate filter name or filter clause so it is unique for the table.

**Problem**

`The initial snapshot is not performed for this subscription. Please take the snapshot first and then proceed with the synchronize operation.`

**Resolution**

A snapshot replication must be performed before the first synchronization replication. Perform an on-demand snapshot replication.

**Problem**

`It is recommended to use a network IP address, the loopback address may result in connectivity issues.`

**Resolution**

This warning is given when localhost or 127.0.0.1 is specified as the host address of a replication system component. We strongly recommend that all replication system components are identified by their specific IP address on the network.

**Problem**

`The log triggers creation failed for one or more publication tables. Make sure the database is in valid state and user is granted the required privileges.`

**Resolution**

Either the user doesn't have the trigger creation privilege or there is a database server problem. The database server message is displayed as part of the error.

**Problem**

`The MMR mode is currently not supported for *database_type* database.`

**Resolution**

A database server of type *database_type* can't be used in a multi-master replication system. You can use only EDB Postgres Advanced Server or PostgreSQL database servers as primary nodes in a multi-master replication system.

**Problem**

`Multiple filters of same table are not allowed.`

**Resolution**

When creating a subscription in a single-master replication system or creating a primary node other than the primary definition node in a multi-master replication system, you can select only one filter for a given table. Clear the additional boxes in the Apply column under the **Filter Rules** tab if more than one box is selected.

**Problem**

`No JDBC Client driver is configured for the Oracle data source.`

**Resolution**

Occurs when creating an Oracle publication or subscription database definition. Copy the Oracle JDBC driver file `ojdbc\ *x*.jar` to subdirectory `lib/jdbc` of where the publication server or subscription server is installed on the host running the publication server or subscription server. Restart the publication server or subscription server.

**Problem**

`No Publication found on MDN node, additional Primary node cannot join MMR cluster.`

**Resolution**

Occurs when attempting to add a second primary node to a multi-master replication system but no publication was defined under the primary definition node. Create a publication under the primary definition node, and then add the additional primary nodes. See [Adding a publication](../../06_mmr_operation/02_creating_publication_mmr/#add_pub_mmr).

**Problem**

`None of the target master/subscription databases is accessible, hence the replication process failed to complete.`

**Resolution**

Synchronization replication failed due to the unavailability of a target database. See the publication server log file for details. See [Where to look for errors](02_where_to_look_for_errors/#where_to_look_for_errors).

**Problem**

`One or more primary database node(s) are defined against this publication. Removing the publication will invalidate the MDN.`

**Resolution**

Primary nodes are still defined in a multi-master replication system in which an attempt is being made to delete the publication from the primary definition node. You must delete all primary nodes (other than the primary definition node) first before deleting the publication from the primary definition node. Perform this deletion process with the Replication Server console or Replication Server CLI.

**Problem**

`One or more subscriptions are defined against this publication. Removing the publication will invalidate the subscription. Do you want to continue?`

**Resolution**

Warning issued when you attempt to remove a publication with subscriptions associated with it. You can remove the publication, but the subscriptions are no longer usable and you must remove them as well.

**Problem**

`Multiple Publications creation is currently not supported.`

**Resolution**

Only one publication is supported in a multi-master replication system, and only one such multi-master replication system can exist for an Replication Server installation.

**Problem**

`Only subscription which has subscribed against a publication with transactional replication type, can be synchronized.`

**Resolution**

You can't perform synchronization replication on a snapshot-only publication. Perform snapshot replication instead.

**Problem**

`The Oracle/MS SQL Server cannot be registered if the active Controller database is a non-PG/PPAS database.`

**Resolution**

Occurs when creating an Oracle or SQL Server publication database definition and the current controller database is not a Postgres database (that is, the controller database is an Oracle or SQL Server database). /To create an Oracle or SQL Server publication database, create and designate a Postgres publication database as the controller database. See [Switching the controller database](../../07_common_operations/07_switching_controller_db/#switching_controller_db).

**Problem**

`Parent table *table_name* is not selected when its child tables are part of the publication list.`

**Resolution**

Table selected for a publication has a foreign key referencing a parent table that hasn't been chosen for the publication. This is only a warning that the parent table will not be part of the subscription.

**Problem**

`Problem occurred in publish process. Reason: Connection refused. Check that the hostname and port are correct and that the postprimary is accepting TCP/IP connections.`

**Resolution**

Occurs when attempting synchronization replication and the controller database isn't accessible by the publication server. Verify that the correct IP address and port was defined in the publication database definition of the controller database. Verify that the database server is running and is accessible from the host running the publication server.

**Problem**

`Problem occurred in publish process. Reason: ERROR: permission denied for schema \_edb_replicator_pub`

**Resolution**

For a Postgres publication, verify that the publication database user has `CREATE ON DATABASE` privilege on the publication database, or the database user is a superuser.

**Problem**

`Publication cannot be created. One or more tables have no attributes defined and cannot be published. Unselect the specific tables and retry.`

**Resolution**

In Postgres, it is possible to create a table with no columns. A publication can't include a Postgres table with no columns since the corresponding subscription table can't be created in Oracle.

**Problem**

`Publication cannot be created. Publication *publication_name* already exists on the publisher server. Please choose a different name and then proceed.`

**Resolution**

Publication names must be unique in a publication server. Enter a different publication name.

**Problem**

`Publication cannot be created. Table *schema*.\ *table_name* replica identity is set to *replica_identity_setting*. To define a Filter, the table replica identity should be set to FULL.`

**Resolution**

Occurs when you attempt to define a table filter is attempted on a publication table used in a log-based replication system. Use the `ALTER TABLE` statement to change `REPLICA IDENTITY` to `FULL`. See [Table settings and restrictions for table filters](../../02_overview/02_replication_concepts_and_definitions/13_table_filters/#table_settings_and_restrictions_for_table_filters).

**Problem**

`Publication cannot be created. Replica Identity for table table_name is DEFAULT, but it does not contain a Primary Key or Unique columns. Transactional replication is not supported for this table.`

**Resolution**

All tables used for synchronization replication must have primary keys or unique columns. Create a primary key or unique column on the table, or add the table to a snapshot-only publication.

**Problem**

`Publication cannot be created. Replica Identity for table table_name is INDEX, but it does not have Unique Columns. Transactional replication is not supported for this table.`

**Resolution**

All tables used for synchronization replication must have primary keys or unique columns. Create a primary key or unique column on the table, or add the table to a snapshot-only publication.`

**Problem**

`Publication cannot be created. Replica Identity for table table_name is FULL and it has no Primary Key and no Unique Columns. Transactional replication is not supported for this table yet.`

**Resolution**

All tables used for synchronization replication must have primary keys or unique columns. Create a primary key or unique column on the table, or add the table to a snapshot-only publication. 

**Problem**

`Publication cannot be created. Replica Identity for table table_name is NOTHING. Log-based transactional replication is not supported for this table.`

**Resolution**  

With replica identity NOTHING, no WAL records are produced, so log-based transactional replication isn't possible. Change the replica identity of this table and provide primary key and no unique columns.

**Problem**

`Publication cannot be created. Replica Identity for table table_name is NOTHING and it does not contain a Primary Key or Unique columns. Tigger-based transactional replication is not supported for this table.`

**Resolution**

All tables used for synchronization replication must have primary keys or unique columns. Create a primary key or unique column on the table, or add the table to a snapshot-only publication.

**Problem**

`Publication cannot be created. The publication creation process timed out as one or more tables may be locked by another session. Please retry later.`

**Resolution**

For a Postgres publication that isn't for snapshot-only, the publication database user must be able to create triggers on the publication tables. To do this, the publication database user must have the privilege to execute the `ALTER TABLE` statement on the publication tables, and the publication database user must have `CREATE` and `USAGE` privileges on the schema containing the publication tables. Verify that one of the following is true: 1) All the tables in the publication are owned by the publication database user and the user has `CREATE` and `USAGE` privileges on the publication tables’ schemas, or 2) the publication database user is a superuser.

**Problem**

`Publication cannot be removed. Reason: Publication *publication_name* cannot be removed. Reason: Error: cannot drop table \_edb_replicator_pub.rrst\_\ *schema_table_name* because other objects depend on it.`

**Resolution** 

PL/pgSQL custom conflict handler functions might exist in the primary definition node that depend on the publication’s shadow tables. Drop the custom conflict handler functions before deleting the publication.

**Problem**

`Publication cannot be updated. Reason: The parent table *schema*.\ *table_name* is selected for removal while it has one or more child tables in the publication list. Make sure that parent-child dependency holds in the publication tables.`

**Resolution**

Choose the child tables for removal as well as the parent table.

**Problem**

`Publication defined in MMR cluster cannot be subscribed in SMR cluster.`

**Resolution**

A given publication can't be used in both a multi-master replication system and a single-master replication system.

**Problem**

`Publication does not exist on the publication server. It might have been removed.`

**Resolution** 

The publication doesn't exist for a given subscription. The subscription is no longer usable and must be removed.

**Problem**

`Publication having subscription against it, cannot be updated by removing tables from it.`

**Resolution**

Remove the subscription, remove tables from the publication, and then add the subscription.

**Problem**

`The publication schema cannot be created. Reason: ERROR: Permission denied for database *db_name*.`

**Resolution**

Occurs when attempting to create the publication database definition and the specified publication database user doesn't have the privilege to create a schema in database `db_name`. Grant the `CREATE` privilege on the database to the publication database user.

**Problem**

`Publication Service connection failure.`

**Resolution**

Verify that the publication server is running. See [Starting the publication server or subscription server](04_troubleshooting_areas/#start_pub_or_sub_server). Verify that the database server hosting the controller database specified in the Replication Server configuration file is running and the publication server is connected to it. See [Replication Server configuration File](../../02_overview/03_replication_server_components_and_architecture/01_physical_components/#xdb_replication_conf_file).

**Problem**

`The replication process could not be completed due to a database failure. Check the database state and retry.`

**Resolution**

Might be caused by characters in the publication data that are illegal for the character set of the subscription database. Check the snapshot replication failure log file or the database server log file. See [Replacing null characters](../03_miscellaneous_xdb_processing_topics/01_publications_and_subscriptions_server_conf_options/02_replacing_null_characters/#replacing_null_characters).

**Problem**

`Replication server does not support Oracle to Oracle replication.`

**Resolution** 

See [Permitted configurations and combinations](/eprs/latest/01_introduction/04_permitted_conf_and_permutations/#permitted_conf_and_permutations) for supported database server configurations. Use Oracle products for Oracle-to-Oracle replication.

**Problem**

`A replication slot is not available on the target database server. Please configure the max_replication_slots GUC on the database server.`

**Resolution**

Occurs when attempting to add a publication database definition with the log-based method of synchronization replication, and the `max_replication_slots` configuration parameter in the `postgresql.conf` file isn't set to a large enough value to accommodate the added database. Increase the value of the `max_replication_slots` parameter and restart the database server. See [Synchronization replication with the log-based method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based) for more information.

**Problem**

`Subscription *subscription_name* already exists on the subscriber server. Please choose a different name and then proceed.`

**Resolution** Subscription names must be unique in a subscription server. Enter a different subscription name.

**Problem**

`Subscription *subscription_name* cannot be removed. Reason: Publication does not exist on the publication server.`

**Resolution** 

Warning issued if the subscription you're attempting to remove doesn't have an associated publication. You can still remove the subscription. Subscription database connection can't be removed as one or more subscriptions are defined against it.

You can't remove a subscription database definition if there are subordinate subscriptions. Remove the subscriptions first.

**Problem**

`Subscription does not exist on the subscription service. It might have been removed by some other user.`

**Resolution** The Subscription node you are trying to select no longer represents an existing subscription. The subscription might have been removed by a concurrent Replication Server console or Replication Server CLI session. Select **Refresh** in the Replication Server console toolbar to display the current replication tree.

**Problem**

`Subscription Service connection failure.`

**Resolution** Verify that the subscription server is running. See [Starting the publication server or subscription server](04_troubleshooting_areas/#start_pub_or_sub_server)

**Problem**

`Synchronize Publication process failed for one or more primary nodes. Please see logs for more details.`

**Resolution** 

Synchronization replication failed to complete for all target databases in the multi-master replication system due to the unavailability of some target database. See the publication server log file for details. See [Where to look for errors](02_where_to_look_for_errors/#where_to_look_for_errors). A table with large object type PK attribute can't be published for (synchronize) incremental replication.

Oracle doesn’t log changes for a large object column. Such a column can't be referenced in the triggers that log changes to the shadow tables. Use snapshot-only replication instead.

**Problem**

`Test result: Failure`

`Database connection information test failed. Connection refused. Check that the hostname and port are correct and that the postprimary is accepting TCP/IP connections.`

**Resolution** 

Occurs when testing the connection of a publication or subscription database definition. The publication or subscription server can't connect to the database server network location given in the Add Database dialog box. Verify that the correct IP address and port for the database server are given. Verify that the database server is running and is accessible from the host running the publication or subscription server.

**Problem**

`Test result: Failure`

`Database connection information test failed. FATAL: no pg_hba.conf entry for host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*", user "*user_name*", database "*db_name*", SSL off`

**Resolution**

Occurs when testing the connection of a publication or subscription database definition. The publication or subscription server isn't permitted to connect to the database at the network location given in the Add Database dialog box. Verify that the database host IP address, port number, database user name, password, and database identifier are correct. Verify there is an entry in the `pg_hba.conf` file permitting access to the database by the given user name originating from the IP address where the publication or subscription server is running.

**Problem**

`Test result: Failure`

`Database connection information test failed. IO exception: The Network Adapter could not establish the connection.`

**Resolution** 

Verify that the database server is running. For Oracle, verify that the Oracle listener program `lsnrctl` is running.

**Problem**

`Test result: Failure`

`The target database server cannot be registered for WAL based logical replication. Reason: The database server is not configured for logical replication. Reason: FATAL: must be superuser or replication role to start walsender.`

**Resolution** Occurs when attempting to add a publication database definition with the log-based method of synchronization replication (that is, WAL-based logical replication), and the publication database user isn't a superuser or doesn't have `REPLICATION` privilege. Grant the publication database user the appropriate privilege, or specify a different database user who has the appropriate privilege for logical replication as the publication database user. See [Synchronization replication with the log-based method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based).

**Problem**

`Test result: Failure`

`The target database server cannot be registered for WAL based logical replication. Reason: The database server is not configured for logical replication. Reason: FATAL: no pg_hba.conf entry for replication connection from host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*", user "*user_name*", SSL off`

**Resolution**

Occurs when attempting to add a publication database definition with the log-based method of synchronization replication (that is, WAL-based logical replication), and there's no entry in the `pg_hba.conf` file where the `DATABASE` field is set to replication for `user_name`. The `pg_hba.conf` file of the target database server must contain a replication entry for the publication database user name specified when creating the publication database definition. See [Synchronization replication with the log-based method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based).

**Problem**

`Test result: Failure`

`The target database server cannot be registered for WAL based logical replication. Reason: The database server is not configured for logical replication. Reason: FATAL: number of requested standby connections exceeds max_wal_senders (currently *n*)`

**Resolution** 

Occurs when attempting to add a publication database definition with the log-based method of synchronization replication (that is, WAL-based logical replication), and the additional concurrent connection for logical replication exceeds the current setting, `n`, of the `max_wal_senders` configuration parameter in the `postgresql.conf` file. Increase the value of `max_wal_senders` in the `postgresql.conf` file of the database server running the publication database. Restart the database server containing the publication database. See [Synchronization replication with the log-based method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based). 

**Problem**

`Test result: Failure`

`The target database server cannot be registered for WAL based logical replication. Reason: The target database server version `x.x` does not support WAL logical decoding.`

**Resolution**

Occurs when attempting to create a publication database definition with the log-based method of synchronization replication (that is, WAL-based logical replication), and the Postgres database server isn't version 9.4 or later. Only Postgres database servers of version 9.4 or later support the log-based method of synchronization replication. See [Synchronization replication with the log-based method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based).

**Problem**

`Unable to apply DDL changes.`

**Resolution** The DDL statements in the text file specified for the DDL change replication feature contain syntax errors or aren't supported by the DDL change replication feature. See [Replicating DDL changes](../../07_common_operations/08_replicating_ddl_changes/#replicating_ddl_changes).

**Problem**

`Unable to communicate with remote server.`

**Resolution**

Occurs when attempting an operation such as performing synchronization replication or creating a schedule on a publication or subscription database that can't be accessed by the Replication Server console. Verify that the publication and/or subscription servers are running. Verify that the database servers of the publication or subscription databases are running.

**Problem**

`Unable to create schema tables in target primary database.`

`Unable to create publication shadow tables.`

`Unable to create subscription schema tables.`

`DB-42501: com.edb.util.PSQLException: ERROR: permission denied for relation pg_class.`

**Resolution** 

Occurs when attempting to create an MMR publication database definition and the publication server can't create the control schema objects in the new publication database. This typically results when creating a second publication database definition and the publication server can't copy by snapshot the control schema objects from the controller database to the new publication database. The publication database user of the new publication database must be a superuser. In addition, in system catalog table `pg_catalog.pg_authid`, column `rolcatupdate` must be set to true for this superuser. See [Disabling foreign key constraints for snapshot replications](../03_miscellaneous_xdb_processing_topics/04_disable_foreign_key_constraints_for_snapshot_replication/#disable_foreign_key_constraints_for_snapshot_replication).

**Problem**

`Unable to create Subscription subscription_name. Reason: Connection rejected: FATAL: no pg_hba.conf entry for host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*" user "*user_name*", database "*db_name*", SSL off`

**Resolution**

Occurs when creating a subscription. The subscription server running on host `xxx.xxx.xx.xxx` can't access the controller database. Verify that the `pg_hba.conf` file on the controller database server permits access from the subscription server host.

**Problem**

`Unable to create subscription schema tables. Org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*" user "*user_name*", database "*db_name*", SSL off`

**Resolution**

Occurs when creating a subscription. The subscription server running on host `xxx.xxx.xx.xxx` can't access the publication database. Verify that the `pg_hba.conf` file on the publication database server permits access from the subscription server host.

**Problem**

`Unable to create subscription schema tables. The database type is not supported.`

**Resolution**

The subscription database type isn't supported for the intended publication database type. See [Permitted SMR source and target configurations](/eprs/latest/01_introduction/04_permitted_conf_and_permutations/#permitted_smr_source_and_target_conf).

**Problem**

`Unable to create subscription schema tables. The target database schema already contains one or more tables with the same name as the table(s) in the source database.`

**Resolution** 

The subscription server can't create a subscription table definition in the intended target schema. Typically, the reason is that a table with the same name already exists in the target schema of the subscription database. This can occur if you create a subscription, remove it but fail to drop the table definitions created under the target schema, and then try to create the subscription a second time. 

**Problem**

`Unable to create publication shadow tables.`

`Unable to create subscription schema tables.`

`DB-42501: com.edb.util.PSQLException: ERROR: permission denied for relation pg_class.`

**Resolution** 

Occurs when attempting to create an SMR publication database definition and the publication server can't create the control schema objects in the new publication database. This typically results when creating a second publication database definition and the publication server can't copy by snapshot the control schema objects from the controller database to the new publication database. The publication database user of the new publication database must be a superuser. In addition, in system catalog table `pg_catalog.pg_authid`, column `rolcatupdate` must be set to `true` for this superuser. See [Disabling foreign key constraints for snapshot replications](../03_miscellaneous_xdb_processing_topics/04_disable_foreign_key_constraints_for_snapshot_replication/#disable_foreign_key_constraints_for_snapshot_replication).

**Problem**

`Unable to perform snapshot for subscription `subscription_name`. Reason: DB-42501: com.edb.util.PSQLException: ERROR: permission denied for relation pg_class.`

**Resolution**

Occurs when attempting a snapshot replication. The database user of the database receiving the snapshot must be a superuser. In addition, in system catalog table `pg_catalog.pg_authid`, column `rolcatupdate` must be set to `true` for this superuser. See [Disabling foreign key constraints for snapshot replications](../03_miscellaneous_xdb_processing_topics/04_disable_foreign_key_constraints_for_snapshot_replication/#disable_foreign_key_constraints_for_snapshot_replication).

**Problem**

`Unable to perform snapshot for subscription subscription_name. Reason: org.postgresql.util.PSQLException: FATAL: no pg_hba.conf entry for host "*xxx*.\ *xxx*.\ *xx*.\ *xxx*", user "*user_name*", database "*db_name*", SSL off`

**Resolution** 

Occurs when attempting a snapshot replication. The publication server running on host `xxx.xxx.xx.xxx` can't access the subscription database. Verify that the `pg_hba.conf` file on the subscription database server permits access from the publication server host. 

**Problem**

`Unable to synchronize. Reason: FATAL: no pg_hba.conf entry for host "xxx.xxx.xx.xxx", user "user_name", database "db_name", SSL off`

**Resolution**
Occurs during an implicit synchronization following snapshot replication. The publication server running on host `xxx.xxx.xx.xxx` can't access the subscription server’s controller database. Verify that the `pg_hba.conf` file on the subscription server permits access from the publication server host using network address `xxx.xxx.xx.xxx`.

**Problem**

`Unable to update publication database information. Reason: Publication control schema does not exist on target database.`

**Resolution**

The control schema objects in the publication database might have been deleted or corrupted. For an Oracle publication database, the control schema objects are located in the publication database user’s schema. For a Postgres or SQL Server publication database, the metadata database objects are located in schemas `\_edb_replicator_pub`, `\_edb_replicator_sub`, and `\_edb_scheduler`. See [Dropping replication slots for log-based synchronization replication](04_troubleshooting_areas/#drop_replication_slots_for_log_based).

**Problem**

`The user has insufficient privileges to manage publications. Grant required privileges as listed below and then proceed with operation.`

**Resolution** 

An Oracle publication database user must have `CONNECT`, `RESOURCE`, and `CREATE ANY TRIGGER` privileges.

**Problem**

`DB-08006: com.edb.util.PSQLException: An I/O error occurred while sending to the backend.`

`java.net.SocketTimeoutException: Read timed out` 

**Resolution** 

Occurs when performing a snapshot operation on an EDB Postgres Advanced Server or PostgreSQL subscription database server. The published tables' size ranges in the hundreds of gigabytes or the network between the database server and Replication Server is slow, which causes the snapshot operation to take multiple hours.

The error message is reported after a successful data copy at the stage of enabling constraints.

This happens because the server is configured by default to close idle TCP connection opened by Replication Server to create constraints.

To work around this issue, modify the following parameters in the  `postgresql.conf` file of the subscription database server: 

```
tcp_keepalives_idle = 60                # TCP_KEEPIDLE, in seconds;
tcp_keepalives_interval = 10            # TCP_KEEPINTVL, in seconds;
tcp_keepalives_count = 10               # TCP_KEEPCNT;
```

Reload the configuration to make the changes effective: 

```
select pg_reload_conf();
```

This way, tcp_keepalive messages won't let the connection become idle and Replication Server won't report a broken connection.

**Problem**

`ORA-17056: Non-supported character set (add orai18n.jar in the classpath)`

**Resolution** 

Occurs when [adding an Oracle Publication Database](/eprs/latest/05_smr_operation/01_prerequisites/04_preparing_pub_database/#oracle-publication-database) and Oracle is installed using the JA16SJIS character set encoding. This may happen even if `orai18n.jar` is explicitely added to the `lib/jdbc` folder.

To work around this issue, update the `runPubserver` script to ensure that the `lib/jdbc` folder contents, including `orai18n.jar`, are included in the Java classpath.

1.  Ensure that `orai18n.jar` is placed in the following directory: 

    ```
    XDB_HOME/lib/jdbc
    ```

1.  Navigate to the directory containing the `runPubserver` script:

    #### In Windows: 

    ```
    C:\Program Files\edb\EnterpriseDB-xDBReplicationServer\bin\runPubserver.bat
    ```

    #### In Linux: 

    ```
    /usr/edb/xdb/bin/runPubserver.sh
    ```

1.  Find the following command in the script and update it.

    #### In Windows:

    Update `-jar edb-repserver.jar` to `-cp edb-repserver.jar;..\lib\*` so the required libraries are in the classpath. Also add `com.edb.replication.backend.ReplicationServer` to reference the main class properly. For example:

    From: 
    ```shell
    # OUTDATED
    cscript //NOLOGO ..\etc\sysconfig\runJavaApplication.vbs ..\etc\sysconfig\xdbReplicationServer-7.config "%PUB_JAVA_HEAP_SIZE% -XX:ErrorFile=__HOMEPATH__\.enterprisedb\xdb\7\pubserver_pid_%%p.log -Djava.library.path=. -Djava.awt.headless=true -jar edb-repserver.jar pubserver %PUBPORT% ..\etc"
    ```

    To: 
    ```shell
    cscript //NOLOGO ..\etc\sysconfig\runJavaApplication.vbs ..\etc\sysconfig\xdbReplicationServer-7.config "%PUB_JAVA_HEAP_SIZE% -XX:ErrorFile=%HOMEPATH%\.enterprisedb\xdb\7.10\pubserver_pid_%%p.log -Djava.library.path=. -Djava.awt.headless=true -cp edb-repserver.jar;..\lib\* com.edb.replication.backend.ReplicationServer pubserver %PUBPORT% ..\etc"
    ```

    #### In Linux: 

    Update `-jar /usr/edb/xdb/bin/edb-repserver.jar` to `-cp /usr/edb/xdb/bin/edb-repserver.jar:../lib/*` so the required libraries are in the classpath. Also add `com.edb.replication.backend.ReplicationServer` to reference the main class properly. For example:

    From:

    ```shell
    # OUTDATED
    export LD_LIBRARY_PATH=/usr/edb/xdb/lib/xdb:$LD_LIBRARY_PATH
    . /usr/edb/xdb/etc/sysconfig/xdbReplicationServer-7.config; . /usr/edb/xdb/etc/sysconfig/runJavaApplication.sh; cd /usr/edb/xdb/bin; runJREApplication -XX:-UsePerfData $PUB_JAVA_HEAP_SIZE -XX:ErrorFile=/var/log/edb/xdb/pubserver_pid_%p.log -Djava.library.path=/usr/edb/xdb/bin -Djava.awt.headless=true $ALLOW_REFLECTION -jar /usr/edb/xdb/bin/edb-repserver.jar pubserver $PUBPORT
    ```

    To: 

    ```shell
    export LD_LIBRARY_PATH=/usr/edb/xdb/lib/xdb:$LD_LIBRARY_PATH
    . /usr/edb/xdb/etc/sysconfig/xdbReplicationServer-7.config; . /usr/edb/xdb/etc/sysconfig/runJavaApplication.sh; cd /usr/edb/xdb/bin; runJREApplication -XX:-UsePerfData $PUB_JAVA_HEAP_SIZE -XX:ErrorFile=/var/log/edb/xdb/pubserver_pid_%p.log -Djava.library.path=/usr/edb/xdb/bin -Djava.awt.headless=true $ALLOW_REFLECTION -cp /usr/edb/xdb/bin/edb-repserver.jar:../lib/* com.edb.replication.backend.ReplicationServer pubserver $PUBPORT
    ```

1.  Save the script and exit the editor. Restart the Publication Server to apply the changes.

1.  Ensure the `ORA-17056` no longer appears and verify that the Publication Database was added successfully.
