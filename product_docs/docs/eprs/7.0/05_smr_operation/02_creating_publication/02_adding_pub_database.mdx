---
title: "Adding a Publication Database"
---

<div id="adding_pub_database" class="registered_link"></div>

The database in which publications are to reside must be identified to xDB Replication Server. This is done by creating a publication database definition.

After the publication database definition is created, a Publication Database node representing that publication database definition appears in the replication tree of the xDB Replication Console. Publications that are to contain tables and views residing within this database can then be created under the Publication Database node.

You must enter database connection information such as the database server network address, database identifier, and database login user name and password when you create the publication database definition. The connection information is used by the publication server to access the publication tables and views when it performs replication.

**Step 1:** Make sure the database server in which the publication database resides is running and accepting client connections.

**Step 2:** Select the SMR type node under the Publication Server node. From the Publication menu, choose Publication Database, and then choose Add Database. Alternatively, click the secondary mouse button on the SMR type node and choose Add Database. The Publication Service – Add Database dialog box appears.

**Step 3:** Fill in the following fields:

-   `Database Type.` Select Oracle, SQL Server, PostgreSQL, or Postgres Plus Advanced Server for the type of publication database. For an Advanced Server Oracle compatible installation, select the Postgres Plus Advanced Server option. For PostgreSQL or an Advanced Server PostgreSQL compatible installation, select the PostgreSQL option.
-   `Host.` IP address of the host on which the publication database server is running.
-   `Port.` Port on which the publication database server is listening for connections.
-   `User.` The publication database user name created in Step 1 of [Preparing the Publication Database](../01_prerequisites/04_preparing_pub_database/#preparing_pub_database).
-   `Password.` Password of the database user.
-   `Service ID (For Oracle).` Enter the Oracle System Identifier (SID) of the Oracle instance running the publication database if the SID radio button is selected. Enter the net service name of a connect descriptor as defined in the `TNSNAMES.ORA` file if the Service Name radio button is selected. Note (For Oracle 12c Pluggable Database): Use the service name.
-   Database (For Postgres or SQL Server). Enter the Postgres or SQL Server database name.
-   `URL Options (For SSL connectivity).` Enter the URL options to establish SSL connectivity to the publication database. See [Using Secure Sockets Layer (SSL) Connections](../../07_common_operations/11_using_ssl_connections/#using_ssl_connections) for information on using SSL connections.
-   `Changeset Logging (For Postgres).` Select Table Triggers to use the trigger-based method of synchronization replication. Select WAL Stream to use the log-based method of synchronization replication. See [Synchronization Replication with the Trigger-Based Method](../../02_overview/02_replication_concepts_and_definitions/09_sync_replication_trigger_based/#sync_replication_trigger_based) for information on the trigger-based method. See [Synchronization Replication with the Log-Based Method](../../02_overview/02_replication_concepts_and_definitions/10_sync_replication_log_based/#sync_replication_log_based) for information on the log-based method.

![Publication Service - Add Database dialog box](../../images/image69.png)

**Figure 5-6: Publication Service - Add Database dialog box**

!!! Note
    If the controller database is an Oracle or a SQL Server publication database, then a second Oracle or SQL Server publication database cannot be added to create a second single-master replication system. In order for xDB Replication Server to run more than one single-master replication systems consisting of Oracle or SQL Server publication databases, a Postgres publication database must be designated as the controller database. See [Controller Database](../../02_overview/03_replication_server_components_and_architecture/01_physical_components/#controller_database) for information on the controller database.

The following is the Publication Service – Add Database dialog box for a Postgres database that shows the `Changeset Logging` option for selecting either the trigger-based method or the log-based method of synchronization replication.

![Publication Service - Add Database dialog box for Postgres](../../images/image70.png)

**Figure 5-7: Publication Service - Add Database dialog box for Postgres**

**Step 4:** Click the `Test` button. If Test Result: Success appears, click the `OK` button, then click the `Save` button.

![Successful publication database test](../../images/image71.png)

**Figure 5-8: Successful publication database test**

If an error message appears investigate the cause of the error, correct the problem, and repeat steps 1 through 4.

When the publication database definition is successfully saved, a Publication Database node is added to the replication tree under the Publication Server node.

![Replication tree after adding a publication database](../../images/image72.png)

**Figure 5-9: Replication tree after adding a publication database**

**For Oracle only:** Multiple Oracle databases can be added as publication databases by completing the Add Database dialog box for each database. It is also permissible to add the same Oracle database as two or more distinct publication database definitions if you use different publication database user names for each publication database definition.

**For Postgres or SQL Server:** Multiple Postgres or SQL Server databases can be added as publication databases by completing the Add Database dialog box for each database. However, unlike Oracle, a given Postgres or SQL Server database can only be added once as a publication database definition.
