---
title: "Updating a Publication Server"
---

<div id="updating_publication_server" class="registered_link"></div>

There are two aspects of metadata related to the publication server that may need to be updated depending upon the change in the host environment:

-   If the network location (IP address or port number), admin user name, or password of the publication server changes, and if you have saved this information in the server login file, you need to update the server login file with the new information.
-   If the network location (IP address or port number) of a subscription server changes, then for each publication server managing a publication associated with a subscription of the changed subscription server, you must update the publication server’s metadata with the subscription server’s new network location. This type of update applies only to single-master replication systems.

The first type of update is discussed in the following section. The second type of update is discussed in Section [Subscription Server Network Location](#sub_server_network_loc).

## Publication Server Login File

When you register a publication server in the xDB Replication Console, you may choose to save the publication server’s network location, admin user name, and encrypted password in a server login file on the computer on which you are running the xDB Replication Console. See [Saving Server Login Information](../../04_intro_xdb_console/#saving_server_login_info) for information on saving the login information.

The steps described in this section show you how to update the publication server’s login information in the server login file.

It is assumed that the xDB Replication Console is open on your computer and the publication server whose login information you wish to alter in the server login file, appears as a Publication Server node in the xDB Replication Console’s replication tree.

![Publication Server node](../../images/image236.png)

**Figure 7-58: Publication Server node**

You can perform the following actions on the server login file:

-   Change the publication server’s login information (`host IP address, port number, admin user name`, and `password`) that you last saved in the server login file.
-   Delete the publication server’s login information that is currently saved in the server login file. This is the default action, which will require you to register the publication server again the next time you open the xDB Replication Console.
-   Resave the publication server’s login information in the server login file. Each time you open the Update Publication Server dialog box, you must choose to save the login information if you want it recorded in the server login file.

The following steps change only the content of the server login file residing on the host under the current xDB Replication Console user’s home directory. These changes do not alter any characteristic of the actual publication server daemon (on Linux) or service (on Windows). These changes affect only how a publication server is viewed through the xDB Replication Console on this host by this user.

**Step 1:** The publication server whose login information you want to save, change, or delete in the server login file must be running before you can make any changes to the file. See Step 1 of Section [Registering a Publication Server](../../05_smr_operation/02_creating_publication/01_registering_publication_server/#registering_publication_server) for directions on starting the publication server.

**Step 2:** Click the secondary mouse button on the Publication Server node and choose Update. The `Update Publication Server` dialog box appears.

![Update Publication Server dialog box](../../images/image237.png)

**Figure 7-59: Update Publication Server dialog box**

**Step 3:** Complete the fields in the dialog box according to your purpose for updating the server login file:

-   If the publication server now runs on a host with a different IP address or port number than what is shown in the dialog box, enter the correct information. You must also enter the admin user name and password saved in the xDB Replication Configuration file that resides on the host identified by the IP address you entered in the Host field. Check the Save Login Information box if you want the new login information saved in the server login file, otherwise leave the box unchecked in which case, access to the publication server is available for the current session, but subsequent sessions will require you to register the publication server again.
-   If you want to delete previously saved login information, make sure the network location shown in the dialog box is still correct. Re-enter the admin user name and password saved in the xDB Replication Configuration file that resides on the host identified by the IP address in the Host field. Leave the Save Login Information box unchecked. Access to the publication server is available for this session, but subsequent sessions will require you to register the publication server again.
-   If you want to save the current login information shown in the dialog box, make sure the network location shown in the dialog box is correct. Re-enter the admin user name and password saved in the xDB Replication Configuration file that resides on the host identified by the IP address in the Host field. Check the Save Login Information box.

![Updated publication server location](../../images/image238.png)

**Figure 7-60: Updated publication server location**

**Step 4:** Click the `Update` button. If the dialog box closes, then the update to the server login file was successful. Click the `Refresh` icon in the xDB Replication Console tool bar to show the updated Publication Server node.

If an error message appears after clicking the Update button, the server login file is not modified. Investigate and correct the cause of the error. Repeat steps 1 through 4.

<div id="sub_server_network_loc" class="registered_link"></div>

## Subscription Server Network Location

!!! Note
    This section applies only to single-master replication systems.

Part of the metadata stored for each publication server is the network location of subscription servers that manage subscriptions associated with the publication server’s publications.

This network information enables the publication server to communicate with the subscription server.

If the network location of a subscription server changes after subscriptions have been created, the publication server metadata must be updated with the new network location, otherwise a communication failure occurs between the publication server and the subscription server that is made apparent by the following message that appears when you open the xDB Replication Console.

![Subscription server connection failure](../../images/image239.png)

**Figure 7-61: Subscription server connection failure**

The following are the steps to update the subscription server network location within a publication server’s metadata.

**Step 1:** The publication server whose metadata you want to change must be running. See Step 1 of Section [Registering a Publication Server](../../05_smr_operation/02_creating_publication/01_registering_publication_server/#registering_publication_server) for directions on starting the publication server.

**Step 2:** Click the secondary mouse button on the Publication Server node and choose Update Subscription Servers. The `Update Subscription Servers` dialog box appears.

!!! Note
    If the error message box reappears, click the `OK` button and repeat Step 2.

![Update Subscription Servers dialog box](../../images/image240.png)

**Figure 7-62: Update Subscription Servers dialog box**

**Step 3:** Enter the new network location for each subscription server in the list whose network location has changed.

![Updated subscription server location](../../images/image241.png)

**Figure 7-63: Updated subscription server location**

**Step 4:** Click the `Update` button. If the dialog box closes, then the update to the publication server’s metadata was successful.

If an error message appears, investigate and correct the cause of the error. Repeat steps 1 through 4.

**Step 5:** If the subscription server with the new network location manages subscriptions associated with publications in other publication servers, repeat steps 1 through 4 for these other publication servers.
