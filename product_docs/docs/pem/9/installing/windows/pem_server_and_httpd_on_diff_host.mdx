---
title: "Installing the PEM server and PEM-HTTPD on separate hosts"
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-enterprise-manager/installation-getting-started/windows-installation-guide/8.0/installing_pem_server_on_windows.html"
# This file is moved from pem_inst_guide_windows/04_installing_postgres_enterprise_manager/02_installing_pem_server_on_windows
redirects:
- /pem/latest/installing_pem_server/pem_server_inst_windows/pem_server_and_httpd_on_diff_host/
---

To use separate hosts for the PEM server backend database and PEM-HTTPD:

1.  Invoke the PEM server installer on the host of the Postgres server that will contain the `pem` database. During the installation, select the **Database** option on the Advanced Options dialog box, and provide connection information for the Postgres server.
2.  Modify the `pg_hba.conf` file of the Postgres installation on which the PEM server (and `pem` database) resides, allowing connections from the host of the PEM-HTTPD server.
3.  Invoke the PEM server installer on the host of the PEM-HTTPD server, selecting the **Web Services** option on the Installation Type dialog box.

To start the installation:

1.  On a Windows system, invoke the PEM server installer. Right-click the installer and select **Run as Administrator**. The installer displays a Welcome screen. Select **Next**.

1.  Review the license agreement before selecting the appropriate radio button and accepting the agreement. Select **Next**.

1.  Use fields on the Installation Directory dialog box to specify the directory for the PEM server to reside and to open the Advanced Options dialog box during installation:

    -   By default, the PEM server is installed in `C:\Program Files\edb\pem` on Windows. Accept the default location, or use the **Installation Directory** field to open a browser dialog box and select the directory to install the PEM server in.
    -   To install the PEM server and PEM-HTTPD on separate hosts, use the Advanced Options dialog box to specify the installation type (**Web Services** or **Database**). Select **Show advanced options** to include the Advanced Options dialog box in the installation process.
    -  Select **Next**.

1.  Use the Advanced Options dialog box to specify the components that you want to install:

    -   Select **Web Services and Database** to indicate that the Postgres server and PEM-HTTPD will both reside on the current host. If you select **Web Services and Database**, the PEM server installer lets you specify the Postgres server to use for the PEM server before checking for a PEM-HTTPD installation.
    -   Select **Web Services** to install PEM-HTTPD on the current host, while using a Postgres database server that resides on another host to host the PEM server and `pem` database.

    !!! Note
        Before using the **Web Services** option to install PEM-HTTPD, you must complete the PEM server installation process on the host of the PEM server and `pem` backend database. Select **Database** on the Advanced Options dialog box and modify the connection properties of the `pg_hba.conf` file on the PEM server.

    This option invokes the installation steps described in [Installing web services](#installing-web-services).

    -   Select **Database** to use an existing Postgres server (version 11 or later) or to install only the database server that's distributed with the PEM server installer. This option invokes the installation steps described in [Specifying a database host](#specifying-a-database-host).

1.  After selecting an installation option, select **Next**.

## Specifying a database host

1.  Select **Database** on the Advanced Options dialog box to specify connection information for the host where the PEM server backend database (named `pem`) will reside. Select **Next**.

1.  Use the list on the Database Server Selection dialog box to select a host for the PEM server backend database. You can:

    -   Select a host from existing Postgres installations that reside on the current host.

    !!! Note
        You might need to add the `sslutils` package to your installation.

    -   Select **PostgreSQL &lt;x>** to install the Postgres server that's distributed with the PEM server installer, where `<x>` is the PostgreSQL database server version. If you decide to use the version of PostgreSQL that's bundled with the PEM server installer, the EnterpriseDB one-click PostgreSQL installer opens and walks you through the installation.
    -   Select **Other Database Server** to specify connection information for a Postgres server that wasn't installed using a one-click graphical installer from EnterpriseDB. For information about the software prerequisites for the PEM server database host, see [Preparing the Postgres server](pem_server_on_existing_pg_server/#preparing-the-postgres-server).

    -  Select **Next**.

    If the PEM server will reside on an existing Postgres server, the Database Server Installation Details dialog box opens.

1.  The information required on the Database Server Installation Details dialog box can vary. The PEM server installer asks you to provide only the information about the selected installation that it can't locate:

    -   Specify the name of a Postgres database superuser in the **User** field.
    -   Specify the password associated with that user in the **Password** field.
    -   Select **Next**.

1.  If prompted, provide the system password for the service account under which the PEM agent will run. Select **Next**.

1.  Use the Network Details dialog box to specify the CIDR-style network address from which PEM agents will connect to the server (the client-side address). The specified address is added to the server's `pg_hba.conf` file.

    !!! Note
        You can specify more network addresses by manually adding entries to the `pg_hba.conf` file on the PostgreSQL server.

    Accept the default (specifying the localhost), or specify a **Network address** range. Select **Next**.

    The PEM server installer installs a PEM agent on the host on which the server resides to monitor the server and provide alert processing and garbage collection services. A certificate is also installed in the location specified in the **Agent certificate path** field.

1.  You can enter an alternate description or an alternate agent certificate path for the PEM agent or accept the defaults. Select **Next**.

1.  The wizard is now ready to install the PEM server. Select **Next** to proceed with the installation.

    During the installation process, the installer copies files to the system and sets up the PEM server's backend database. A confirmation indicates that the `pem` database was created and configured. 

1.  Select **OK**

    When the database portion of the PEM server installation is complete, you can invoke the PEM server on another host to install or upgrade PEM-HTTPD.

## Installing web services

Select **Web Services** on the Advanced Options dialog box to either install PEM-HTTPD on the current host or update an existing PEM-HTTPD installation.

!!! Note
    The current host might not be the host of the PEM backing database.

Before selecting this option, you must:

-   Install the PEM server installer on a host system, during which you specify a backing database for the PEM server.
-   Modify the `pg_hba.conf` file on the PEM server database host to allow connections from the PEM-HTTPD host.
-   Restart the database server.

1.  Select **Web Services** and select **Next**. The PEM server installer checks the current host for existing PEM-HTTPD and LanguagePack installations.

1.  If the installer doesn't locate the components, the installer informs you that one or more dependencies are missing. Select **Next** to install the language pack. After installing language pack, the installer invokes the PEM-HTTPD setup wizard. 

1.  Follow the onscreen instructions of the PEM-HTTPD Setup wizard. When the wizard completes the installation, select **Finish** to open the Database Server Installation Details dialog box.

1.  Use the Database Server Installation Details dialog box to provide connection information for the Postgres installation that's hosting the PEM server installation:

    -   Enter the name or IP address of the PEM server host in the **Host** field.
    -   Enter the port number on which the Postgres server is listening in the **Port** field.
    -   Enter the name of a Postgres database superuser in the **User** field.
    -   Enter the password associated with the Postgres superuser in the **Password** field.

1.  Select **Next**. 

    Before completing the PEM server installation, the installer contacts the database host. For the installation to continue, the `pg_hba.conf` file on the PEM database host must be configured to accept connections from the host of the httpd server, and the firewall must allow a connection. The PEM server installer completes the PEM server installation, adding only those items that must reside on the host of the PEM-HTTPD server.
