---
title: "Monitoring Failover Manager"
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-enterprise-manager/user-guides/enterprise-features-guide/8.0/monitoring_failover_manager.html"
# This file is moved for pem_ent_feat/13_monitoring_failover_manager.mdx
redirects:
- /pem/latest/pem_ent_feat/13_monitoring_failover_manager/
- /pem/latest/pem_online_help/04_toc_pem_features/19_monitoring_a_failover_manager_cluster/
---

If you're using EDB Failover Manager to monitor your replication scenario, you must manually install and configure Failover Manager. For detailed information about installing Failover Manager, see the [EDB website](https://www.enterprisedb.com/products/edb-postgres-platform/edb-postgres-failover-manager).

To monitor the status of a Failover Manager cluster on the Streaming Replication dashboard, you must provide the following information on the **Advanced** tab of the **Server Properties** dialog box for each node of the cluster:

-   Use the **EFM Cluster Name** field to specify the name of the Failover Manager cluster. The cluster name is the prefix of the name of the cluster properties file. For example, if your cluster properties file is named `efm.properties`, your cluster name is efm.

-   Use the **EFM Installation Path** field to specify the location of the Failover Manager binary file. By default, the Failover Manager binary file is installed in `/usr/efm-<X>/bin`, where `<X>` is the EFM version.

!!! Note
To monitor Failover Manager, the PEM agent executes the `efm cluster-status-json <cluster_name>` command as the user efm. This command fails if the cluster properties file isn't in the efm user's home directory.
In this case, create a symlink to the cluster properties files in the home directory of efm, and ensure that efm has permission to read and execute the cluster properties file.
!!!

After registering your servers, the Streaming Replication Analysis dashboard displays status information about your EFM cluster near the bottom of the dashboard.

![The Failover Manager cluster status report](images/fm_cluster_status.png)

The **Failover Manager Cluster Status** section of the Streaming Replication Analysis dashboard displays information about the monitored cluster.

The Failover Manager Cluster Information table provides information about the Failover Manager cluster:

-   The Properties column displays the name of the cluster property.
-   The Values column displays the current value of the property.

The Failover Manager Node Status table displays information about each node of the Failover Manager cluster:

-   The Agent Type column displays the type of agent that resides on the node. The possible values are Primary, Replica, Witness, Idle, and Promoting.
-   The Address column displays the IP address of the node.
-   The Agent column displays the status of the agent that resides on the node.
-   The DB column displays the status of the database that resides on the node.
-   The XLog Location column displays the transaction log location of the database.
-   The Status Information column displays any error-related information about the node.
-   The XLog Information column displays any error-related information about the transaction log.
-   The VIP column displays the VIP address that's associated with the node.
-   The VIP Status column displays True if the VIP is active for the node, False if not.

## Replacing a primary node

You can use the PEM client to replace the primary node of a Failover Manager cluster with a replica node. To start the failover process, select **Tools > Server > Replace Cluster Primary**. You are prompted to confirm that you want to replace the current primary node.

Select **Yes** to remove the current primary node from the Failover Manager cluster and promote a replica node to the role of read/write primary node in a Failover Manager cluster. The node with the highest promotion priority (defined in Failover Manager) becomes the new primary node. PEM reports the job status.

When the job completes and the Streaming Replication Analysis dashboard refreshes, you can review the Failover Manager Node Status table to confirm that a replica node was promoted to the role of primary in the Failover Manager cluster.

## Switchover EFM cluster

You can use the PEM client to replace the primary node of a Failover Manager cluster with a replica node. To start the switchover process, select **Tools > Switchover EFM Cluster**. You are prompted to confirm that you want to switch over EFM cluster. Select **Yes** to: 

-  Start the Failover Manager switchover. 
-  Promote a replica node to the role of read/write primary node. 
-  Reconfigure the primary database as a new replica in a Failover Manager cluster. 

The node with the highest promotion priority (defined in Failover Manager) becomes the new primary node. PEM reports the job status. When the job completes and the Streaming Replication Analysis dashboard refreshes, you can review the Failover Manager Node Status table to confirm that a switchover occurred.
