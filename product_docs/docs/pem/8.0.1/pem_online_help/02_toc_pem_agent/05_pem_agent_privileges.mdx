---
title: "PEM Agent Privileges"
---

<div id="pem_agent_privileges" class="registered_link"></div>


By default, the PEM agent is installed with `root` privileges for the operating system host and superuser privileges for the database server. These privileges allow the PEM agent to invoke unrestricted probes on the monitored host and database server about system usage, retrieving and returning the information to the PEM server.

Please note that PEM functionality diminishes as the privileges of the PEM agent decrease. For complete functionality, the PEM agent should run as `root` and on the same host as the database server.

> -   If the PEM agent is run under the database server's service account, PEM probes will not have complete access to the statistical information used to generate reports, and functionality will be limited to the capabilities of that account.
> -   If the PEM agent is run under another lesser-privileged account, functionality will be limited even further.
> -   If the PEM agent is installed on a different host and is monitoring the database server remotely, then the functionality will be limited.

<table><colgroup><col style="width: 10%" /><col style="width: 20%" /><col style="width: 40%" /><col style="width: 30%" /></colgroup><thead><tr class="header"><th><strong>Feature Name</strong></th><th><strong>Works with root User</strong></th><th><strong>Works with non-root User</strong></th><th><strong>Works with remote PEM Agent</strong></th></tr></thead><tbody><tr class="odd"><td>Audit Manager</td><td>yes</td><td>The Audit Log Manager may be unable to apply requested modifications if the service cannot be restarted. The user running PEM Agent may be different from the user who owns the data directory of the database server, so user running PEM Agent may not be able to change the configuration and also may not be able to restart the services of the database server.</td><td>no</td></tr><tr class="even"><td>Capacity Manager</td><td>yes</td><td>yes</td><td><p>yes</p><p>NOTE: There will be no co-relation between the database server and operating system metrices</p></td></tr><tr class="odd"><td>Log Manager</td><td>yes</td><td>The Log Manager may be unable to apply requested modifications if the service cannot be restarted. The user running PEM Agent may be different from the user who owns the data directory of the database server, so user running the PEM Agent may not be able to change the configuration and also may not be able to restart the services of the database server.</td><td>no</td></tr><tr class="even"><td>Manage Alerts</td><td>yes</td><td>yes</td><td><p>yes</p><p>NOTE: When run alert script on the database server is selected, it will run on the machine, where bound PEM Agent is running, and not on the actual database server machine.</p></td></tr><tr class="odd"><td>Manage Charts</td><td>yes</td><td>yes</td><td>yes</td></tr><tr class="even"><td>Manage Dashboards</td><td>yes</td><td>Some dashboards may not be able to show complete data. For example, columns such as swap usage, CPU usage, IO read, and IO write will be displayed as 0 in the session activity dashboard.</td><td>Some dashboards may not be able to show complete data. For example, the operating system information of the database server will not be displayed as not available.</td></tr><tr class="odd"><td>Manage Probes</td><td>yes</td><td>Some of the PEM probes will not return information, and some of functionalities may be affected. For details about probe functionality, see the <a href="https://enterprisedb.com/edb-docs">PEM Agent Guide</a>.</td><td>Some of the PEM probes will not return information, and some of the functionalities may be affected.</td></tr><tr class="even"><td>Postgres Expert</td><td>yes</td><td>The Postgres Expert will be able to access the configuration expert and schema expert, but not the security expert.</td><td>The Expert will provide partial information as operating system information is not available.</td></tr><tr class="odd"><td>Postgres Log Analysis Expert</td><td>yes</td><td>The Postgres Log Analysis Expert may not be able to do the analysis as it is dependent on the logs imported by log manager, which will not work as required.</td><td>The Postgres Log Analysis Expert will not be able to do the analysis as it is dependent on the logs imported by log manager, which will not work as required.</td></tr><tr class="even"><td>Scheduled Tasks</td><td>yes</td><td>For Linux if user is the same as batch_script_user in agent.cfg then shell script will run.</td><td>Scheduled tasks will work only for database server; scripts will run on a remote Agent.</td></tr><tr class="odd"><td>Tuning Wizard</td><td>yes</td><td>The Tuning Wizard will be unable to run if the service cannot be restarted. The user running PEM Agent may be different from the user who owns the data directory of the database server, so user running PEM Agent may not be able to change the configuration and also may not be able to restart the services of the database server.</td><td>no</td></tr><tr class="even"><td>System Reports</td><td>yes</td><td>yes</td><td>yes</td></tr><tr class="odd"><td>Core Usage Reports</td><td>yes</td><td>yes</td><td>The Core Usage report will not show complete information. For example, the platform, number of cores, and total RAM will not be displayed.</td></tr><tr class="even"><td>Managing BART</td><td>yes</td><td>BART and the BART scanner may not be able to start/reload.</td><td><p>no</p><p>NOTE: BART requires password less authentication between two machines, where database server and BART are installed.</p></td></tr></tbody></table>
