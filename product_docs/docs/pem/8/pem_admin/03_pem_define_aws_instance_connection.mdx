---
title: "Defining and Monitoring Postgres clusters on AWS"
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-enterprise-manager/user-guides/administrators-guide/8.0/pem_define_aws_instance_connection.html"
---

There are two scenarios in which you can monitor a Postgres cluster on an AWS host using PEM. You can monitor a:

-   Postgres cluster running on AWS EC2
-   Postgres cluster running on AWS RDS

## Monitoring a Postgres Cluster Running on AWS EC2

After creating a Postgres cluster on AWS EC2, you can use the PEM server to register and monitor your cluster. The following scenarios are currently supported:

-   Postgres cluster and PEM Agent running on the same AWS EC2 and a PEM Server running on your local machine.
-   Postgres cluster and PEM Agent running on the same local machine and a PEM Server running on AWS EC2.
-   Postgres cluster and PEM Agent running on the same AWS EC2 and a PEM Server running in different AWS EC2.

!!! Note
    In the first two scenarios, you must configure the VPN on AWS EC2 , so the AWS EC2 instance can access the `pem` database. Please contact your network administrator to setup the VPN if needed.

Since the PEM Agent is on a different host from the PEM Server, register the PEM Agent to the PEM Server first. Also, make sure to use the AWS EC2 instance hostname while registering the PEM Agent to the PEM Server. For more details on registering the PEM Agent see, [Registering an Agent](../pem_agent/02_registering_agent/).

After you register the PEM Agent with the PEM Server and bind the PEM Agent to the Postgres cluster while adding to the PEM Server, you can monitor your Postgres cluster using PEM.

## Monitoring a Postgres Cluster Running on AWS RDS

While creating an AWS RDS database, choose `PostgreSQL` when prompted for `Engine options`. See [Remote Monitoring](../pem_admin/02a_pem_remote_monitoring) for next steps. 