---
title: "Storing user settings in the backend, accessible to all web application instances"
navTitle: "HA user settings"

redirects:
---

When deploying more than one instance of the PEM web application, configure PEM to store user settings in the backend database to ensure they are synchronized across all instances.

In the PEM backend Postgres instance, connect as a superuser and create a new database.
Grant the new user the right to connect to this database and revoke the right to connect to the PEM database.

```sql
CREATE DATABASE pem_user_settings;
CREATE USER pem_user_settings WITH PASSWORD 'choose-a-password';
GRANT CONNECT ON DATABASE pem_user_settings FROM PUBLIC;
REVOKE CONNECT ON DATABASE pem FROM PUBLIC;
```

You should also revoke rights to connect to any other database on this instance, for example `postgres` or `edb`.

Connect to the new database as a superuser.

```sql
ALTER DEFAULT PRIVILEGES FOR ROLE pem_user_settings GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO pem_user;
ALTER DEFAULT PRIVILEGES FOR ROLE pem_user_settings GRANT SELECT, UPDATE ON SEQUENCES TO pem_user;
```

Revoke the permissions of this user to connect to a