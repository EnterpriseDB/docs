---
title: "Capacity Manager"
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-enterprise-manager/user-guides/enterprise-features-guide/8.0/capacity_manager.html"
# This file is moved for pem_ent_feat/06_capacity_manager.mdx
redirects:
- /pem/latest/pem_ent_feat/06_capacity_manager/
- /pem/latest/pem_online_help/04_toc_pem_features/08_capacity_manager/
- /pem/latest/pem_online_help/04_toc_pem_features/08_capacity_manager/01_capacity_manager_metrics/
- /pem/latest/pem_online_help/04_toc_pem_features/08_capacity_manager/02_capacity_manager_options/
---

PEM's Capacity Manager analyzes collected statistics (metrics) to generate a graph or table that displays the historical usage statistics of an object. It can also project the anticipated usage statistics for an object. You can configure Capacity Manager to collect and analyze metrics for a specific host, server, database, or database object.

You can tailor the content of the Capacity Manager report by choosing:

-  Specific metrics to include in the report
-  The time range over which the metrics were gathered 
-  A high or low threshold for the metrics analyzed 

You can also specify a start and end date for the Capacity Manager report. If the end date of the report specifies a time in the future, Capacity Manager analyzes the historical usage of the selected object to extrapolate the projected object usage in the future.

To open Capacity Manager, in the PEM client, select **Management > Capacity Manager**. The Capacity Manager wizard opens, displaying a tree on the **Metrics** tab. On the **Metrics** tab, expand the tree to review the metrics for the node that you want to analyze. Select the metric to include it in your report.

Capacity Manager uses the aggregation method specified with the **Aggregation** list. Capacity Manager uses the aggregation method to evaluate and plot the metric values. Select from:

-   **Average** &mdash; Use the average of the values recorded during the time period.
-   **Maximum** &mdash; Use the maximum value recorded during the time period.
-   **Minimum** &mdash; Use the minimum value recorded during the time period.
-   **First** &mdash; Use the first value recorded during the time period.

To remove a metric from the Capacity Manager report, clear the box to the left of the name of a metric.

Move the slider next to **Graph/chart metrics individually?** to **Yes** to produce a separate report for each metric selected on the **Metrics** tab. If the option is set to **No**, all selected metrics are merged into a single graph or table.

Select **Generate** to display the report onscreen (accepting the default configuration options), or use the **Options** tab to customize sampling boundaries, report type, and report destination. The times displayed on the **Options** tab are from the time zone where the PEM client resides.

Use the fields in the **Time Period** box to define the boundaries of the Capacity Manager report:

-   Use the **Period** list to select the type of time period to use for the report. You can select:

| Start time and end time               | Specify a start date and an end date/time for the report                                                                                                                                                     |
| ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Start time and threshold              | Specify a start date and time and a threshold to determine the end time and date for the report.                                                                                                             |
| Historical days and extrapolated days | Specify a start date for the report that is a number of days in the past and an end date that is a number of days in the future. This option is useful for report templates that don't specify fixed dates. |
| Historical days and threshold         | Specify a start date that is a number of days in the past, and end it when a threshold value is reached.                                                                                                      |

After specifying the type of time period for the report, select from other options in the **Time Period** box to define the time period for the report:

-   Use the date and time selectors next to the **Start time** field to specify the starting date and time of the sampling period. Or select the number of historical days of data to include in the report. The date and time specified in the **Start time** field can't be later than the current date/time.

    By default, Capacity Manager selects a start time one week prior to the current date and time.

-   The end boundary for the report can be a time, a number of days in the future, or the point at which a selected metric reaches a specified threshold value. Use the date and time selectors next to **End time** to specify an end boundary for the report. Or select the number of extrapolated days of data to include in the report. The time specified in the **End time** field must be later than the time specified in the **Start time** field.

    If you select an end date and time in the future, Capacity Manager uses historical usage information to extrapolate anticipated future usage. Since the projected usage is based on the sampling of historical data, the accuracy of the future usage trend improves with a longer sampling period.

    To specify a threshold value, use the list in the **Threshold** field to select a metric, an operator (**Exceeds** or **Falls below**), and a target value for the metric. If you choose to define the end of the report using a threshold, the Capacity Manager report terminates when the value for the selected metric exceeds or falls below the specified value.

The `cm_max_end_date_in_years` configuration parameter defines a default time value for the end boundary of a Capacity Manager report. If you specify a threshold value as the end boundary of a report and the anticipated usage of the boundary isn't met before the maximum time passes, the report terminates at the time specified by the `cm_max_date_in_years` parameter. By default, `cm_max_end_date_in_years` is 5. You can use the Server Configuration dialog box to modify the value of `cm_max_end_date_in_years`.

The fields in the **Report** box specify the report type and destination. Use the **Include on report** options to specify the type of report produced by Capacity Manager:

-   Select **Graph** to display the report in the form of a line graph in the PEM client window.
-   Select **Table of data** to display a table containing the report data in the PEM client window.
-   Select **Graph and table of data** to display both a line graph and a data table in the PEM client window.

Use the **Report destination** options to set where to display or save the report:

-   Select **New tab** to display the report on a new tab in the PEM client. You must select **New tab** to display the first generation of a Capacity Manager report. For subsequent reports, you can select **Previous tab**.
-   Select **Previous tab** to reuse a previously opened tab when displaying the report.
-   Select **Download the report as a file** and specify a file name to write the report to the specified file.
-   For **Report Type?**, select **HTML** or **JSON** type (version 9.6 and later).

After you specify the report boundaries and select the type and destination of the Capacity Manager report, select **Generate** to create the report.

You can review a Capacity Manager HTML report with any web browser that supports scalable vector graphics (SVG). Browsers that don't support SVG can't display a Capacity Manager graph and might include unwanted characters.

## Capacity Manager templates

After defining a report, you can save the definition as a template for future reports. All PEM users can access Capacity Manager report templates. To save a report definition as a template:

1.  Use the **Metrics** and **Options** tabs to define your report.
1.  Select **Save**.
1.  In the **Save Template** dialog box, Provide a report name in the **Title** field and select a location to store the template in the tree.
1.  Select **OK**.

When creating a report, you can use **Load Template** to browse and open an existing template. Once opened, you can modify the report definition and save it again, either as a new template or by overwriting the original template.

Select **Manage Templates** to open a dialog box that lets rename or remove unwanted templates.

## Capacity Manager metrics - reference

The Capacity Manager metrics available vary by platform and are subject to change. The available metrics can include the metrics described in the table.

| Metric name                          | Description                                                                                                                                                      |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| # Dead Tuples                        | The number of dead tuples in the selected table.                                                                                                                 |
| # Dead Tuples+                       | The cumulative number of dead tuples in the selected table.                                                                                                      |
| # Heap Tuples Fetched by Index Scans | The number of heap tuples fetched by index scans.                                                                                                                |
| # Heap Tuples Fetched by Index Scans | The cumulative number of heap tuples fetched by index scans.                                                                                                     |
| # Idle Backends+                     | The cumulative number of currently idle backend clients.                                                                                                         |
| # Index Scans                        | The number of index scans performed on the specified object.                                                                                                     |
| # Index Scans+                       | The cumulative number of index scans performed on the specified object.                                                                                          |
| # Index Tuples Read                  | The number of index tuples read.                                                                                                                                 |
| # Index Tuples Read+                 | The cumulative number of index tuples read.                                                                                                                      |
| # Live Tuples                        | The number of tuples visible to transactions.                                                                                                                    |
| # Live Tuples+                       | The cumulative number of tuples visible to transactions.                                                                                                         |
| # Pages Estimated by ANALYZE         | The number of pages estimated by ANALYZE.                                                                                                                        |
| # Pages Estimated by ANALYZE+        | The cumulative number of pages estimated by ANALYZE.                                                                                                             |
| # Sequential Scans                   | The number of sequential scans performed on the specific table.                                                                                                  |
| # Sequential Scans+                  | The cumulative number of sequential scans performed on the specific table.                                                                                       |
| # Sequential Scan Tuples             | The number of tuples sequentially scanned in the specific table.                                                                                                 |
| # Sequential Scan Tuples+            | The cumulative number of tuples sequentially scanned in the specific table.                                                                                      |
| # Tuples Deleted                     | The number of tuples deleted.                                                                                                                                    |
| # Tuples Deleted+                    | The cumulative number of tuples deleted.                                                                                                                         |
| # Tuples Estimated by ANALYZE        | The number of live (visible) tuples estimated by ANALYZE.                                                                                                        |
| # Tuples Estimated by ANALYZE+       | The cumulative number of live tuples estimated by ANALYZE.                                                                                                       |
| # Tuples HOT Updated                 | The number of tuples HOT updated. In a HOT update, the new tuple resides in the same block as the original tuple and the tuples share an index entry.            |
| # Tuples HOT Updated+                | The cumulative number of tuples HOT updated.                                                                                                                     |
| # Tuples Inserted                    | The number of tuples inserted into the specified table.                                                                                                          |
| # Tuples Inserted+                   | The cumulative number of tuples inserted into the specified table.                                                                                               |
| # Tuples Updated                     | The number of tuples updated in the selected table.                                                                                                              |
| # Tuples Updated+                    | The cumulative number of tuples updated in the selected table.                                                                                                   |
| Blocks Hit                           | The number of blocks found in the cache.                                                                                                                         |
| Blocks Hit+                          | The cumulative number of blocks found in the cache.                                                                                                              |
| Blocks Read                          | The number of blocks read.                                                                                                                                       |
| Blocks Read+                         | The cumulative number of blocks read.                                                                                                                            |
| Blocks Read from InfiniteCache       | The number of blocks read from InfiniteCache.                                                                                                                    |
| Blocks Read from InfiniteCache+      | The cumulative number of blocks read from InfiniteCache.                                                                                                         |
| Blocks Written                       | The number of blocks written.                                                                                                                                    |
| Blocks Written+                      | The cumulative number of blocks written.                                                                                                                         |
| Buffers Allocated                    | The number of buffers allocated.                                                                                                                                 |
| Buffers Allocated+                   | The cumulative number of buffers allocated.                                                                                                                      |
| Buffers Written - Backends           | The number of buffer blocks written to disk by server processe (processes connected to a client application).                                                    |
| Buffers Written - Backends+          | The cumulative number of buffer blocks written to disk by server processes.                                                                                      |
| Buffers Written - Checkpoint         | The number of blocks written to disk by the checkpoint process.                                                                                                  |
| Buffers Written - Checkpoint+        | The cumulative number of blocks written to disk by the checkpoint process.                                                                                       |
| Buffers Written - Cleaning Scan      | The number of blocks written to disk by the autovacuum process.                                                                                                  |
| Buffers Written - Cleaning Scan+     | The cumulative number of blocks written to disk by the autovacuum process.                                                                                       |
| Bytes Received (KB)                  | The number of bytes received from the client (in kilobytes).                                                                                                     |
| Bytes Received (KB)+                 | The cumulative number of bytes received (in kilobytes).                                                                                                          |
| Bytes Sent (KB)                      | The number of bytes sent to the client (in kilobytes).                                                                                                           |
| Bytes Sent (KB)+                     | The cumulative number of bytes sent (in kilobytes).                                                                                                              |
| Checkpoints - Timed                  | The number of checkpoint operations triggered by the checkpoint interval.                                                                                        |
| Checkpoints - Timed+                 | The cumulative number of checkpoint operations triggered by the checkpoint interval.                                                                             |
| Checkpoints - Untimed                | The number of checkpoint operations triggered by checkpoint size.                                                                                                |
| Checkpoints - Untimed+               | The cumulative number of checkpoint operations triggered by checkpoint size.                                                                                     |
| Database Size (MB)                   | The size of the specified database (in megabytes).                                                                                                               |
| Free RAM Memory                      | The amount of free RAM memory (in megabytes).                                                                                                                    |
| Free Swap Memory                     | The amount of free swap space on disk (in megabytes).                                                                                                            |
| Heap Blocks Hit                      | The number of heap blocks found in the cache.                                                                                                                    |
| Heap Blocks Hit+                     | The cumulative number of heap blocks found in the cache.                                                                                                         |
| Heap Blocks Read                     | The number of heap blocks read.                                                                                                                                  |
| Heap Blocks Read+                    | The cumulative number of heap blocks read.                                                                                                                       |
| Index Blocks Hit                     | The number of index blocks found in the cache.                                                                                                                   |
| Index Blocks Hit+                    | The cumulative number of index blocks found in the cache.                                                                                                        |
| Index Blocks Read                    | The number of index blocks read.                                                                                                                                 |
| Index Blocks Read+                   | The cumulative number of index blocks read.                                                                                                                      |
| Index Size (MB)                      | The size of the specified index (in megabytes).                                                                                                                  |
| In Packets Discards                  | The number of inbound packets discarded.                                                                                                                         |
| In Packets Discards+                 | The cumulative number of inbound packets discarded.                                                                                                              |
| In Packets Errors                    | The number of inbound packets that contain errors.                                                                                                               |
| In Packets Errors+                   | The cumulative number of inbound packets that contain errors.                                                                                                    |
| Link Bandwidth (Mbit/s)              | The speed of the network adapter (in megabits per second).                                                                                                       |
| Load Average - 15 Minute             | CPU saturation (in percent) - 15 minute sampling average.                                                                                                        |
| Load Average - 1 Minute              | CPU saturation (in percent) - 1 minute sampling average.                                                                                                         |
| Load Average - 5 Minute              | CPU saturation (in percent) - 5 minute sampling average.                                                                                                         |
| Load Percentage                      | CPU saturation in percent.                                                                                                                                       |
| Number of Prepared Transactions+     | The cumulative number of prepared transactions.                                                                                                                  |
| Number of WAL Files+                 | The cumulative number of write-ahead log files.                                                                                                                  |
| Out Packets Discards                 | The number of outbound packets discarded.                                                                                                                        |
| Out Packets Discards+                | The cumulative number of outbound packets discarded.                                                                                                             |
| Out Packets Errors                   | The number of outbound packets that contain errors.                                                                                                              |
| Out Packets Errors+                  | The cumulative number of outbound packets that contain errors.                                                                                                   |
| Packets Received                     | The number of packets received.                                                                                                                                  |
| Packets Received+                    | The cumulative number of packets received.                                                                                                                       |
| Packets Sent                         | The number of packets sent.                                                                                                                                      |
| Packets Sent+                        | The cumulative number of packets sent.                                                                                                                           |
| Size (MB)                            | The total size of the disk (in megabytes).                                                                                                                       |
| Size of Indexes (MB)                 | The size of indexes on the specified table (in megabytes).                                                                                                       |
| Space Available (MB)                 | The current disk space available (in megabytes).                                                                                                                 |
| Space Used (MB)                      | The current disk space used (in megabytes).                                                                                                                      |
| Table Size (MB)                      | The size of the specified table (in megabytes).                                                                                                                  |
| Tablespace Size (MB)                 | The size of the specified tablespace (in megabytes).                                                                                                             |
| Temp Buffers (MB)                    | The size of temporary buffers (in megabytes).                                                                                                                    |
| Toast Blocks Hit                     | The number of TOAST blocks found in the cache.                                                                                                                   |
| Toast Blocks Hit+                    | The cumulative number of TOAST blocks found in the cache.                                                                                                        |
| Toast Blocks Read                    | The number of TOAST blocks read.                                                                                                                                 |
| Toast Blocks Read+                   | The cumulative number of TOAST blocks read.                                                                                                                      |
| Total RAM Memory                     | The total amount of RAM memory on the system (in megabytes).                                                                                                     |
| Total Swap Memory                    | The total amount of swap space on the system (in megabytes).                                                                                                     |
| Total Table Size w/Indexes and Toast | The total size of the specified table (including indexes and associated oversized attributes).                                                                   |
| Transactions Aborted                 | The number of aborted transactions.                                                                                                                              |
| Transactions Aborted+                | The cumulative number of aborted transactions.                                                                                                                   |
| Transactions Committed               | The number of committed transactions.                                                                                                                            |
| Transactions Committed+              | The cumulative number of committed transactions.                                                                                                                 |
| Tuples Deleted                       | The number of tuples deleted from the specified table.                                                                                                           |
| Tuples Deleted+                      | The cumulative number of tuples deleted from the specified table.                                                                                                |
| Tuples Estimated by ANALYZE          | The number of visible tuples in the specified table.                                                                                                             |
| Tuples Estimated by ANALYZE+         | The cumulative number of visible tuples in the specified table.                                                                                                  |
| Tuples Fetched                       | The number of tuples fetched from the specified table.                                                                                                           |
| Tuples Fetched+                      | The cumulative number of tuples fetched from the specified table.                                                                                                |
| Tuples HOT Updated                   | The number of tuples HOT updated. In a HOT update, the new tuple resides in the same block as the original tuple and the tuples share an index entry.            |
| Tuples HOT Updated+                  | The cumulative number of tuples HOT updated. In a HOT update, the new tuple resides in the same block as the original tuple and the tuples share an index entry. |
| Tuples Inserted                      | The number of tuples inserted into the specified table.                                                                                                          |
| Tuples Inserted+                     | The cumulative number of tuples inserted into the specified table.                                                                                               |
| Tuples Returned                      | The number of tuples returned in result sets.                                                                                                                    |
| Tuples Returned+                     | The cumulative number of tuples returned in result sets.                                                                                                         |
| Tuples Updated                       | The number of tuples updated in the specified table.                                                                                                             |
| Tuples Updated+                      | The cumulative number of tuples updated in the specified table.                                                                                                  |
| WAL Segment Size (MB)                | The segment size of the write-ahead log (in megabytes).                                                                                                          |

!!! Note
    The + following the name of a metric means that the data for the metric is gathered cumulatively. Metrics that aren't followed by the '+' sign are collected as a point-in-time value.
