---
title: "Monitoring Failover Manager"
---

If you are using EDB Failover Manager to monitor your replication scenario, you must manually install and configure Failover Manager. For detailed information about installing Failover Manager, visit the EDB website at:

<https://www.enterprisedb.com/products/edb-postgres-platform/edb-postgres-failover-manager>

To monitor the status of a Failover Manager cluster on the Streaming Replication dashboard, you must provide the following information on the `Advanced` tab of the `server Properties` dialog for each node of the cluster:

-   Use the `EFM Cluster Name` field to specify the name of the Failover Manager cluster. The cluster name is the prefix of the name of the cluster properties file. For example, if your cluster properties file is named efm.properties, your cluster name is efm.

-   Use the `EFM Installation Path` field to specify the location of the Failover Manager binary file. By default, the Failover Manager binary file is installed in `/usr/efm-<X>/bin`.

    Where `<X>` is the EFM Version.

After registering your servers, the `Streaming Replication Analysis` dashboard will display status information about your EFM cluster near the bottom of the dashboard.

![The Failover Manager cluster status report](../images/fm_cluster_status.png)

The `Failover Manager Cluster Status` section of the Streaming Replication Analysis dashboard displays information about the monitored cluster:

The `Failover Manager Cluster Information` table provides information about the Failover Manager cluster:

-   The `Properties` column displays the name of the cluster property.
-   The `Values` column displays the current value of the property.

The `Failover Manager Node Status` table displays information about each node of the Failover Manager cluster:

-   The `Agent Type` column displays the type of agent that resides on the node; the possible values are Primary, Replica, Witness, Idle, and Promoting.
-   The `Address` column displays the IP address of the node.
-   The `Agent` column displays the status of the agent that resides on the node.
-   The `DB` column displays the status of the database that resides on the node.
-   The `XLog Location` column displays the transaction log location of the database.
-   The `Status Information` column displays any error-related information about the node.
-   The `XLog` Information column displays any error-related information about the transaction log.
-   The `VIP` column displays the VIP address that is associated with the node.
-   The `VIP Status` column displays True if the VIP is active for the node, False if the VIP is not.

## Replacing a Primary Node

You can use the PEM client to replace the Primary node of a Failover Manager cluster with a replica node. To initiate the failover process, select `Replace Cluster Primary` from `Server` under the `Tools` menu. A dialog opens, asking you to confirm that you wish to replace the current primary node.

![Replacing the Primary node of a cluster](../images/fm_replace_primary.png)

Select `Yes` to remove the current primary node from the Failover Manager cluster and promote a replica node to the role of read/write primary node within a Failover Manager cluster. The node with the highest promotion priority (defined in Failover Manager) will become the new primary node. PEM will display a dialog, reporting the job status.

![Confirmation of the promotion](../images/fm_job_result.png)

When the job completes and the `Streaming Replication Analysis` dashboard refreshes, you can review the `Failover Manager Node Status` table to confirm that a replica node has been promoted to the role of primary within the Failover Manager cluster.

## Switchover EFM Cluster

You can use the PEM client to replace the primary node of a Failover Manager cluster with a replica node. To initiate the switchover process, select `Switchover EFM Cluster` from the `Tools` menu. A dialog opens, asking you to confirm that you wish to switchover EFM cluster.

![Switchover EFM Cluster](../images/fm_switchover_cluster.png)

Select `Yes` to start the Failover Manager switchover, and promote a replica node to the role of read/write primary node and reconfigure the primary database as a new replica within a Failover Manager cluster. The node with the highest promotion priority (defined in Failover Manager) will become the new primary node. PEM will display a dialog, reporting the job status.

![Confirmation of the promotion](../images/fm_switchover_job_result.png)

When the job completes and the `Streaming Replication Analysis` dashboard refreshes, you can review the `Failover Manager Node Status` table to confirm that a switchover occurred.
