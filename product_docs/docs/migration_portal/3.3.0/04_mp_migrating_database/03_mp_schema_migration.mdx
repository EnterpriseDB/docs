---
title: "Schema Migration"

redirects:
  - /migration_portal/3.0.1/04_mp_migrating_database/03_mp_schema_migration/
  - /migration_portal/3.1.0/04_mp_migrating_database/03_mp_schema_migration/
  - /migration_portal/3.2.0/04_mp_migrating_database/04_mp_data_migration/

legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-migration-portal/user-guides/user-guide/3.0.1/mp_schema_migration.html"
---

<div id="mp_schema_migration" class="registered_link"></div>

After resolving errors in your schemas, you can use the schemas with a client application such as pgAdmin, ToadEdge, or the PSQL client, or migrate the schema to an EDB Postgres Advanced Server.

!!!Note

    For more information about using Toad Edge with EDB Postgres Advanced Server, see Toad Edge for Postgres.

You can choose one of the following options for migrating schemas; migrate to an:

-   Existing on-premises EDB Postgres Advanced Server
-   New on-premises EDB Postgres Advanced Server
-   EDB Postgres Advanced Server on Cloud

![Schema migration home page](../images/mp_schema_migration_home.png)

*Figure 3-14: Schema migration home page*

<div id="existing_on_premises_edb_advanced_server" class="registered_link"></div>

## Migrating to an Existing On-Premises EDB Postgres Advanced Server Host

You can migrate schemas to an existing on-premises EDB Postgres Advanced Server on Windows or Linux platforms.

### Migrating Schemas on Windows

1.  Select the `Existing on-premises EDB Postgres Postgres Advanced Server` option:

![Existing on-premises EDB Postgres Advanced Server home page](../images/mp_schema_migration_existing_epas.png)

*Figure 3-15: Existing on-premises EDB Postgres Advanced Server home page*

2.  Select one or more schemas to migrate to EDB Postgres Advanced Server:

![Selecting schemas for migration](../images/mp_schema_mig_exist_epas_schemas_selection.png)

*Figure 3-16: Selecting schemas for migration*

!!!Note
    If your schemas are not 100% compatible, a banner will be displayed as shown; complete the `Contact Us` form for any assistance required.

![The Contact Us form](../images/mp_schema_mig_exist_epas_contact_us.png)

*Figure 3-17: The Contact Us form*

3.  Download the assessed schemas:

![Download the assessed schemas](../images/mp_schema_mig_exist_epas_download.png)

*Figure 3-18: Download the assessed schemas*

4.  Click on `Windows`:

![Selecting Windows operating system](../images/mp_schema_mig_exist_epas_windows.png)

*Figure 3-19: Selecting Windows operating system*

5.  To import the schemas, run the following command:

-   On CLI

    ```text
    \i c:\users\...\<project_name>.sql
    ```

-   On cmd/shell

    ```text
    edb-psql -f <project_name>.sql
    ```

!!!Note
    You can also use `pgAdmin` instead.

The converted schemas are migrated to the target server.

![A successful migration](../images/mp_schema_mig_exist_epas_mig_success.png)

*Figure 3-20: A successful migration*

### Migrating Schemas on Linux

To migrate schemas to an existing on-premises EDB Postgres Advanced Server on Linux, complete the following steps:

1.  Click the `Existing on-premises EDB Postgres Advanced Server` option:

![Existing on-premises EDB Postgres Advanced Server home page](../images/mp_schema_migration_existing_epas.png)

*Figure 3-21: Existing on-Premises EDB Postgres Advanced Server home page*

2.  Select one or more schemas to migrate to EDB Postgres Advanced Server:

![Selecting schemas for migration](../images/mp_schema_mig_exist_epas_schemas_selection_linux.png)

*Figure 3-22: Selecting schemas for migration*

3.  Download the assessed schemas:

![Download the assessed schemas](../images/mp_schema_mig_exist_epas_download.png)

*Figure 3-23: Download the assessed schemas*

4.  Click on `Linux`:

![Selecting Linux operating system](../images/mp_schema_mig_exist_linux.png)

*Figure 3-24: Selecting Linux operating system*

5.  To import the schemas, invoke the following `edb-psql` client commands:

    ```text
    sudo su - enterprisedb
    edb-psql edb
    create database <database_name>;
    \\connect <database_name>
    \\i <project_name>.sql
    ```

!!!Note
    You can optionally use the `pgAdmin` client for the import.

The converted schemas are migrated to the target server.

![A successful schema migration](../images/mp_schema_mig_exist_epas_mig_success.png)

*Figure 3-25: A successful schema migration*

<div id="new_on_premises_edb_advanced_server" class="registered_link"></div>

## Migrating to a New On-Premises EDB Postgres Advanced Server Installation

You can install new EDB Postgres Advanced Server on-premises on Windows or Linux platforms and migrate the schemas.

### Migrating Schemas on Windows

To migrate schemas to a new on-premises EDB Postgres Advanced Server on Windows, complete the following steps:

1.  Click `New on-premises EDB Postgres Postgres Advanced Server` option.

![New on-premises EDB Postgres Advanced Server home page](../images/mp_schema_migration_home_new.png)

*Figure 3-26: New on-premises EDB Postgres Advanced Server home page*

2.  Select one or more schemas to migrate on EDB Postgres Advanced Server.

![Selecting schemas for migration](../images/mp_schema_mig_new_epas_schemas_selection.png)

*Figure 3-27: Selecting schemas for migration*

3.  Select the `Windows` operating system.

![Selecting Windows operating system](../images/mp_schema_mig_new_epas_windows.png)

*Figure 3-28: Selecting Windows operating system*

4.  Download `Windows Installer`.

![Downloading Windows installer](../images/mp_schema_mig_new_epas_windows_installer.png)

*Figure 3-29: Downloading Windows installer*

5.  For installation steps, click `EDB Postgres Advanced Server Installation Guide for Windows`.

![View Windows installation guide](../images/mp_schema_mig_new_epas_windows_guide.png)

*Figure 3-30: A successful schema migration*

6.  Download the assessed schemas.

![Downloading the assessed file](../images/mp_schema_mig_new_epas_download.png)

*Figure 3-31: Downloading the assessed file*

7.  You can import schemas by running the following command:

    -   On CLI

        ```text
        \i c:\users\...\<project_name>.sql
        ```

    -   On cmd/shell

        ```text
        edb-psql -f <project_name>.sql
        ```

![Importing schemas into EDB Postgres Advanced Server](../images/mp_schema_mig_new_epas_windows_import.png)

*Figure 3-32: Importing schemas into EDB Postgres Advanced Server*

!!! Note
    You can also use `pgAdmin` instead.

The schemas are migrated to the target server.

<figure><img src="../images/mp_schema_mig_new_epas_mig_success.png" class="align-center" /></figure>

*Figure 3-33: Importing schemas into EDB Postgres Advanced Server*


### Migrating Schemas on Linux

To migrate schemas to an on-premises EDB Postgres Advanced Server on Linux, complete the following steps:

1.  Click `New On-premises EDB Postgres Advanced Server` option.

![Migrating schemas home page](../images/mp_schema_migration_home_new.png)

*Figure 3-34: Migrating schemas home page*

2.  Select one or more schemas to migrate on EDB Postgres Advanced Server.

![Selecting schemas for migration](../images/mp_schema_mig_new_epas_schemas_selection.png)

*Figure 3-35: Selecting schemas for migration*

3.  Select the `Linux` operating system.

![Selecting Linux operating system](../images/mp_schema_mig_new_epas_linux.png)

*Figure 3-36: Selecting Linux operating system*

4.  You can select one of the following options to install the EDB Postgres Advanced Server:

    -   Repository
    -   More options

    ![Selecting Linux repository](../images/mp_schema_mig_new_epas_linux_repo.png)

    *Figure 3-37: Selecting Linux repository*

5.  For information on the installation procedure, click `EDB Postgres Advanced Server Installation Guide` for Linux:

![Selecting Linux installation guide](../images/mp_schema_mig_new_epas_linux_guide.png)

*Figure 3-38: Selecting Linux installation guide*

6.  Download the assessed schemas:

![Downloading the assessed schemas](../images/mp_schema_mig_new_epas_download.png)

*Figure 3-39: Downloading the assessed schemas*

7.  To import the schemas, run the following command:

    ```text
    sudo su - enterprisedb
    edb-psql edb
    create database <database_name>;
    \connect <database_name>
    \i <project_name>.sql
    ```

![Importing schemas into EDB Postgres Advanced Server](../images/mp_schema_mig_new_epas_linux_import.png)

*Figure 3-40: Importing schemas into EDB Postgres Advanced Server*

!!! Note
    You can also use pgAdmin instead.

The converted schemas are migrated to the target server.

![A successful schema migration](../images/mp_schema_mig_new_epas_mig_success.png)

*Figure 3-41: A successful schema migration*

## Migrating to the Cloud

To migrate schemas on EDB Postgres Advanced Server to Cloud, complete the following steps:

2.  Click `EDB Postgres Advanced Server on Cloud` option:

![EDB Postgres Advanced Server on Cloud](../images/mp_schema_migration_home_cloud.png)

*Figure 3-42: EDB Postgres Advanced Server on Cloud*

3.  Select one or more schemas to migrate to EDB Postgres Advanced Server:

![Selecting schemas for migration](../images/mp_schema_mig_cloud_epas_schemas_selection.png)

*Selecting schemas for migration*

4.  Select the cloud platform. For example, `IBM Cloud`:

![Selecting cloud option for migration](../images/mp_schema_mig_cloud_option.png)

*Figure 3-43: Selecting cloud option for migration*

5.  To launch a new cluster, click `Go to Cloud`:

![Launching a cloud cluster](../images/mp_schema_mig_cloud_cluster.png)

*Figure 3-44: Launching a cloud cluster*

Or, if you have an existing cluster running, click `Next`.

6.  Enter the required connection details on the `Connect` page:

![Connecting to the cloud cluster](../images/mp_schema_mig_cloud_cluster_connection_page.png)

*Figure 3-45: Connecting to the cloud cluster*

!!!Note
    You can click `Edit Connection` to make changes to the connection details and retest the connection details.

7.  Click `Test Connection` to verify the connection details:

![Verify the connection details](../images/mp_schema_mig_cloud_cluster_connection_test.png)

*Figure 3-46: Verify the connection details*

8.  Once the connection is successful, click `Next`:

![A successful migration](../images/mp_schema_mig_cloud_epas_mig_success.png)

*Figure 3-47: A successful migration*

The converted schemas are migrated to the target server.
