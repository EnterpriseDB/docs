# yaml-language-server: $schema=https://raw.githubusercontent.com/EnterpriseDB/docs/refs/heads/develop/tools/automation/generators/relgen/relnote-schema.json
product: EDB CloudNativePG Cluster
version: 1.28.0-rc2
date: 7 November 2025
intro: |    
  This release includes the following:
components:
  "Operator": 1.28.0-rc2
  "CNP plugin": 1.28.0-rc2
  upstream-merge: Upstream [1.28.0-rc2](https://cloudnative-pg.io/documentation/preview/release_notes/v1.28/)
highlights: |
  We've consolidated our [private container registry](../private_edb_registries) into a single location. This change simplifies access and deployment. 
  Starting with v1.28.0, any customer attempting an operator upgrade, MUST configure the new unified repository pull secret! 
  For details and instructions, follow the [Central Migration Guide](../migrating_edb_registries).
relnotes:
- relnote: |
    Quorum-Based Failover Promoted to Stable
  details: |
    Promoted the quorum-based failover feature, introduced experimentally in 1.27.0, to a stable API.
    This data-driven failover mechanism is now configured via the `spec.postgresql.synchronous.failoverQuorum` field, graduating from the previous `alpha.k8s.enterprisedb.io/failoverQuorum` annotation.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8589">#8589</a>
  type: Feature
  impact: High
- relnote: |
    Declarative Foreign Data Management
  details: |
    Introduced comprehensive declarative management for Foreign Data Wrappers (FDW) by extending the `Database` CRD.
    This feature adds the `.spec.fdws` and `.spec.servers` fields, allowing you to manage FDW extensions and their corresponding foreign servers directly from the `Database` resource.
    This work was implemented by Ying Zhu (@EdwinaZhu) as part of the LFX Mentorship Program 2025 Term 2.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/7942">#7942</a>, <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8401">#8401</a>
  type: Feature
  impact: High
- relnote: |
    Enabled simultaneous image and configuration changes
  details: |
    allowing you to update the container image (including PostgreSQL version or extensions) and
    PostgreSQL configuration settings in the same operation. The operator first
    applies the image change, followed by the configuration changes in a subsequent
    rollout, ensuring safe and consistent cluster updates.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8115">#8115</a>
  type: Enhancement
  impact: High
- relnote: |
    Introduced `securityContext` at the pod level and `containerSecurityContext`
    for individual containers (including `postgres`, `init`, and sidecars).
  details: |
    This provides granular control over security settings, replacing the previous
    cluster-wide `postgres` and `operator` user settings. Contributed by @x0ddf.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/6614">#6614</a>
  type: Enhancement
  impact: High
- relnote: |
    Adopted standard Kubernetes recommended labels
  details: |
    (e.g., `app.kubernetes.io/name`) for all resources generated by EDB Postgres for Kubernetes
    (Clusters, Backups, Poolers, etc.). Contributed by @JefeDavis.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8087">#8087</a>
  type: Enhancement
  impact: High
- relnote: |
    Introduced a new caching layer for user-defined monitoring queries
  details: |
    to reduce load on the PostgreSQL database.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8003">#8003</a>
  type: Enhancement
  impact: High
- relnote: |
    Introduced the `alpha.k8s.enterprisedb.io/unrecoverable=true` annotation for replica
    pods.
  details: |
    When applied, this annotation instructs the operator to permanently
    delete the instance by removing its Pod and PVCs, after which it will recreate
    the replica from the primary.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8178">#8178</a>
  type: Enhancement
  impact: High
- relnote: |
    Enhanced PgBouncer integration by automatically setting `auth_dbname` to the
    `pgbouncer` database, simplifying auth setup.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8671">#8671</a>
  type: Enhancement
  impact: High
- relnote: |
    Allowed providing stage-specific `pg_restore` options during database import.
  details: |
    (Stage-specific options are `preRestore`, `postRestore`, `dataRestore`.) Contributed by
    @hanshal101.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/7690">#7690</a>
  type: Enhancement
  impact: High  
- relnote: |
    Added the PostgreSQL `majorVersion` to the `Backup` object's status for easier identification and management.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8464">#8464</a>
  type: Enhancement
  impact: High  
- relnote: |
    Allowed providing fine-grained custom TLS configurations for PgBouncer
  details: |
    The `Pooler` CRD was extended with `clientTLSSecret`, `clientCASecret`,
    `serverTLSSecret`, and `serverCASecret` fields under `.spec.pgbouncer`.
    These fields enable users to supply their own certificates for both
    client-to-pooler and pooler-to-server connections, taking precedence over the
    operator-generated certificates.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8692">#8692</a>
  type: Security
  impact: High
- relnote: |
    Added optional TLS support for the operator's metrics server (port 8080)
  details: |
    This feature is opt-in and enabled by setting the `METRICS_CERT_DIR`
    environment variable, which instructs the operator to look for `tls.crt` and
    `tls.key` files in the specified directory. When unset, the server continues to
    use HTTP for backward compatibility.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8997">#8997</a>
  type: Security
  impact: High
- relnote: |
    Enabled `cnp_report_operator` to work with minimal permissions by making
    only the operator deployment required
  details: |
    All other resources (pods, secrets, config maps, events, webhooks, and OLM data) are now optional and collected on
    a best-efforts basis. The command gracefully handles permission errors for
    those resources by logging clear warnings and continuing report generation with
    available data, rather than failing completely. This enables least-privileged
    access, where users may have limited, namespace-scoped permissions.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8982">#8982</a>
  type: Security
  impact: High
- relnote: |
    Fixed the `CREATE PUBLICATION` SQL generation for multi-table publications to be backward-compatible with PostgreSQL 13+.
  details: |
    The previously generated syntax
    was only valid for PostgreSQL 15+ and caused syntax errors on older versions.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8888">#8888</a>
  type: Bug Fix
  impact: High
- relnote: |
    Fixed backup failures in complex pod definitions by reliably selecting the `postgres` container by name instead of by index.
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8964">#8964</a>
  type: Bug Fix
  impact: High
- relnote: |
    `cnp` plugin: Fixed bugs in `cnp report` log collection, especially when fetching previous logs.
  details: |
    The collector now correctly fetches previous and current logs in separate requests and gracefully handles missing previous logs (e.g., on containers with no restart history), ensuring current logs are always collected.
  component: CNP plugin
  jira:
  addresses: <a href="https://github.com/EnterpriseDB/cloud-native-postgres/pull/8992">#8992</a>
  type: Bug Fix
  impact: High
