---
title: 'Container Image Requirements'
originalFilePath: 'src/container_images.md'
---



The {{name.ln}} operator for Kubernetes is designed to
work with any compatible container image of PostgreSQL that complies
with the following requirements:


The {{name.ln}} operator for Kubernetes is designed to work with any
compatible PostgreSQL container image that meets the following requirements:

-   PostgreSQL executables must be available in the system path:
    -   `initdb`
    -   `postgres`
    -   `pg_ctl`
    -   `pg_controldata`
    -   `pg_basebackup`
-   Proper locale settings configured

!!!info Important
Only [PostgreSQL versions supported by the PGDG](https://postgresql.org/) are allowed.
!!!

-   [PGAudit](https://www.pgaudit.org/) extension (only required if audit logging
    is needed)
-   `du` (used for `kubectl cnp status`)

!!!warning
Application Container Images will be used by {{name.ln}}
in a **Primary with multiple/optional Hot Standby Servers Architecture**
only.
!!!

## Image Tag Requirements

To ensure the operator makes informed decisions, it must accurately detect the
PostgreSQL major version. This detection can occur in two ways:

1.  Utilizing the `major` field of the `imageCatalogRef`, if defined.
2.  Auto-detecting the major version from the image tag of the `imageName` if
    not explicitly specified.

For auto-detection to work, the image tag must adhere to a specific format. It
should commence with a valid PostgreSQL major version number (e.g., 15.6 or
16), optionally followed by a dot and the patch level.

Following this, the tag can include any character combination valid and
accepted in a Docker tag, preceded by a dot, an underscore, or a minus sign.

Examples of accepted image tags:

-   `12.1`
-   `13.3.2.1-1`
-   `13.4`
-   `14`
-   `15.5-10`
-   `16.0`

!!!warning
`latest` is not considered a valid tag for the image.
!!!

!!!note
Image tag requirements do not apply for images defined in a catalog.
!!!
