# yaml-language-server: $schema=https://raw.githubusercontent.com/EnterpriseDB/docs/refs/heads/develop/tools/automation/generators/relgen/relnote-schema.json
product: EDB CloudNativePG Cluster
version: 1.27.1
date: 24 October 2025
intro: |    
  This release includes the following:
components:
  "Operator": 1.27.1
  "CNP plugin": 1.27.1
  upstream-merge: Upstream [1.27.1](https://cloudnative-pg.io/docs/1.27/release_notes/v1.27/)
relnotes:
- relnote: |
    Delayed the decommissioning of native in-core support for Barman Cloud to at
    least version 1.29.
  jira: 
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8670">#8670</a>
  type: Change
  impact: High
- relnote: |
    Adopted the new format of `postgres-containers` and `postgis-containers`
    images and image catalog artifacts
  details: |
    and **updated** the default PostgreSQL
    version to `18.0-system-trixie` (PostgreSQL 18 is now supported).
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8578">#8578</a>,
             <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8760">#8760</a>,
             <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8558">#8558</a>
  type: Change
  impact: High
- relnote: Deprecated the `monitoring.enablePodMonitor` field
  details: |
    in the `Cluster` and `Pooler` resources. This field will be removed in a future release. Users who
    rely on `PodMonitor` resources should create them manually instead.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8753">#8753</a>  
  type: Change
  impact: High
- relnote: Added support for overriding the PgBouncer `auth_type`, `server_tls_sslmode`, and `client_tls_sslmode` settings
  details: |
    which were previously hardcoded. Default values remain consistent with the former behavior but can now be customized when required.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8674">#8674</a>  
  type: Enhancement
  impact: High
- relnote: Added a `CHECKPOINT` step before PostgreSQL smart and fast shutdowns
  details: |
    to reduce shutdown duration and replica promotion time, especially on systems with a high `checkpoint_timeout`.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8867">#8867</a>
  type: Enhancement
  impact: High
- relnote: Added a warning in the instance manager for deprecated or unsupported OS versions
  details: |
    based on the official `postgres-containers` project.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8601">#8601</a>
  type: Enhancement
  impact: High
- relnote: Improved certificate parsing error reporting
  details: |
    Failures now log specific errors instead of a generic message, aiding troubleshooting.
    This is particularly relevant after the CVE-2025-58187 fix in Go 1.25.2 and 1.24.8,
    which may trigger parsing failures for invalid DNS SANs.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8801">#8801</a>
  type: Enhancement
  impact: High
- relnote: Added a check to ensure the destination WAL archive path is empty when bootstrapping a cluster using the `pg_basebackup` method
  details: |
    consistent with other bootstrap methods.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8895">#8895</a>
  type: Enhancement
  impact: High
- relnote: Added validation to prevent backups from running on hibernated clusters
  details: |
    Backups attempted on such clusters now fail with reason `ClusterIsHibernated`,
    following the standard prerequisite check pattern.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8870">#8870</a>
  type: Enhancement
  impact: High
- relnote: Added support for `pprof` profiling
  details: |
    Instances can now enable the `pprof` tool by adding the `alpha.k8s.enterprisedb.io/enableInstancePprof` annotation
    to the `Cluster` resource for advanced debugging.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7876">#7876</a>
  type: Enhancement
  impact: High
- relnote: Updated the Flexible I/O Tester (FIO) image in the `cnp` plugin
  details: |
    to `wallnerryan/fiotools-aio:v2`, as provided by Ryan Wallner.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8847">#8847</a>
  component: CNP plugin
  type: Enhancement
  impact: High
- relnote: Enhanced the `cnp status backup` command to provide more detailed status information when using a `barman-cloud`-based backup plugin
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8780">#8780</a>,
              <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8690">#8690</a>
  type: Enhancement
  impact: High
  component: CNP plugin

- relnote: Fixed backup restoration failures when using custom WAL segment sizes with parallel WAL recovery.
  details: |
    The operator no longer manages the end-of-WAL file marker during restoration,
    preventing errors when backups span multiple WAL segments.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8873">#8873</a>
  type: Bug fix
  impact: High
- relnote: |
    Fixed a bug in major upgrades where a volume snapshot from a previous minor version 
    could be incorrectly used to optimize replica creation.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8475">#8475</a>
  type: Bug fix
  impact: High
- relnote: Fixed `initdb` to wait for the application user secret before bootstrapping a new cluster
  details: |
    preventing potential race conditions.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8663">#8663</a>
  type: Bug fix
  impact: High
- relnote: |
    Fixed quorum-based failover to work correctly in clusters with only two
    instances using synchronous replication.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8680">#8680</a>
  type: Bug fix
  impact: High
- relnote: Fixed configuration hash calculation to ignore internal configuration fields
  details: |
    preventing unnecessary reconciliations.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8868">#8868</a>
  type: Bug fix
  impact: High
- relnote: Fixed the connection retry logic in the `cnpgi` plugin
  details: |
    The reconciliation loop now detects connection pool changes correctly and uses exponential
    backoff to reduce "closed pool" errors.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8554">#8554</a>
  type: Bug fix
  impact: High
- relnote: Fixed volume snapshot usage during replica scaling to work with backup plugins.
  details: |
    Previously, this optimization was only available with the in-tree backup
    implementation, but now clusters using backup plugins can also leverage volume
    snapshots when creating new replicas.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8506">#8506</a>
  type: Bug fix
  impact: High
- relnote: Fixed the `Pooler` templating to correctly inherit settings for the bootstrap controller init container.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8394">#8394</a>
  type: Bug fix
  impact: High
- relnote: Fixed webhook errors to use the correct API group
  details: |
    (`postgresql.k8s.enterprisedb.io`) in `Pooler` and backup webhooks, ensuring consistent API error reporting.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8485">#8485</a>
  type: Bug fix
  impact: High
- relnote : Fixed a potential nil pointer dereference in the hibernation reconciler 
  details: |
    when handling errors. Contributed by @PascalBourdier.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8756">#8756</a>
  type: Bug fix
  impact: High
- relnote: Fixed an issue in the environment cache where callers could inadvertently modify shared data.
  details: |
    The `LoadEnv` function now returns a copy of cached environment slices to prevent mutations from affecting the cache.
  jira:
  addresses: <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8880">#8880</a>
  type: Bug fix
  impact: High
