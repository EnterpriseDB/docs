---
# IMPORTANT: Do not edit this file directly - it is generated from yaml source.
title: EDB CloudNativePG Cluster 1.28.0 release notes
navTitle: Version 1.28.0
originalFilePath: product_docs/docs/postgres_for_kubernetes/1/rel_notes/src/1.28.0_rel_notes.yml
editTarget: originalFilePath
---

Released: 16 December 2025

This release of EDB Postgres® AI for CloudNativePG™ Cluster includes the following:

## Highlights

We've consolidated our [private container registry](../private_edb_registries) into a single location. This change simplifies access and deployment. 
Starting with v1.28.0, any customer attempting an operator upgrade, MUST configure the new unified repository pull secret! 
For details and instructions, follow the [Central Migration Guide](../migrating_edb_registries).

## Features

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td><details><summary>Quorum-Based Failover Promoted to Stable
</summary><hr/><p>Promoted the quorum-based failover feature, introduced experimentally in 1.27.0, to a stable API.
This data-driven failover mechanism is now configured via the <code>spec.postgresql.synchronous.failoverQuorum</code> field, graduating from the previous <code>alpha.k8s.enterprisedb.io/failoverQuorum</code> annotation.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8589">#8589</a></td></tr>
<tr><td><details><summary>Declarative Foreign Data Management
</summary><hr/><p>Introduced comprehensive declarative management for Foreign Data Wrappers (FDW) by extending the <code>Database</code> CRD.
This feature adds the <code>.spec.fdws</code> and <code>.spec.servers</code> fields, allowing you to manage FDW extensions and their corresponding foreign servers directly from the <code>Database</code> resource.
This work was implemented by Ying Zhu (@EdwinaZhu) as part of the LFX Mentorship Program 2025 Term 2.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7942">#7942</a>, <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8401">#8401</a></td></tr>
</tbody></table>


## Enhancements

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td><details><summary>Enabled simultaneous image and configuration changes when using <code>primaryUpdateMethod: restart</code>
</summary><hr/><p>allowing you to update the container image (including PostgreSQL version or extensions) and
PostgreSQL configuration settings in the same operation.
Note that when using <code>primaryUpdateMethod: switchover</code>, image and
configuration changes must still be performed separately to avoid configuration
mismatches during the switchover process.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8241">#8241</a></td></tr>
<tr><td><details><summary>Improved network failure detection for replica instances by setting the
default <code>tcp_user_timeout</code> to 5 seconds.
</summary><hr/><p>This change helps replicas detect
and recover from silent network drops more quickly. Previously, replicas could
wait up to 127 seconds before detecting such failures; with the new timeout,
they reconnect to the primary within 5 seconds. To preserve the previous
behavior, set <code>STANDBY_TCP_USER_TIMEOUT</code> to <code>0</code> in the operator configuration.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9317">#9317</a></td></tr>
<tr><td><details><summary>Adopted standard Kubernetes recommended labels
</summary><hr/><p>(e.g., <code>app.kubernetes.io/name</code>) for all resources generated by EDB Postgres for Kubernetes
(Clusters, Backups, Poolers, etc.). Contributed by @JefeDavis.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8087">#8087</a></td></tr>
<tr><td><details><summary>Introduced <code>securityContext</code> at the pod level and <code>containerSecurityContext</code>
for individual containers (including <code>postgres</code>, <code>init</code>, and sidecars).
</summary><hr/><p>This provides granular control over security settings, replacing the previous
cluster-wide <code>postgres</code> and <code>operator</code> user settings. Contributed by @x0ddf.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/6614">#6614</a></td></tr>
<tr><td><details><summary>Introduced the <code>alpha.k8s.enterprisedb.io/unrecoverable=true</code> annotation for replica
pods.
</summary><hr/><p>When applied, this annotation instructs the operator to permanently
delete the instance by removing its Pod and PVCs, after which it will recreate
the replica from the primary.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8178">#8178</a></td></tr>
<tr><td>Introduced a new caching layer for user-defined monitoring queries to reduce load on the PostgreSQL database.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8003">#8003</a></td></tr>
<tr><td>Enhanced PgBouncer integration by automatically setting `auth_dbname` to the
`pgbouncer` database, simplifying auth setup.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8671">#8671</a></td></tr>
<tr><td><details><summary>Allowed providing stage-specific <code>pg_restore</code> options during database import.
</summary><hr/><p>(Stage-specific options are <code>preRestore</code>, <code>postRestore</code>, <code>dataRestore</code>.) Contributed by
@hanshal101.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7690">#7690</a></td></tr>
<tr><td>Added the PostgreSQL `majorVersion` to the `Backup` object's status for easier identification and management.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8464">#8464</a></td></tr>
<tr><td><details><summary>Enhanced cluster restore to wait for all init containers to complete before starting the restore process.
</summary><hr/><p>This ensures that backup tools running in init containers finish preparing the data before the restore begins.
The implementation correctly handles Kubernetes init container sidecars by ignoring those with <code>RestartPolicy=Always</code>.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9026">#9026</a></td></tr>
<tr><td><details><summary>Added the <code>PGBOUNCER_IMAGE_NAME</code> operator configuration parameter to allow overriding the default PgBouncer image.
</summary><hr/><p>This is useful for air-gapped environments or when using internal registries.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9232">#9232</a></td></tr>
<tr><td><details><summary>CNP plugin: Added a <code>--timeout</code> flag to the <code>kubectl cnp status</code> command
</summary><hr/><p>for configuring the timeout for filesystem operations such as calculating
cluster size. The default remains 10 seconds but can be adjusted for
large clusters where operations may take longer.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9201">#9201</a></td></tr>
<tr><td>Improved `cnp report` to generate more shell-friendly file names.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8984">#8984</a></td></tr>
</tbody></table>


## Security Fixes

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td><details><summary>Allowed providing fine-grained custom TLS configurations for PgBouncer
</summary><hr/><p>The <code>Pooler</code> CRD was extended with <code>clientTLSSecret</code>, <code>clientCASecret</code>,
<code>serverTLSSecret</code>, and <code>serverCASecret</code> fields under <code>.spec.pgbouncer</code>.
These fields enable users to supply their own certificates for both
client-to-pooler and pooler-to-server connections, taking precedence over the
operator-generated certificates.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8692">#8692</a></td></tr>
<tr><td><details><summary>Added optional TLS support for the operator's metrics server (port 8080)
</summary><hr/><p>This feature is opt-in and enabled by setting the <code>METRICS_CERT_DIR</code>
environment variable, which instructs the operator to look for <code>tls.crt</code> and
<code>tls.key</code> files in the specified directory. When unset, the server continues to
use HTTP for backward compatibility.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8997">#8997</a></td></tr>
<tr><td><details><summary>Enabled <code>cnp_report_operator</code> to work with minimal permissions by making
only the operator deployment required
</summary><hr/><p>All other resources (pods, secrets, config maps, events, webhooks, and OLM data) are now optional and collected on
a best-efforts basis. The command gracefully handles permission errors for
those resources by logging clear warnings and continuing report generation with
available data, rather than failing completely. This enables least-privileged
access, where users may have limited, namespace-scoped permissions.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8982">#8982</a></td></tr>
</tbody></table>


## Changes

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td>Updated the default PostgreSQL version to `18.1-standard-ubi9`.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9178">#9178</a></td></tr>
<tr><td>Updated the default PgBouncer version to **1.25.1**, which carries
a fix for **CVE-2025-12819**, for new Pooler deployments.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9367">#9367</a></td></tr>
</tbody></table>


## Bug Fixes

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td><details><summary>Improved resilience of all probe types (liveness, readiness, and startup) to
transient Kubernetes API server connectivity issues.
</summary><hr/><p>Probes now use a caching mechanism that falls back to cached cluster definitions
during brief network interruptions, preventing unnecessary pod restarts and
probe failures.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9148">#9148</a></td></tr>
<tr><td><details><summary>Fixed the <code>CheckEmptyWalArchive</code> safeguard to run correctly when restoring
from a volume snapshot using CNP-I backup/WAL plugins (e.g.,
<code>plugin-barman-cloud</code>).
</summary><hr/><p>Previously, this check was skipped for plugin-based implementations.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9306">#9306</a></td></tr>
<tr><td><details><summary>Improved error detection and reporting when ImageCatalog retrieval fails.
</summary><hr/><p>The operator now emits a Warning event and logs errors for all failure types,
not just <code>NotFound</code> errors, improving visibility into configuration issues.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9266">#9266</a></td></tr>
<tr><td><details><summary>Fixed TLS certificate verification issues when connecting to CNP-I plugins
by adding the <code>k8s.enterprisedb.io/pluginServerName</code> annotation.
</summary><hr/><p>This allows customizing the DNS name used for certificate verification in
environments where the plugin's certificate uses a different DNS name than
the Service name.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9222">#9222</a></td></tr>
<tr><td><details><summary>Fixed an issue where the instance manager controller could fail to restart
after an error, reporting a &quot;controller already exists&quot; message.
</summary><hr/><p>The controller now uses <code>SkipNameValidation</code> for subsequent initialization
attempts.
Contributed by @mateusoliveira43.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9123">#9123</a></td></tr>
<tr><td><details><summary>Fixed incorrect WAL restore path handling in plugins when the destination
path is absolute, preventing path duplication issues.
</summary><hr/><p>Contributed by @Endevir.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9093">#9093</a></td></tr>
<tr><td><details><summary>Fixed the <code>CREATE PUBLICATION</code> SQL generation for multi-table publications to be backward-compatible with PostgreSQL 13+.
</summary><hr/><p>The previously generated syntax
was only valid for PostgreSQL 15+ and caused syntax errors on older versions.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8888">#8888</a></td></tr>
<tr><td>Fixed backup failures in complex pod definitions by reliably selecting the `postgres` container by name instead of by index.
</td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8964">#8964</a></td></tr>
<tr><td><details><summary><code>cnp</code> plugin: Fixed bugs in <code>cnp report</code> log collection, especially when fetching previous logs.
</summary><hr/><p>The collector now correctly fetches previous and current logs in separate requests and gracefully handles missing previous logs (e.g., on containers with no restart history), ensuring current logs are always collected.</p>
</details></td><td><a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8992">#8992</a></td></tr>
</tbody></table>


