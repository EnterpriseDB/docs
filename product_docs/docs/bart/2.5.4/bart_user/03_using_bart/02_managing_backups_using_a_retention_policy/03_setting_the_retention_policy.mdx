---
title: "Setting the Retention Policy"
---

<div id="setting_the_retention_policy" class="registered_link"></div>


The retention policy is determined by the `retention_policy` parameter in the BART configuration file. It can be applied globally to all servers, but each server can override the global retention policy with its own. For information about creating a global retention policy and an individual database server retention policy, see the [EDB Postgres Backup and Recovery Installation and Upgrade Guide](https://www.enterprisedb.com/edb-docs/).

There are two types of retention policies - redundancy retention policy and the recovery window retention policy as described in the following sections.

<div id="redundancy_retention_policy" class="registered_link"></div>

## Redundancy Retention Policy



To use the redundancy retention policy, set `retention_policy = max_number BACKUPS` where `max_number` is a positive integer designating the maximum number of most recent backups.

**Additional Restrictions:**

  - The keyword `BACKUPS` must always be specified in plural form (for example, `1 BACKUPS`).
  - BART will accept a maximum integer value of 2,147,483,647 for `max_number`; however, you should use a realistic, practical value based on your system environment.

The redundancy retention policy is the default type of retention policy if all keywords `BACKUPS`, `DAYS`, `WEEKS`, and `MONTHS` following the `max_number` integer are omitted as shown by the following example:

> `retention_policy = 3`

In the following example, the redundancy retention policy setting considers the three most recent backups as the active backups. Any older backups, except those marked as `keep`, are considered obsolete:

``` text
[ACCTG]
host = 127.0.0.1
port = 5444
user = enterprisedb
archive_command = 'cp %p %a/%f'
retention_policy = 3 BACKUPS
description = "Accounting"
```

The `SHOW-SERVERS` subcommand displays the `3 Backups` redundancy retention policy in the `RETENTION POLICY` field:

``` bash
-bash-4.1$ bart SHOW-SERVERS -s acctg
SERVER NAME         : acctg
HOST NAME           : 127.0.0.1
USER NAME           : enterprisedb
PORT                : 5444
REMOTE HOST         :
RETENTION POLICY    : 3 Backups
DISK UTILIZATION    : 627.04 MB
NUMBER OF ARCHIVES  : 25
ARCHIVE PATH        : /opt/backup/acctg/archived_wals
ARCHIVE COMMAND     : cp %p /opt/backup/acctg/archived_wals/%f
XLOG METHOD         : fetch
WAL COMPRESSION     : disabled
TABLESPACE PATH(s)  :
DESCRIPTION         : "Accounting"
```

<div id="recovery_window_retention_policy" class="registered_link"></div>

## Recovery Window Retention Policy



To use the recovery window retention policy, set the `retention_policy` parameter to the desired length of time for the recovery window in one of the following ways:

  - Set to `max_number DAYS` to define the start date/time recovery window boundary as the number of days specified by `max_number` going back in time from the current date/time.
  - Set to `max_number WEEKS` to define the start date/time recovery window boundary as the number of weeks specified by `max_number` going back in time from the current date/time.
  - Set to `max_number MONTHS` to define the start date/time recovery window boundary as the number of months specified by `max_number` going back in time from the current date/time.

**Additional Restrictions:**

  - The keywords `DAYS`, `WEEKS`, and `MONTHS` must always be specified in plural form (for example, `1 DAYS`, `1 WEEKS`, or `1 MONTHS`).
  - BART will accept a maximum integer value of `2,147,483,647` for `max_number`, however, a realistic, practical value based on your system environment must always be used.

A backup is considered active if the date/time of the backup is equal to or greater than the start of the recovery window date/time.

You can view the actual, calculated recovery window by:

  - Invoking the `MANAGE` subcommand in debug mode, along with the `-n` option.
  - Using the `SHOW-SERVERS` subcommand.
