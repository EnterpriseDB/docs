---
title: "Managing Incremental Backups"
---

<div id="managing_incremental_backups" class="registered_link"></div>


The following section summarizes how retention policy management affects incremental backups.

  - The retention policy rules are applied to full backups.
      - A redundancy retention policy uses the number of full backups to determine if a backup is obsolete. Incremental backups are excluded from the comparison count against the `retention_policy` setting for the maximum number of backups.
      - A recovery window retention policy uses the backup date/time of any full backups to determine if a backup is obsolete. The backup date/time of any successive incremental backups in the chain are ignored when comparing with the recovery window.
  - The retention status of all incremental backups in a chain is set to the same status applied to the full backup of the chain.
  - The actions applied by the `MANAGE` and `DELETE` subcommands on a full backup are applied to all incremental backups in the chain in the same manner.
  - Thus, a backup chain (that is, the full backup and all its successive incremental backups) are treated by retention policy management as if they are all one, single backup.
      - The status setting applied to the full backup is also applied to all incremental backups in its chain.
      - If a full backup is marked as obsolete and then deleted according to the retention policy, all incremental backups in the chain are also marked obsolete and then deleted as well.

The following are some specific points regarding the `MANAGE` and `DELETE` subcommands on incremental backups.

  - `MANAGE` subcommand:
      - When the `MANAGE` subcommand is invoked, the status applied to the full backup is also applied to all successive incremental backups in the chain.
      - The `MANAGE` subcommand with the `-c { keep | nokeep}` option cannot specify the backup identifier or backup name of an incremental backup with `-i` backup option. The `-i` backup option can only specify the backup identifier or backup name of a full backup.
      - You can also use the `-i` all option to take a backup of all backups. When the `MANAGE` subcommand with the `-c { keep | nokeep }` option is applied to a full backup, the same status change is made to all incremental backups in the chain.
  - `DELETE` subcommand:
      - The `DELETE` subcommand with the `-s server -i` backup option specifies the backup identifier or backup name of an incremental backup in which case that incremental backup along with all its successive incremental backups are deleted, thus shortening that backup chain.

## Using a Redundancy Retention Policy with Incremental Backups



When a [redundancy retention policy](../../#redundancy_retention_policy) is used and the `MANAGE` subcommand is invoked, the status of the oldest `active` full backup is changed to `obsolete` if the number of full backups exceeds the maximum number specified by the `retention_policy` parameter in the BART configuration file.

<div class="note">

<div class="title">

Note

</div>

When a full backup is changed from `active` to `obsolete`, all successive incremental backups in the chain of the full backup are also changed from `active` to `obsolete`.

</div>

When determining the number of backups that exceeds the number specified by the `retention_policy` parameter, only full backups are counted for the comparison. Incremental backups are not included in the count for the comparison against the `retention_policy` parameter setting.

See the *EDB Postgres Backup and Recovery Reference Guide* for examples demonstrating use of the `MANAGE` and `DELETE` subcommands when a redundancy retention policy is in effect.

## Using a Recovery Window Retention Policy with Incremental Backups



If the `MANAGE` command is invoked when BART is configured to use a [recovery window retention policy](../../#recovery_window_retention_policy), the status of `active` full backups are changed to `obsolete` if the date/time of the full backup is outside of the recovery window.

<div class="note">

<div class="title">

Note

</div>

If a full backup is changed from `active` to `obsolete`, all successive incremental backups in the chain of the full backup are also changed from `active` to `obsolete`.

</div>

The status of an incremental backup is changed to `obsolete` regardless of whether or not the date/time of when the incremental backup was taken still lies within the recovery window.

See the *EDB Postgres Backup and Recovery Reference Guide* for examples demonstrating use of the `MANAGE` and `DELETE` subcommands when a recovery window retention policy is in effect.
