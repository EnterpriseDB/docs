---
title: "Configuring Streaming Replication"
---

<div id="configuring_streaming_replication" class="registered_link"></div>


Configuring a replication scenario can be complex; for detailed information about configuration options, please see the PostgreSQL core documentation, available at:

<https://www.postgresql.org/docs/current/static/warm-standby.html#streaming-replication>

You may want to use a `.pgpass` file to enable md5 authentication for the replication user â€“ this may or may not be the safest authentication method for your environment. For more information about the supported authentication options, please see the PostgreSQL core documentation at:

<https://www.postgresql.org/docs/current/static/client-authentication.html>

<div class="note">

<div class="title">

Note

</div>

From Version 3.10 onwards, EFM uses `pg_ctl` utility for standby promotion. You do not need to set the `trigger_file` or `promote_trigger_file` parameter for promotion of a standby server.

</div>

## Limited Support for Cascading Replication

While does not provide full support for cascading replication, it does provide limited support for simple failover in a cascading replication scenario. Cascading replication allows a Standby node to stream to another Standby node, reducing the number of connections (and processing overhead) to the primary node.

![*Cascading replication.*](images/cascading_replication.png)

For detailed information about configuring cascading replication, please see the PostgreSQL documentation at:

<https://www.postgresql.org/docs/current/static/warm-standby.html#cascading-replication>

To use in a cascading replication scenario, you should modify the cluster properties file, setting the following property values on Standby Node \#2:

    promotable=false
    auto.reconfigure=false

In the event of a Failover, Standby Node \#1 will be promoted to the role of Primary node. Should failover occur, Standby Node \#2 will continue to act as a read-only replica for the new Primary node until you take actions to manually reconfigure the replication scenario to contain 3 nodes.

In the event of a failure of Standby Node \#1, you will not have failover protection, but you will receive an email notifying you of the failure of the node.

Please note that performing a switchover and switch back to the original primary may not preserve the cascading replication scenario.
