---
title: "Controlling the Failover Manager service"
redirects:
 - ../efm_user/08_controlling_efm_service
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-failover-manager/user-guides/user-guide/4.0/controlling_efm_service.html"
  - "/edb-docs/d/edb-postgres-failover-manager/user-guides/user-guide/4.1/controlling_efm_service.html"
---

<div id="controlling_efm_service" class="registered_link"></div>

Each node in a Failover Manager cluster hosts a Failover Manager agent that is controlled by a service script. By default, the service script expects to find:

-   A configuration file named `efm.properties` that contains the properties used by the Failover Manager service. Each node of a replication scenario must contain a properties file that provides information about the node.
-   A cluster members file named `efm.nodes` that contains a list of the cluster members. Each node of a replication scenario must contain a cluster members list.

If you're running multiple clusters on a single node, you need to manually create configuration files with cluster-specific names and modify the service script for the corresponding clusters.

The commands that control the Failover Manager service are platform specific.

<div id="service_utility" class="registered_link"></div>

## Using the systemctl utility on RHEL/Rocky Linux/AlmaLinux 8.x or later

On RHEL/Rocky Linux/AlmaLinux 8.x or later, Failover Manager runs as a Linux service named (by default) `edb-efm-5.<x>.service` that is located in `/usr/lib/systemd/system`. Each database cluster monitored by Failover Manager runs a copy of the service on each node of the replication cluster.

Use the following systemctl commands to control a Failover Manager agent that resides on a RHEL/Rocky Linux/AlmaLinux 8.x or later host:

`systemctl start edb-efm-5.<x>`

The `start` command starts the Failover Manager agent on the current node. The local Failover Manager agent monitors the local database and communicates with Failover Manager on the other nodes. You can start the nodes in a Failover Manager cluster in any order. This command must be invoked by root.

`systemctl stop edb-efm-5.<x>`

Stop the Failover Manager on the current node. This command must be invoked by root.

`systemctl status edb-efm-5.<x>`

The `status` command returns the status of the Failover Manager agent on which it is invoked. You can invoke the status command on any node to instruct Failover Manager to return status and server startup information.

```text
[root@ONE ~]}> systemctl status edb-efm-5.1 [TODO replace this]
● edb-efm-5.1.service - EnterpriseDB Failover Manager 5.1
     Loaded: loaded (/etc/systemd/system/edb-efm-5.1.service; enabled; preset: disabled)
     Active: active (running) since Wed 2025-09-24 13:50:15 UTC; 7min ago
    Process: 10711 ExecStart=/bin/bash -c /usr/edb/efm-5.1/bin/runefm.sh start ${CLUSTER} (code=exited, status=0/SUCCESS)
   Main PID: 10793 (java)
      Tasks: 42 (limit: 50116)
     Memory: 182.9M
        CPU: 7.291s
     CGroup: /docker/224bba5e52f842fbcfe42dce9995a48f45b2acafde02d6337a9cf3e0e15a13c4/system.slice/edb-efm-5.1.service
             └─10793 /usr/lib/jvm/java-11-openjdk-11.0.25.0.9-7.el9.aarch64/bin/java -cp /usr/edb/efm-5.1/lib/EFM-5.1.jar -Xmx128m com.enterprisedb.efm.main.ServiceCommand __int_start /etc/edb/e>

Sep 24 13:50:15 node1 bash[10776]: 2025-09-24 13:50:15 Addresses to check after adding standbys: [node3-16262(node3), node4-52738(node4), node2-40700(node2)]
Sep 24 13:50:15 node1 bash[10776]: 2025-09-24 13:50:15 Testing remote database connections.
Sep 24 13:50:15 node1 bash[10776]: 2025-09-24 13:50:15 Checking host node3 for address: node3-16262(node3)
Sep 24 13:50:15 node1 bash[10776]: 2025-09-24 13:50:15 Checking host node4 for address: node4-52738(node4)
Sep 24 13:50:15 node1 bash[10776]: 2025-09-24 13:50:15 Checking host node2 for address: node2-40700(node2)
Sep 24 13:50:15 node1 bash[10776]: 2025-09-24 13:50:15 Now monitoring database.
Sep 24 13:50:15 node1 systemd[1]: Started EnterpriseDB Failover Manager 5.1.
Sep 24 13:52:12 node1 sudo[11065]:      efm : PWD=/ ; USER=postgres ; COMMAND=/usr/edb/efm-5.1/bin/efm_db_functions extrecconfexists /etc/edb/efm-5.1/efm.properties
Sep 24 13:53:12 node1 sudo[11101]:      efm : PWD=/ ; USER=postgres ; COMMAND=/usr/edb/efm-5.1/bin/efm_db_functions fileexists /etc/edb/efm-5.1/efm.properties /opt/postgres/data/recovery.signal
Sep 24 13:54:12 node1 sudo[11129]:      efm : PWD=/ ; USER=postgres ; COMMAND=/usr/edb/efm-5.1/bin/efm_db_functions fileexists /etc/edb/efm-5.1/efm.properties /opt/postgres/data/standby.signal
```
