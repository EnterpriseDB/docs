---
title: Configuring multiple databases
navTitle: Multiple databases

---


To leverage full observability capabilities, we recommend deploying one agent per host machine with self-managed database clusters. Then, you can configure the agent to connect to multiple databases on the same host by adding a dedicated database entry to the list:

```yaml
databases:
      - resource_id: selfmanaged_postgres_1
        disable_host_association: false
        dsn: "$DSN1"
        ...
      - resource_id: selfmanaged_postgres_2
        disable_host_association: true
        dsn: "$DSN2"
        ...
```

While a single agent instance can track databases across different host machines, that setup provides limited host-level metrics for databases not on the same machine as the agent.

!!! Note

    Currently, monitoring data is collected only from the database specified in the DSN. For example, if you specify the `postgres` database, then the database size reflects only the size of this database.
    To monitor other databases within the same Postgres instance, you must specify them individually the same way you specify multiple instances.
