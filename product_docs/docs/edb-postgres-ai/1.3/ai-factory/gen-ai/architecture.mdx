---
title: Gen AI Architecture (Entities and Flows)
navTitle: Architecture
description: A practical manual for Gen AI architecture in AI Factory — entities, relationships, and runtime flows across assistants, knowledge, tools, threads, and model endpoints.
---

This page describes how Gen AI entities work together at runtime and where configuration and governance live. Use it as a companion to concepts, how‑tos, and quickstarts.

## Entities and relationships

- Assistant → orchestrates retrieval and tool use to fulfill the directive.
- Ruleset → constrains Assistant behavior (policy, tone, safety).
- Knowledge → knowledge bases (embedded content) + retrievers (hybrid search) + data lake inputs.
- Tools → enable actions and integrations via authenticated, typed interfaces.
- Structures → reusable building blocks (tasks, pipelines, workflows) called by Assistants.
- Threads → capture state and execution trace (prompts, retrievals, tool calls, outputs).

Entity docs:

- [Assistants](/edb-postgres-ai/1.3/ai-factory/gen-ai/assistants/assistants-explained/)
- [Rulesets](/edb-postgres-ai/1.3/ai-factory/gen-ai/rulesets/)
- [Knowledge Bases](/edb-postgres-ai/1.3/ai-factory/gen-ai/libraries/knowledge-bases)
- [Tools](/edb-postgres-ai/1.3/ai-factory/gen-ai/tools/)
- [Structures](/edb-postgres-ai/1.3/ai-factory/gen-ai/structures/)
- [Threads](/edb-postgres-ai/1.3/ai-factory/gen-ai/threads/threads-explained)

## Control and data flows

```text
User/App → Assistant → (Retriever → Knowledge Base) → Model endpoint
                          └→ (Tool call → API/service)
                           ↳ Thread (state, trace)
```

Flow
1) User or app calls the Assistant with a directive/input.
2) Assistant retrieves context via the configured retriever and knowledge base(s).
3) Assistant optionally invokes Tools to gather data or perform actions.
4) Assistant calls the model endpoint for generation, grounded on retrieved context.
5) Thread captures prompts, retrieved chunks, tool I/O, and responses for audit and debugging.

## Endpoints and models

- Use private [Model Serving](/edb-postgres-ai/1.3/ai-factory/model/serving/) endpoints for Sovereign AI.
- Internal calls use cluster‑local DNS; external calls use portal + access keys.
- Operation paths: chat (`/v1/chat/completions`), embeddings (`/v1/embeddings`), rerank (`/v1/ranking`).
- Client patterns: OpenAI‑compatible or raw HTTP; see [access guide](/edb-postgres-ai/1.3/ai-factory/model/access-kserve-endpoints) and [Python client quickstart](/edb-postgres-ai/1.3/ai-factory/model/quickstart-python-client).

## Governance and observability

- Governing inputs: knowledge curation, retriever filters, tool scopes, rulesets.
- Observability: use Threads and platform metrics/logs to debug and monitor.
- Auditability: Threads provide a durable record of decisions and data use.

## Where to start

- [Gen AI quickstart (UI)](/edb-postgres-ai/1.3/ai-factory/gen-ai/quickstart-customer-service-agent-ui)
- [Getting started](/edb-postgres-ai/1.3/ai-factory/gen-ai/getting-started)
- [Hybrid KB best practices](/edb-postgres-ai/1.3/ai-factory/gen-ai/hybrid-kb-best-practices)
- [Create a Tool](/edb-postgres-ai/1.3/ai-factory/gen-ai/create-tool)
- [View and manage Threads](/edb-postgres-ai/1.3/ai-factory/gen-ai/view-threads)
