---
# IMPORTANT: Do not edit this file directly - it is generated from yaml source.
title: AI Accelerator - Pipelines 4.0.0 release notes
navTitle: Version 4.0.0
originalFilePath: product_docs/docs/edb-postgres-ai/1.3/ai-factory/pipeline/rel_notes/src/rel_notes_4.0.0.yml
editTarget: originalFilePath
---

Released: 5 May 2025

This release introduces a completely re-written processing back-end for the knowledge base pipeline.
Retrievers are renamed to knowledge bases and some types and functions are also renamed for consistency.
The preparer pipeline now supports OCR and can output its results to a volume.
As always, bug fixes and other enhancements to existing functionality are also included.

## Highlights

- New processing back-end for the knowledge base pipeline supporting: background processing, batch processing, full iterative sync for tables and volumes.
- Added OCR support to the preparer pipeline.
- Added the ability to write preparer pipeline output to a volume.
- Renaming of retrievers to knowledge bases.
- Renaming of preparer functions for consistency.
- Renaming of "processing mode" in pipelines config to "auto processing" for consistency.
- Added arm64 support for the AI Accelerator on Debian 12 and RHEL 9.
- Added support for writing preparer output to object storage volumes with configurable TLS and custom certificate validation.

## Enhancements

<table class="table w-100"><thead><tr><th>Description</th><th width="10%">Addresses</th></tr></thead><tbody>
<tr><td><details><summary>Renamed retrievers to knowledge bases and renamed preparer functions.</summary><hr/><p>The retriever pipeline has been renamed to the knowledge base pipeline.
The functions <code>aidb.create_retriever_for_table()</code> and <code>aidb.create_retriever_for_volume()</code> have been renamed to <code>aidb.create_knowledge_base_for_table()</code> and <code>aidb.create_knowledge_base_for_volume()</code>, respectively.
Also renamed is the <code>aidb.delete_retriever</code> function (to <code>aidb.delete_knowledge_base()</code>) and the <code>aidb.RetrieverSourceDataFormat</code> enum has been renamed to <code>aidb.PipelineDataFormat</code>.
For consistency, the preparer pipeline functions have also been renamed. The <code>aidb.create_preparer_for_table()</code> function has been renamed to <code>aidb.create_table_preparer()</code> and <code>aidb.create_preparer_for_volume()</code> has been renamed to <code>aidb.create_volume_preparer()</code>.
The <code>aidb.retrievers</code> view is now the <code>aidb.knowledge_bases</code> view. Aliases for the <code>aidb.knowledge_bases</code> and <code>aidb.preparers</code> views have also been added as <code>aidb.kbs</code> and <code>aidb.preps</code> respectively.
The older functions and view names are still available but marked as deprecated. They will be removed in a future release.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Renamed &quot;processing mode&quot; in pipelines config to &quot;auto processing&quot; for consistency</summary><hr/><p>The setting for &quot;auto processing&quot; in pipeline creation, config and overview functions has been re-named from <code>processing_mode</code> to <code>auto_processing</code>.
We did this to have consistency with the name of the feature itself which is called auto-processing.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Added the ability to write preparer pipeline output to a volume.</summary><hr/><p>Preparer pipelines now support AIDB volumes (e.g. an S3 bucket using PGFS) as output destination. Previously, only Postgres tables were supported.
Volumes as input source were already supported together with tables, so now all 4 source/destination combinations are possible.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Added arm64 support for the AI Accelerator on Debian 12 and RHEL 9.</summary><hr/><p>The AI Accelerator now supports arm64 architecture on Debian 12 and RHEL 9. This includes support for the arm64 architecture in the <code>aidb</code> packages.</p>
</details></td><td></td></tr>
<tr><td><details><summary>The aidb.rerank_text() function now returns results as a rich table</summary><hr/><p>The <code>aidb.rerank_text()</code> function used to rerank a list of texts based on a ranking query, now returns its results in a table, one row per text. The table includes columns for the raw logit_score, the text itself and the index from the input.
This makes it much easier to use the result in larger SQL query e.g. by joining with other data or sorting the rows by logit_score.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Improved debugging capabilities for AI models accessed over HTTP APIs</summary><hr/><p>AIDB now prints rich debugging output for any errors encountered when using external models via API. This includes NIM models and OpenAI API compatible models.
The HTTP status code, error response content, and request content are logged to help users debug issues like incorrect endpoints, incorrect model configuration or incorrect credentials, among others.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Added TLS configuration support for models using HTTP APIs.</summary><hr/><p>Models that connect to external HTTP endpoints can now be configured with TLS settings via the <code>tls_config</code> object.
This supports disabling certificate verification using <code>insecure_skip_verify</code> for development, or specifying a custom certificate authority using the <code>ca_path</code> field.
These settings allow secure integration with services using self-signed or private CA certificates.</p>
</details></td><td></td></tr>
<tr><td><details><summary>Added PerformOcr operation to Preparer.</summary><hr/><p>Preparer pipelines can now utilize a <code>PerformOcr</code> operation that leverages the <a href="https://build.nvidia.com/baidu/paddleocr">PaddleOCR model</a> with the <a href="https://docs.nvidia.com/nim/ingestion/table-extraction/latest/overview.html">NVIDIA NIM Image OCR API</a>.</p></details></td><td></td></tr>
</tbody></table>


