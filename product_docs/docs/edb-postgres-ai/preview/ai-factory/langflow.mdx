---
title: Langflow
navTitle: Langflow
description: Facilitate building AI pipelines with Langflow.
deepToC: true
---


Langflow is an open-source tool to build and deploy AI pipelines and MCP servers.
It supports important AI functionality like agents and the Model Context Protocol (MCP), and it doesn't require the use of specific large language models (LLMs) or vector stores.


## EDB components in Langflow

You can build an AI pipeline by using the components available in the EDB folder in Langflow.
To use the EDB components, make sure the required prerequisites are met before using them in Langflow.


### Prerequisites

 Users need the required permissions in HM to create AI pipelines with Langflow. You can manage users and permissions in the HM console.

 * **EDB Embedding** and **EDB Model Server components**: Requires the AI Model Manager role at organization level:

     * Profile > **User management** > **Assign Organization Roles** > **AI Model Manager**.  

 * **EDB Knowledge Base** and **EDB Database components**: Require the Project Viewer role:

     * Project > **Users** > **Assign Project Roles** > **Project Viewer**.

 * Create an access key by creating a machine user or via the My Account option in your profile.

 * Access Langflow via Launchpad in the HM console.

 * Save the access key and other variables in Langflow as [Global Variables](https://docs.langflow.org/configuration-global-variables#create-a-global-variable).


## EDB Knowledge Base component

The EDB Knowledge Base component allows your flow to perform semantic similarity search using existing AIDB pipelines in your EDB cluster.

### Prerequisites

* Make sure the Project Viewer role is assigned to the machine user you created:

    * Project > **Users** > **Assign Project Roles** > **Project Viewer**.  

* [Create your access key](/edb-postgres-ai/preview/hybrid-manager/using_hybrid_manager/cluster_management/create-clusters/create-cluster-programmatically/#create-a-machine-user) and make sure the machine user has the Project Viewer role.

* [Create a cluster from a project](/edb-postgres-ai/preview/hybrid-manager/using_hybrid_manager/cluster_management/create-clusters/) and request access to the cluster with your machine user.

* Create a [Knowledge Base via aidb](/edb-postgres-ai/preview/ai-factory/pipeline/knowledge_base/usage/#knowledge-base-for-a-table-data-source) in the cluster.

```
CREATE EXTENSION aidb CASCADE;

CREATE TABLE public.test_source_table_gt_prj1
(
    id               INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    content          TEXT NOT NULL,
    unrelated_column TEXT
);

INSERT INTO public.test_source_table_gt_prj1
VALUES (43941, 'Catwalk Women Brown Heels'),
       (55018, 'Lakme 3 in 1 Orchid  Aqua Shine Lip Color'),
       (19337, 'United Colors of Benetton Men Stripes Black Jacket');

SELECT aidb.create_table_knowledge_base(
    name => 'psr_261_knowledge_base',
    model_name => 'bert',  -- this is a pre-defined locally running model
    source_table => 'public.test_source_table_gt_prj1',
    source_data_column => 'content',
    source_data_format => 'Text'
);

SELECT aidb.bulk_embedding('psr_261_knowledge_base');

--- below for Testing
select count(*) from public.test_source_table_gt_prj1;

SELECT * FROM aidb.kbs; 

SELECT * FROM aidb.kbstat; 

SELECT * FROM aidb.retrieve_key('psr_261_knowledge_base', 'orchid');
SELECT * FROM aidb.retrieve_text('psr_261_knowledge_base', 'orchid');
```

### EDB Knowledge Base in Langflow

1. In the Langflow UI, move the EDB Knowledge Base component per drag and drop to the flow.

1. In the field **HM Machine User Key**, enter the access key you have created.

1. Under **Hybrid Manager Project**, select your project from the dropdown menu.

1. Under **Hybrid Manager Database**, select the cluster that contains the EDB Knowledge Base.

1. Under **Database Connection Type**, select the connection type from the dropdown menu.

1. Under **User for the database**, select the user you saved in the global variables from the dropdown menu or type the user name in the field directly.

1. Under **Password for database**, select the password you saved in the global variables from the dropdown menu or type a password in the field directly.

1. Under **Database Name**, select the database you created the Knowledge Base in.

1. Under **Query Value**, enter a keyword of your choice.

1. Select **Play** icon on the upper-right corner of the component.

1. Select **Result Table** (icon) in the lower-right corner to verify the component output.

!!! Tip Tip
By toggling **Include Text** before running the component, the component will include the text results.
!!! 

## EDB Database component
The EDB Database component is the standard data connector for your flow.

### Prerequisites

* Make sure the Project Viewer role is assigned to the machine user you created to access the cluster:

    * Project > **Users** > **Assign Project Roles** > **Project Viewer**.

* [Create a cluster](/edb-postgres-ai/preview/hybrid-manager/using_hybrid_manager/cluster_management/create-clusters/).

### EDB Database in Langflow

1. In the Langflow UI, move the EDB Database component per drag and drop to Langflow.

1. In the field **HM Machine User Key**, enter the Access key you have created.

1. Under **Hybrid Manager Project**, select your project from the dropdown menu.

1. Under **Hybrid Manager Database**, select the cluster that contains the EDB Knowledge Base.

1. Under **Database Connection Type**, select the connection type from the dropdown menu.

1. Under **User for the database**, select the user you saved in the global variables from the dropdown menu or type the user name in the field directly.
   

1. Under **Password for database**, select the password you saved in the global variables from the dropdown menu or type a password in the field directly.
 

1. Under **Database Name**, select the database you created the Knowledge Base in.

1. Select the **Play** icon on the upper-right corner of the component.

1. Select **Result Table** (icon) in the lower-right corner to verify the component output.


## EDB MCP Server component in Langflow

Langflow supports the MCP Server for the EDB Database component.

### Prerequisites

* Make sure the AI Model Manager role is assigned to the machine user you created:

    * Profile > **User management** > **Assign Organization Roles** > **AI Model Manager**.  

* [Set up the EDB DB Component](#edb-database-component).

* In Langflow > **Profile** > **Settings** > **Langflow API Key** > **Add New** > **Generate API Key**.

* Toggle **MCP Server** in the lower-right hand of the EDB Database component.

### Add the EDB MCP Server component to the flow

1. In the Langflow UI, select the MCP icon from the left navigation pane.

1. Drag and drop your MCP server to the flow.

1. Under **Tool**, select the action you want to run.

1. Select the **Global Variable** you have created.

1. Select the Response icon in the lower-right corner of **MCP Tools**.

1. Run the MCP server in **Tool mode** to improve the functionality of the actions.
    - If you enable **Tool mode**, you can attach tools to the AI agent for additional and targeted functionality.

    - If you add an AI agent, the AI agent can use tools.

    - If you add the options **Chat Input** and **Chat Output** to the agent and select **Playground**, you can ask the AI agent to use the tool.


## EDB Embeddings component
The EDB Embeddings component is a model-related component used to turn AI data into embedding vectors that also interacts with models hosted on EDB infrastructure.

It requires the [creation of model clusters](/edb-postgres-ai/preview/ai-factory/langflow/#creating-a-model-cluster).


### Prerequisites

You have to create a model cluster to use the EDB Embeddings component. 
Make sure the AI Model Manager role is assigned to the machine user you created:

* Profile > **User management** > **Assign Organization Roles** > **AI Model Manager**.

!!!note Note 
Make sure a [GPU node is deployed](/edb-postgres-ai/latest/ai-factory/model/setup-gpu/) before creating a new model cluster.
!!!

### Creating a model cluster

1. In the HM console, select **Asset Library** in the upper-left hand.

1. In the **Asset Library**, select **Models**

1. Select **Add New Model** on the right hand side of your screen.

1. Enter the required parameters in the fields.

1. In the **Models** section, select the model cluster you have created.

1. In the upper-right hand, select **Create Cluster With This Model**.

1. Enter a name for the model cluster.

1. In the **Asset Library**, select the model cluster you have created.

1. Under **Clusters Using This Model**, check **Status** to verify that the cluster is active.

### EDB Embeddings component in Langflow

1. In the Langflow UI, move the EDB Embeddings component per drag and drop to the flow.

1. In the field **HM Machine User Key**, enter the access key you have created.

1. Under **Hybrid Manager Model Server Cluster Instance**, select the model cluster you have created.

1. Select the **Play** icon in the upper-right corner of the component.

## EDB Model Server component

The EDB Model Server component acts as the interface for interacting with AI models hosted on EDB infrastructure, including LLMs, embedding models, and other inference models.

It requires the [creation of model clusters](/edb-postgres-ai/preview/ai-factory/langflow/#creating-a-model-cluster).

### EDB Model Server component in Langflow

1. In the EDB Model Server component UI, enter an input in the field **Input**.
   
   For example: "Hi".

1. In the lower-right corner, make sure to select **Model Response**.

1.Select the **Play** icon in the upper-right corner of the component.

1. Select the **Result** icon in the lower-right corner to verify output.


!!! important
If you can't select a project because the portal domain defaults to the API, select **Controls** at the top of the EDB Database and Knowledge Base component to configure `http://istio-internalgateway.istio-system.svc.cluster.local:7080` as HM Portal URL.
!!!



