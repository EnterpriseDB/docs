---
title: Controlling Migration Portal project creation
navTitle: Controlling Migration Portal project creation
description: Learn about the automatic Migration Portal project creation and how to disable or customize this capability.

---

If you registered an Oracle database with Hybrid Manager via the HM agent, a Migration Portal project is **created automatically** for all the database schemas and dependencies. 

It creates a project per registered database (per `resource_id` established in the `beacon-agent.yaml`) as long as the schema size per database doesn't exceed the default maximum size of 300 GB. 

!!!note
Take into account that any schemas added post-registration aren't reflected in the Migration Portal project.
!!!

## Disabling automatic Migration Portal project creation

While automatic project creation is convenient for getting started quickly, there are scenarios where manual management is preferred: 

- Cost and resource management
- Staging and development environments 
- Workflow control and auditoring

To disable automatic Migration Portal project creation, you must edit the `beacon_server` ConfigMap in your Kubernetes cluster and restart the server deployment. The `beacon_server` is the service that controls Migration Portal project configurations.

1.  Edit the ConfigMap:

    ```shell
    kubectl edit configmap beacon-server-config -n upm-beacon
    ```

1.  Locate the `beacon_server.yaml` block and insert or modify the `migration_portal_configuration` section under `server`:

    ```yaml
    apiVersion: v1
    data:
      beacon_server.yaml: |
      # [...]
        server:
        # [...]
          migration_portal_configuration:
            autocreate_mp_projects: false
    ```

1.  Apply the changes by restarting the `beacon_server` deployment:

    ```shell
    kubectl rollout restart deployment upm-beacon-server -n upm-beacon
    ```

    !!!warning
    The `upm-beacon-server` supports all database registration and schema ingestion activities across the entire HM instance using HM agents. Restarting the `upm-beacon-server` will halt all _ongoing_ database registrations and schema ingestions, regardless of the project. Databases that already appear in the **Estate > Migrations** tab, for which schema ingestions have finished, are not affected by restarts. Ensure you coordinate this restart with other users.
    !!!

    When you restart the `upm-beacon-server` any ongoing database registrations with the HM agent will fail.

## Customizing the maximum size of Migration Portal projects

The maximum size of Migration Portal projects is 300 GB. If the schema ingested is larger than that, the Migration Portal will require you to [create Migration Portal projects manually](hm_schema_migration/#creating-a-migration-portal-project-manually). However, you can set a different maximum size for automatically created projects to help maintain the stability and governance of the Migration Portal environment:

- Server stability and performance through project size control
- Cost and resource management
- Workflow control and auditoring

To alter the default maximum size of Migration Portal projects created automatically, you must edit the `beacon_server` ConfigMap in your Kubernetes cluster and restart the server deployment. The `beacon_server` is the service that controls Migration Portal project configurations.

1.  Edit the ConfigMap:

    ```shell
    kubectl edit configmap beacon-server-config -n upm-beacon
    ```

1.  Locate the `beacon_server.yaml` block and insert or modify the `max_automatic_project_creation_bytes` section under `server`:

    ```yaml
    apiVersion: v1
    data:
      beacon_server.yaml: |
      # [...]
        server:
        # [...]
          migration_portal_configuration:
            max_automatic_project_creation_bytes: 150 GB
    ```

    !!!note
    The value set for `max_automatic_project_creation_bytes` must be equal or less than the value configured for `schema_max_file_size` (which by default is also 300 GB), for example: 

    ```yaml
    apiVersion: v1
    data:
      beacon_server.yaml: |
      # [...]
        server:
        # [...]
          stream_configuration:
            schema_max_file_size: 150 GB
    ```

1.  Apply the changes by restarting the `beacon_server` deployment:

    ```shell
    kubectl rollout restart deployment upm-beacon-server -n upm-beacon
    ```

## Related topics

-   [Migrating Oracle databases with HM](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/migration/migration_guides/oracle_to_hm_managed/).

-   [Controlling schema ingestion with the HM Agent](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/monitoring/mon_ext_dbs/mon_with_agent/configure_agent/schema_ingestion/).

-   [Migration Portal documentation](/migration_portal/latest/03_mp_using_portal/) for recommendations and guidelines on how to use the portal.
