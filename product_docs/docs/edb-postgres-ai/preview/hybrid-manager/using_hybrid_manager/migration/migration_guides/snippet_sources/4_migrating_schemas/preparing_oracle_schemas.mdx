---
title: Preparing and importing Oracle schemas
navTitle: Preparing Oracle schemas
deepToC: true

---

## Schema handling for Oracle databases

You can use several different methods to prepare your schema, exclude unsupported constraints and import it to the destination database. This section provides guidelines for how to export and import your schemas for Oracle using Migration Portal.

Other valid routes for migrating DDL to import Postgres schemas include manually creating the schemas in the destination database, performing a [pg_dump](https://www.postgresql.org/docs/current/app-pgdump.html) to obtain the schemas and [pg_restore](https://www.postgresql.org/docs/current/app-pgrestore.html) to restore them, or employing [pgAdmin](https://www.pgadmin.org/docs/pgadmin4/latest/index.html), or [psql](https://www.postgresql.org/docs/7.0/app-psql.htm).

## Export

Use the collaborative [project-scoped workspace](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/migration/schema_migration/migration_portal/access_mp/#project-scoped-workspace-vs-users-workspace) of the Migration Portal to convert and migrate schemas. The Hybrid Manager provides an integration that lets you use the HM Console to create a Migration Portal project where you can easily add source database schemas pre-loaded by the [Agent](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/migration/migration_guides/oracle_to_hm_managed) while you are performing a database migration.

### Prerequisites

-   You [registered an Oracle database](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/migration/migration_guides/oracle_to_hm_managed/) with the Hybrid Manager.

-   **Optional:** The administrator of Hybrid Manager has [enabled and configured the AI Copilot with the AI/LLM of your organization](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/enabling_migration_copilot/) to facilitate resolving schema incompatibilities in the Migration Portal.

### Creating a Migration Portal project

You can create Migration Portal projects from the Hybrid Manager. 

1.  In the **Estate** page, select the **Migrations** tab.

1.  Select the **Database Name** of the database you want to migrate to open the database's detailed view.

1.  In the detailed view of the database, select the **Schemas** tab. 

1.  Select **+ New MP Project** or the the plus sign next to one of the schemas you want to migrate.

    !!!tip
        The **Dependencies** column shows which other schemas the current schema relies on. We recommend grouping a schema with all its dependencies in a single Migration Portal project to ensure that all referenced objects exist in the destination database.

1.  In the pop-up window, enter the details for the Migration Portal project that will host the assessment, conversion and migration of the schemas and select **Continue**.

1.  Select all the schemas you want to add to this Migration Portal project. You can only select schemas that the Agent has ingested successfully and schemas that are not already part of a different MP project.

    !!!note 
        You can't add new schemas to the existing project later, but you can use a different project to migrate other schemas to the same destination database.

1.  Select **Create New Project**.

1.  In the background, this creates a Migration Portal project and loads the source schemas into it for analysis.

After the Hybrid Manager finishes loading the schemas and creating a project in the Migration Portal, a hyperlink is added with the name of the project. Select the hyperlink to open the Migration Portal.

The selected schemas have been uploaded and assessed by the Migration Portal. Use the AI Copilot or QuickHelp to help you resolve incompatibilities. 

## Import

### Standard schema import procedure

If you plan to keep schema, table and column names unaltered, use the **Online migration** option to directly connect to the destination database and migrate schema.

1.  After you have resolved all compatibility issues, select **Migrate to …**.

1.  Select the **Online migration** option (recommended).

1.  Select the schemas you want to migrate, but disable **Constraints** from the list of objects underneath the database. Select **Next**.

    !!!note

        Ensure you exclude foreign key, check, and exclusion constraints from the SQL-formatted DDL before importing the schema to the destination database.

1.  In the **Connect to your cluster** page, enter the host name of the database cluster you want to use as a destination.

    !!!note

        If you are migrating to an HM-managed database cluster: You can find the Read/Write Host and other connection data at **Clusters** > select the cluster > **Connect**.

1.  Select **Next** and wait until the schemas have been imported successfully.

1.  Connect to the target database cluster and ensure the schemas have been migrated. You can now close the Migration Portal.

!!!note

    You will have to re-apply the excluded foreign key, check, and exclusion constraints on the destination database later in the migration process, after the migration is performed successfully. Therefore, ensure you keep track of the excluded constraints. The documentation will guide you on when and how to re-apply them.

### Schema import procedure with object renaming (optional)

If you plan to map schemas, tables, or columns to different names in the destination, use the **Offline migration** option. This allows you to download a DDL file for modification.

1.  After you have resolved all compatibility issues, select **Migrate to …**.

1.  Select the **Offline migration** option.

1.  Select the schemas you want to migrate, but disable **Constraints** from the list of objects underneath the database. Select **Next**.

    !!!note

        Ensure you exclude foreign key, check, and exclusion constraints from the SQL-formatted DDL before importing the schema to the destination database.

1.  Select **Download SQL file**.

1.  After the SQL script is generated, edit the object names directly within the script (DDL) before applying it to the destination. Ensure that the structure and data types of the renamed object in the script precisely match the source. See [Mapping schema, tables and columns during a migration](/edb-postgres-ai/current/hybrid-manager/using_hybrid_manager/migration/migrate/migrations/#mapping-schema-tables-and-columns-during-a-migration) for more information.

    If you manually update object names in the DDL scripts, ensure that you also update the names in other objects that reference the updated objects. For example, if you rename a table, also update any views or constraints that reference the original table name.

1.  Connect to the destination database, and apply the modified DDL file.

!!!note

    You will have to re-apply the excluded foreign key, check, and exclusion constraints on the destination database later in the migration process, after the migration is performed successfully. Therefore, ensure you keep track of the excluded constraints. The documentation will guide you on when and how to re-apply them.
