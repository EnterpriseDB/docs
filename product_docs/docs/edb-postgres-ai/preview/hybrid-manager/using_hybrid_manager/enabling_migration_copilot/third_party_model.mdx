---
title: Enabling a third-party model for the Migration Portal AI Copilot
navTitle: Third-party model (OpenAI or Azure OpenAI)
description: Learn how to enable a third-party model to power the Migration Portal AI Copilot.

---

To leverage a third-party cloud vendor for AI Copilot interactions, these examples use OpenAI and Azure OpenAI. 

## Prerequisites

Prepare the resources your environment needs to deploy the Migration Portal AI Copilot with your vendor’s AI solution.

-   You need access credentials to the specific AI vendor’s services.
    -   If you're using OpenAI, you need your organization’s ID and API key.
    -   If you're using Azure OpenAI, you need your organization’s endpoint URL and an API key.
        Also, in your Azure OpenAI instance, create the following deployments:
        -   gpt-4o deployment:
            -   Deployment name: `gpt-4o`
            -   Suggested version: `2024-11-20`
        -   text-embedding-3-small deployment:
            -   Deployment name: `text-embedding-3-small`
            -   Suggested version: `1`

## Enabling the AI Copilot

You can enable the AI Copilot before or after you install Hybrid Manager (HM).

1.  Check if the `edb-migration-copilot` exists:

    ```
    kubectl get namespaces edb-migration-copilot
    ```

    The namespace is created during HM installation. If you're enabling the AI Copilot before installing HM, you must create the namespace in advance.

2.  If the `edb-migration-copilot` namespace doesn't exist yet, create it:

    ```
    kubectl create ns edb-migration-copilot
    ```

3.  Set the following environment variables to link the AI Copilot to an existing AI account. Replace the placeholders with your AI vendor's account information:

    <TabContainer syncKey="platform">
    <Tab title="OpenAI">

    ```
    export OPENAI_ORG_ID=<openai_org_id>   # organisation id for the openai account
    export OPENAI_API_KEY=<openai_api_key> # api key for accessing the openai account
    ```

    </Tab>

    <Tab title="Azure OpenAI">

    ```
    export AZURE_OPENAI_ENDPOINT=<azure_openai_endpoint> # endpoint for the azure openai instance
    export AZURE_OPENAI_API_KEY=<azure_openai_api_key>   # api key for accessing the azure openai instance
    ```

    </Tab>
    </TabContainer>

4.  Configure your vendor’s credentials by adding a secret to the `edb-migration-copilot` namespace:

    <TabContainer syncKey="platform">
    <Tab title="OpenAI"> 

    ```
    kubectl create secret generic ai-vendor-secrets \
      --namespace=edb-migration-copilot \
      --type=opaque \
      --from-literal=AI_VENDOR=OPENAI \
      --from-literal=OPENAI_ORG_ID="${OPENAI_ORG_ID}" \
      --from-literal=OPENAI_API_KEY="${OPENAI_API_KEY}"
    ```

    </Tab>

    <Tab title="Azure OpenAI"> 

    ```
    kubectl create secret generic ai-vendor-secrets \
      --namespace=edb-migration-copilot \
      --type=opaque \
      --from-literal=AI_VENDOR=AZURE_OPENAI \
      --from-literal=AZURE_OPENAI_ENDPOINT="${AZURE_OPENAI_ENDPOINT}" \
      --from-literal=AZURE_OPENAI_API_KEY="${AZURE_OPENAI_API_KEY}"
    ```

    </Tab>
    </TabContainer>

5.  Create a file called `migration-portal-values.yaml` with the following Helm value to override the default AI vendor secrets with the secret created in the previous step:

    <TabContainer syncKey="platform">
    <Tab title="OpenAI">

    ```
    parameters:
      edb-migration-copilot:
        ai_vendor_secrets: ai-vendor-secrets         
    ```

    - The secret referenced in `ai_vendor_secrets` must match the name of the secret previously created. 

    </Tab>

    <Tab title="Azure OpenAI">  

    ```
    parameters:
      edb-migration-copilot:
        ai_vendor_secrets: ai-vendor-secrets         
        chat_model: gpt-4o
    ```

    - The secret referenced in `ai_vendor_secrets` must match the name of the secret previously created. 
    
    - The LLM version specified in `chat_model` is `gpt-4o` by default as it's the recommended version for the AI Copilot.

    </Tab>
    </TabContainer>


6.  Reference this file when running the `helm upgrade` command during the [installation](../../install), so it uses the customized values for Migration Portal. Use this option each subsequent time you invoke `helm upgrade`. Otherwise, your values will be overridden with the vendor’s defaults.

    ```
    helm upgrade \
      -n edbpgai-bootstrap \
      --install \
      ...
      -f migration-portal-values.yaml \
      ...
    ```
