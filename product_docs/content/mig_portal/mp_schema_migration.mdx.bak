
&lt;div id="mp\_schema\_migration" class="registered\_link"&gt;&lt;/div&gt;

# `Schema Migration`

After resolving errors in your schemas, you can use the schemas with a client application such as pgAdmin, ToadEdge, or the PSQL client, or migrate the schema to an EDB Postgres Advanced Server.

Note: For more information about using Toad Edge with EDB Postgres Advanced Server, see Toad Edge for Postgres.

You can choose one of the following options for migrating schemas; migrate to an:

-   Existing on-premise EDB Postgres Advanced Server
-   New on-premise EDB Postgres Advanced Server
-   EDB Postgres Advanced Server on Cloud

<figure><img src="images/mp_schema_migration_home.png" class="align-center" alt="Schema migration home page" /><figcaption aria-hidden="true"><em>Schema migration home page</em></figcaption></figure>

&lt;div id="existing\_on\_premise\_edb\_advanced\_server" class="registered\_link"&gt;&lt;/div&gt;

## Migrating to an Existing On-Premise EDB Postgres Advanced Server Host

You can migrate schemas to an existing on-premise EDB Postgres Advanced Server on Windows or Linux platforms.

### Migrating Schemas on Windows

1.  Select the `Existing on-premise EDB Postgres Postgres Advanced Server` option:

<figure><img src="images/mp_schema_migration_existing_epas.png" class="align-center" alt="Existing on-premise EDB Postgres Advanced Server home page" /><figcaption aria-hidden="true"><em>Existing on-premise EDB Postgres Advanced Server home page</em></figcaption></figure>

1.  Select one or more schemas to migrate to EDB Postgres Advanced Server:

<figure><img src="images/mp_schema_mig_exist_epas_schemas_selection.png" class="align-center" alt="Selecting schemas for migration" /><figcaption aria-hidden="true"><em>Selecting schemas for migration</em></figcaption></figure>

<div class="note">

<div class="title">

Note

</div>

If your schemas are not 100% compatible, a banner will be displayed as shown; complete the `Contact Us` form for any assistance required.

</div>

<figure><img src="images/mp_schema_mig_exist_epas_contact_us.png" class="align-center" alt="The Contact Us form" /><figcaption aria-hidden="true"><em>The Contact Us form</em></figcaption></figure>

1.  Download the assessed schemas:

<figure><img src="images/mp_schema_mig_exist_epas_download.png" class="align-center" alt="Download the assessed schemas" /><figcaption aria-hidden="true"><em>Download the assessed schemas</em></figcaption></figure>

1.  Click on `Windows`:

<figure><img src="images/mp_schema_mig_exist_epas_windows.png" class="align-center" alt="Selecting Windows operating system" /><figcaption aria-hidden="true"><em>Selecting Windows operating system</em></figcaption></figure>

1.  To import the schemas, run the following command:

-   On CLI

> ``` text
> \i c:\users\...\<project_name>.sql
> ```

-   On cmd/shell

> ``` text
> edb-psql -f <project_name>.sql
> ```

<div class="note">

<div class="title">

Note

</div>

You can also use `pgAdmin` instead.

</div>

The converted schemas are migrated to the target server.

<figure><img src="images/mp_schema_mig_exist_epas_mig_success.png" class="align-center" alt="A successful migration" /><figcaption aria-hidden="true"><em>A successful migration</em></figcaption></figure>

### Migrating Schemas on Linux

To migrate schemas to an existing on-premise EDB Postgres Advanced Server on Linux, complete the following steps:

1.  Click the `Existing on-premise EDB Postgres Advanced Server` option:

<figure><img src="images/mp_schema_migration_existing_epas.png" class="align-center" alt="Existing on-premise EDB Postgres Advanced Server home page" /><figcaption aria-hidden="true"><em>Existing on-premise EDB Postgres Advanced Server home page</em></figcaption></figure>

1.  Select one or more schemas to migrate to EDB Postgres Advanced Server:

<figure><img src="images/mp_schema_mig_exist_epas_schemas_selection_linux.png" class="align-center" alt="Selecting schemas for migration" /><figcaption aria-hidden="true"><em>Selecting schemas for migration</em></figcaption></figure>

1.  Download the assessed schemas:

<figure><img src="images/mp_schema_mig_exist_epas_download.png" class="align-center" alt="Download the assessed schemas" /><figcaption aria-hidden="true"><em>Download the assessed schemas</em></figcaption></figure>

1.  Click on `Linux`:

<figure><img src="images/mp_schema_mig_exist_linux.png" class="align-center" alt="Selecting Linux operating system" /><figcaption aria-hidden="true"><em>Selecting Linux operating system</em></figcaption></figure>

1.  To import the schemas, invoke the following `edb-psql` client commands:

    ``` text
    sudo su - enterprisedb
    edb-psql edb
    create database <database_name>;
    \\connect <database_name>
    \\i <project_name>.sql
    ```

<div class="note">

<div class="title">

Note

</div>

You can optionally use the `pgAdmin` client for the import.

</div>

The converted schemas are migrated to the target server.

<figure><img src="images/mp_schema_mig_exist_epas_mig_success.png" class="align-center" alt="A successful schema migration" /><figcaption aria-hidden="true"><em>A successful schema migration</em></figcaption></figure>

&lt;div id="new\_on\_premise\_edb\_advanced\_server" class="registered\_link"&gt;&lt;/div&gt;

## Migrating to a New On-Premise EDB Postgres Advanced Server Installation

You can install new EDB Postgres Advanced Server on-premise on Windows or Linux platforms and migrate the schemas.

### Migrating Schemas on Windows

To migrate schemas to a new on-premise EDB Postgres Advanced Server on Windows, complete the following steps:

1.  Click `New on-premise EDB Postgres Postgres Advanced Server` option.

<figure><img src="images/mp_schema_migration_home_new.png" class="align-center" alt="New on-premise EDB Postgres Advanced Server home page" /><figcaption aria-hidden="true"><em>New on-premise EDB Postgres Advanced Server home page</em></figcaption></figure>

1.  Select one or more schemas to migrate on EDB Postgres Advanced Server.

<figure><img src="images/mp_schema_mig_new_epas_schemas_selection.png" class="align-center" alt="Selecting schemas for migration" /><figcaption aria-hidden="true"><em>Selecting schemas for migration</em></figcaption></figure>

1.  Select the `Windows` operating system.

<figure><img src="images/mp_schema_mig_new_epas_windows.png" class="align-center" alt="Selecting Windows operating system" /><figcaption aria-hidden="true"><em>Selecting Windows operating system</em></figcaption></figure>

1.  Download `Windows Installer`.

<figure><img src="images/mp_schema_mig_new_epas_windows_installer.png" class="align-center" alt="Downloading Windows installer" /><figcaption aria-hidden="true"><em>Downloading Windows installer</em></figcaption></figure>

1.  For installation steps, click EDB Postgres Advanced Server Installation Guide for Windows.

<figure><img src="images/mp_schema_mig_new_epas_windows_guide.png" class="align-center" alt="View Windows installation guide" /><figcaption aria-hidden="true"><em>View Windows installation guide</em></figcaption></figure>

1.  Download the assessed schemas.

<figure><img src="images/mp_schema_mig_new_epas_download.png" class="align-center" alt="Downloading the assessed file" /><figcaption aria-hidden="true"><em>Downloading the assessed file</em></figcaption></figure>

1.  You can import schemas by running the following command:

    -   On CLI

    > ``` text
    > \i c:\users\...\<project_name>.sql
    > ```

    -   On cmd/shell

    > ``` text
    > edb-psql -f <project_name>.sql
    > ```

<figure><img src="images/mp_schema_mig_new_epas_windows_import.png" class="align-center" alt="Importing schemas into EDB Postgres Advanced Server" /><figcaption aria-hidden="true"><em>Importing schemas into EDB Postgres Advanced Server</em></figcaption></figure>

<div class="note">

<div class="title">

Note

</div>

You can also use `pgAdmin` instead.

</div>

The schemas are migrated to the target server.

> <figure><img src="images/mp_schema_mig_new_epas_mig_success.png" class="align-center" /></figure>

### Migrating Schemas on Linux

To migrate schemas to an on-premise EDB Postgres Advanced Server on Linux, complete the following steps:

1.  Click `New On-premise EDB Postgres Advanced Server` option.

<figure><img src="images/mp_schema_migration_home_new.png" class="align-center" alt="Migrating schemas home page" /><figcaption aria-hidden="true"><em>Migrating schemas home page</em></figcaption></figure>

1.  Select one or more schemas to migrate on EDB Postgres Advanced Server.

<figure><img src="images/mp_schema_mig_new_epas_schemas_selection.png" class="align-center" alt="Selecting schemas for migration" /><figcaption aria-hidden="true"><em>Selecting schemas for migration</em></figcaption></figure>

1.  Select the `Linux` operating system.

<figure><img src="images/mp_schema_mig_new_epas_linux.png" class="align-center" alt="Selecting Linux operating system" /><figcaption aria-hidden="true"><em>Selecting Linux operating system</em></figcaption></figure>

1.  You can select one of the following options to install the EDB Postgres Advanced Server:

    -   Repository
    -   More options

    <figure><img src="images/mp_schema_mig_new_epas_linux_repo.png" class="align-center" alt="Selecting Linux repository" /><figcaption aria-hidden="true"><em>Selecting Linux repository</em></figcaption></figure>

2.  For information on the installation procedure, click `EDB Postgres Advanced Server Installation Guide` for Linux:

<figure><img src="images/mp_schema_mig_new_epas_linux_guide.png" class="align-center" alt="Selecting Linux installation guide" /><figcaption aria-hidden="true"><em>Selecting Linux installation guide</em></figcaption></figure>

1.  Download the assessed schemas:

<figure><img src="images/mp_schema_mig_new_epas_download.png" class="align-center" alt="Downloading the assessed schemas" /><figcaption aria-hidden="true"><em>Downloading the assessed schemas</em></figcaption></figure>

1.  To import the schemas, run the following command:

> ``` text
> sudo su - enterprisedb
> edb-psql edb
> create database <database_name>;
> \connect <database_name>
>  \i <project_name>.sql
> ```

<figure><img src="images/mp_schema_mig_new_epas_linux_import.png" class="align-center" alt="Importing schemas into EDB Postgres Advanced Server" /><figcaption aria-hidden="true"><em>Importing schemas into EDB Postgres Advanced Server</em></figcaption></figure>

<div class="note">

<div class="title">

Note

</div>

You can also use pgAdmin instead.

</div>

The converted schemas are migrated to the target server.

> <figure><img src="images/mp_schema_mig_new_epas_mig_success.png" class="align-center" alt="A successful schema migration" /><figcaption aria-hidden="true"><em>A successful schema migration</em></figcaption></figure>

## Migrating to the Cloud

To migrate schemas on EDB Postgres Advanced Server to Cloud, complete the following steps:

1.  Click `EDB Postgres Advanced Server on Cloud` option:

<figure><img src="images/mp_schema_migration_home_cloud.png" class="align-center" alt="EDB Postgres Advanced Server on Cloud" /><figcaption aria-hidden="true"><em>EDB Postgres Advanced Server on Cloud</em></figcaption></figure>

1.  Select one or more schemas to migrate to EDB Postgres Advanced Server:

<figure><img src="images/mp_schema_mig_cloud_epas_schemas_selection.png" class="align-center" alt="Selecting schemas for migration" /><figcaption aria-hidden="true"><em>Selecting schemas for migration</em></figcaption></figure>

1.  Select the cloud platform. For example, `IBM Cloud`:

<figure><img src="images/mp_schema_mig_cloud_option.png" class="align-center" alt="Selecting cloud option for migration" /><figcaption aria-hidden="true"><em>Selecting cloud option for migration</em></figcaption></figure>

1.  To launch a new cluster, click `Go to Cloud`:

<figure><img src="images/mp_schema_mig_cloud_cluster.png" class="align-center" alt="Launching a cloud cluster" /><figcaption aria-hidden="true"><em>Launching a cloud cluster</em></figcaption></figure>

Or, if you have an existing cluster running, click `Next`.

1.  Enter the required connection details on the `Connect` page:

<figure><img src="images/mp_schema_mig_cloud_cluster_connection_page.png" class="align-center" alt="Connecting to the cloud cluster" /><figcaption aria-hidden="true"><em>Connecting to the cloud cluster</em></figcaption></figure>

<div class="note">

<div class="title">

Note

</div>

You can click `Edit Connection` to make changes to the connection details and retest the connection details.

</div>

1.  Click `Test Connection` to verify the connection details:

<figure><img src="images/mp_schema_mig_cloud_cluster_connection_test.png" class="align-center" alt="Verify the connection details" /><figcaption aria-hidden="true"><em>Verify the connection details</em></figcaption></figure>

1.  Once the connection is successful, click `Next`:

<figure><img src="images/mp_schema_mig_cloud_epas_mig_success.png" class="align-center" alt="A successful migration" /><figcaption aria-hidden="true"><em>A successful migration</em></figcaption></figure>

The converted schemas are migrated to the target server.
