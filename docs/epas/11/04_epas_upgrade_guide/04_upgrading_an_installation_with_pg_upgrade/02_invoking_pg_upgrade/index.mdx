---
title: "Invoking pg_upgrade"
---

<div id="invoking_pg_upgrade" class="registered_link"></div>

When invoking pg_upgrade, you must specify the location of the old and new cluster's `PGDATA` and executable (`/bin`) directories, as well as the name of the Advanced Server superuser, and the ports on which the installations are listening. A typical call to invoke pg_upgrade to migrate from Advanced Server 10 to Advanced Server 11 takes the form:

> `pg_upgrade`
> `--old-datadir` *`path_to_10_data_directory`*
> `--new-datadir` *`path_to_11_data_directory`*
> `--user` *`superuser_name`*
> `--old-bindir` *`path_to_10_bin_directory`*
> `--new-bindir` *`path_to_11_bin_directory`*
> `--old-port` *`10_port`* `--new-port` *`11_port`*

Where:

`--old-datadir` *`path_to_10_data_directory`*

> Use the `--old-datadir` option to specify the complete path to the `data` directory within the Advanced Server 10 installation.

`--new-datadir` *`path_to_11_data_directory`*

> Use the `--new-datadir` option to specify the complete path to the `data` directory within the Advanced Server 11 installation.

`--username` *`superuser_name`*

> Include the `--username` option to specify the name of the Advanced Server superuser. The superuser name should be the same in both versions of Advanced Server. By default, when Advanced Server is installed in Oracle mode, the superuser is named `enterprisedb`. If installed in PostgreSQL mode, the superuser is named `postgres`.
>
> If the Advanced Server superuser name is not the same in both clusters, the clusters will not pass the pg_upgrade consistency check.

`--old-bindir` *`path_to_10_bin_directory`*

> Use the `--old-bindir` option to specify the complete path to the `bin` directory in the Advanced Server 10 installation.

`--new-bindir` *`path_to_11_bin_directory`*

> Use the `--new-bindir` option to specify the complete path to the `bin` directory in the Advanced Server 11 installation.

`--old-port` *`10_port`*

> Include the `--old-port` option to specify the port on which Advanced Server 10 listens for connections.

`--new-port` *`11_port`*

> Include the `--new-port` option to specify the port on which Advanced Server 11 listens for connections.