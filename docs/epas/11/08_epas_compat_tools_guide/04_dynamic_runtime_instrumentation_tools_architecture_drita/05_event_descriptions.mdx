---

title: "Event Descriptions"
---

<div id="event_descriptions" class="registered_link"></div>

The following table lists the basic wait events that are displayed by DRITA.

| Event Name                            | Description                                                  |
| ------------------------------------- | ------------------------------------------------------------ |
| `add in shmem lock acquire`           | Obsolete/unused                                              |
| `bgwriter communication lock acquire` | The bgwriter (background writer) process has waited for the short-term lock that synchronizes messages between the bgwriter and a backend process. |
| `btree vacuum lock acquire`           | The server has waited for the short-term lock that synchronizes access to the next available vacuum cycle ID. |
| `buffer free list lock acquire`       | The server has waited for the short-term lock that synchronizes access to the list of free buffers (in shared memory). |
| `checkpoint lock acquire:`            | A server process has waited for the short-term lock that prevents simultaneous checkpoints. |
| `checkpoint start lock acquire`       | The server has waited for the short-term lock that synchronizes access to the bgwriter checkpoint schedule. |
| `clog control lock acquire`           | The server has waited for the short-term lock that synchronizes access to the commit log. |
| `control file lock acquire`           | The server has waited for the short-term lock that synchronizes write access to the control file (this should usually be a low number). |
| `db file extend`                      | A server process has waited for the operating system while adding a new page to the end of a file. |
| `db file read`                        | A server process has waited for the completion of a read (from disk). |
| `db file write`                       | A server process has waited for the completion of a write (to disk). |
| `db file sync`                        | A server process has waited for the operating system to flush all changes to disk. |
| `first buf mapping lock acquire`      | The server has waited for a short-term lock that synchronizes access to the shared-buffer mapping table. |
| `freespace lock acquire`              | The server has waited for the short-term lock that synchronizes access to the freespace map. |
| `lwlock acquire`                      | The server has waited for a short-term lock that has not been described elsewhere in this section. |
| `multi xact gen lock acquire`         | The server has waited for the short-term lock that synchronizes access to the next available multi-transaction ID (when a SELECT...FOR SHARE statement executes). |
| `multi xact member lock acquire`      | The server has waited for the short-term lock that synchronizes access to the multi-transaction member file (when a SELECT...FOR SHARE statement executes). |
| `multi xact offset lock acquire`      | The server has waited for the short-term lock that synchronizes access to the multi-transaction offset file (when a SELECT...FOR SHARE statement executes). |
| `oid gen lock acquire`                | The server has waited for the short-term lock that synchronizes access to the next available OID (object ID). |
| `query plan`                          | The server has computed the execution plan for a SQL statement. |
| `rel cache init lock acquire`         | The server has waited for the short-term lock that prevents simultaneous relation-cache loads/unloads. |
| `shmem index lock acquire`            | The server has waited for the short-term lock that synchronizes access to the shared-memory map. |
| `sinval lock acquire`                 | The server has waited for the short-term lock that synchronizes access to the cache invalidation state. |
| `sql parse`                           | The server has parsed a SQL statement.                       |
| `subtrans control lock acquire`       | The server has waited for the short-term lock that synchronizes access to the subtransaction log. |
| `tablespace create lock acquire`      | The server has waited for the short-term lock that prevents simultaneous CREATE TABLESPACE or DROP TABLESPACE commands. |
| `two phase state lock acquire`        | The server has waited for the short-term lock that synchronizes access to the list of prepared transactions. |
| `wal insert lock acquire`             | The server has waited for the short-term lock that synchronizes write access to the write-ahead log. A high number may indicate that WAL buffers are sized too small. |
| `wal write lock acquire`              | The server has waited for the short-term lock that synchronizes write-ahead log flushes. |
| `wal file sync`                       | The server has waited for the write-ahead log to sync to disk (related to the wal_sync_method parameter which, by default, is 'fsync' - better performance can be gained by changing this parameter to open_sync). |
| `wal flush`                           | The server has waited for the write-ahead log to flush to disk. |
| `wal write`                           | The server has waited for a write to the write-ahead log buffer (expect this value to be high). |
| `xid gen lock acquire`                | The server has waited for the short-term lock that synchronizes access to the next available transaction ID. |

When wait events occur for lightweight locks, they are displayed by DRITA as well. A *lightweight lock* is used to protect a particular data structure in shared memory.

Certain wait events can be due to the server process waiting for one of a group of related lightweight locks, which is referred to as a *lightweight lock tranche*. Individual lightweight lock tranches are not displayed by DRITA, but their summation is displayed by a single event named `other lwlock acquire`.

For a list and description of lightweight locks displayed by DRITA, please see Section 28.2, `The Statistics Collector` in the PostgreSQL core documentation available at:

https://www.postgresql.org/docs/11/static/monitoring-stats.html

Under Section 28.2.2. `Viewing Statistics`, the lightweight locks are listed in Table 28-4 `wait_event` Description where the `Wait Event Type` column designates `LWLock`.

The following example displays lightweight locks `ProcArrayLock`, `CLogControlLock`, `WALBufMappingLock`, and `XidGenLock`.

```
postgres=# select * from sys_rpt(40,70,20);

                                   sys_rpt
----------------------------------------------------------------------------

 WAIT NAME                                COUNT      WAIT TIME       % WAIT
 ---------------------------------------------------------------------------

 wal flush                               56107      44.456494       47.65
 db file read                            66123      19.543968       20.95
 wal write                               32886      12.780866       13.70
 wal file sync                           32933      11.792972       12.64
 query plan                              223576     4.539186        4.87
 db file extend                          2339       0.087038        0.09
 other lwlock acquire                    402        0.066591        0.07
 ProcArrayLock                           135        0.012942        0.01
 CLogControlLock                         212        0.010333        0.01
 WALBufMappingLock                       47         0.006068        0.01
 XidGenLock                              53         0.005296        0.01
(13 rows)
```

DRITA also displays wait events that occur that are related to certain Advanced Server product features.

These Advanced Server feature specific wait events and the `other lwlock acquire` event are listed in the following table.

| Event Name              | Description                                                  |
| ----------------------- | ------------------------------------------------------------ |
| `BulkLoadLock`          | The server has waited for access related to EDB*Loader.      |
| `EDBResoureManagerLock` | The server has waited for access related to EDB Resource Manager. |
| `other lwlock acquire`  | Summation of waits for lightweight lock tranches.            |