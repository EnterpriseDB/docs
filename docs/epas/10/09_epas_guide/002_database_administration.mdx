---
title: Database Administration
---


This chapter describes the features that aid in the management and administration of Advanced Server databases.

## Configuration Parameters

This section describes the database server configuration parameters of Advanced Server. These parameters control various aspects of the database server’s behavior and environment such as data file and log file locations, connection, authentication, and security settings, resource allocation and consumption, archiving and replication settings, error logging and statistics gathering, optimization and performance tuning, locale and formatting settings, and so on.

Most of these configuration parameters apply to PostgreSQL as well. Configuration parameters that apply only to Advanced Server are noted in Section <span class="underline"> </span> <span class="underline">2.1.2</span>.

Additional information about configuration parameters can be found in the PostgreSQL Core Documentation available at:

<http://www.postgresql.org/docs/9.5/static/index.html>

### Setting Configuration Parameters

This section provides an overview of how configuration parameters are specified and set.

Each configuration parameter is set using a name/value pair. Parameter names are case-insensitive. The parameter name is typically separated from its value by an optional equals sign (=).

The following is an example of some configuration parameter settings in the postgresql.conf file:

\# This is a comment

log\_connections = yes

log\_destination = 'syslog'

search\_path = '"$user", public'

shared\_buffers = 128MB

Parameter values are specified as one of five types:
 - **Boolean.** Acceptable values can be written as on, off, true, false, yes, no, 1, 0, or any unambiguous prefix of these.
 - **Integer.** Number without a fractional part.
 - **Floating Point.** Number with an optional fractional part separated by a decimal point.
 - **String.** Text value. Enclose in single quotes if the value is not a simple identifier or number (that is, the value contains special characters such as spaces or other punctuation marks).
 - **Enum.** Specific set of string values. The allowed values can be found in the system view pg\_settings.enumvals. Enum values are case-insensitive.

Some settings specify a memory or time value. Each of these has an implicit unit, which is kilobytes, blocks (typically 8 kilobytes), milliseconds, seconds, or minutes. Default units can be found by referencing the system view pg\_settings.unit. A different unit can be specified explicitly.

Valid memory units are kB (kilobytes), MB (megabytes), and GB (gigabytes). Valid time units are ms (milliseconds), s (seconds), min (minutes), h (hours), and d (days). The multiplier for memory units is 1024.

The configuration parameter settings can be established in a number of different ways:
 - There is a number of parameter settings that are established when the Advanced Server database product is built. These are read-only parameters, and their values cannot be changed. There are also a couple of parameters that are permanently set for each database when the database is created. These parameters are read-only as well and cannot be subsequently changed for the database.
 - The initial settings for almost all configurable parameters across the entire database cluster are listed in the configuration file, postgresql.conf. These settings are put into effect upon database server start or restart. Some of these initial parameter settings can be overridden as discussed in the following bullet points. All configuration parameters have built-in default settings that are in effect if not explicitly overridden.
 - Parameter settings can be modified in the configuration file while the database server is running. If the configuration file is then reloaded (meaning a SIGHUP signal is issued), for certain parameter types, the changed parameters settings immediately take effect. For some of these parameter types, the new settings are available in a currently running session immediately after the reload. For other of these parameter types, a new session must be started to use the new settings. And yet for other parameter types, modified settings do not take effect until the database server is stopped and restarted. See Section 18.1, “Setting Parameters” in the *PostgreSQL Core Documentation* for information on how to reload the configuration file.
 - The SQL commands ALTER DATABASE, ALTER ROLE, or ALTER ROLE IN DATABASE can be used to modify certain parameter settings. The modified parameter settings take effect for new sessions after the command is executed. ALTER DATABASE affects new sessions connecting to the specified database. ALTER ROLE affects new sessions started by the specified role. ALTER ROLE IN DATABASE affects new sessions started by the specified role connecting to the specified database. Parameter settings established by these SQL commands remain in effect indefinitely, across database server restarts, overriding settings established by the methods discussed in the second and third bullet points. Parameter settings established using the ALTER DATABASE, ALTER ROLE, or ALTER ROLE IN DATABASE commands can only be changed by: a) re-issuing these commands with a different parameter value, or b) issuing these commands using either of the SET *parameter* TO DEFAULT clause or the RESET *parameter* clause. These clauses change the parameter back to using the setting established by the methods set forth in the prior bullet points. See Section I, “SQL Commands” of Chapter VI “Reference” in the *PostgreSQL Core Documentation* for the exact syntax of these SQL commands.
 - Changes can be made for certain parameter settings for the duration of individual sessions using the PGOPTIONS environment variable or by using the SET command within the EDB-PSQL or PSQL command line terminal programs. Parameter settings made in this manner override settings established using any of the methods described by the second, third, and fourth bullet points, but only for the duration of the session.

>

### Summary of Configuration Parameters

This section contains a summary table listing all Advanced Server configuration parameters along with a number of key attributes of the parameters.

These attributes are described by the following columns of the summary table:
 - **Parameter.** Configuration parameter name.
 - **Scope of Effect.** Scope of effect of the configuration parameter setting. ‘Cluster’ – Setting affects the entire database cluster (that is, all databases managed by the database server instance). ‘Database’ – Setting can vary by database and is established when the database is created. Applies to a small number of parameters related to locale settings. ‘Session’ – Setting can vary down to the granularity of individual sessions. In other words, different settings can be made for the following entities whereby the latter settings in this list override prior ones: a) the entire database cluster, b) specific databases in the database cluster, c) specific roles, d) specific roles when connected to specific databases, e) a specific session.
 - **When Takes Effect.** When a changed parameter setting takes effect. ‘Preset’ – Established when the Advanced Server product is built or a particular database is created. This is a read-only parameter and cannot be changed. ‘Restart’ – Database server must be restarted. ‘Reload’ – Configuration file must be reloaded (or the database server can be restarted). ‘Immediate’ – Immediately effective in a session if the PGOPTIONS environment variable or the SET command is used to change the setting in the current session. Effective in new sessions if ALTER DATABASE, ALTER ROLE, or ALTER ROLE IN DATABASE commands are used to change the setting.
 - **Authorized User.** Type of operating system account or database role that must be used to put the parameter setting into effect. ‘PPAS service account’ – EDB Postgres Advanced Server service account (enterprisedb for an installation compatible with Oracle databases, postgres for a PostgreSQL compatible mode installation). ‘Superuser’ – Database role with superuser privileges. ‘User’ – Any database role with permissions on the affected database object (the database or role to be altered with the ALTER command). ‘n/a’ – Parameter setting cannot be changed by any user.
 - **Description.** Brief description of the configuration parameter.
 - **PPAS Only.** ‘X’ – Configuration parameter is applicable to EDB Postgres Advanced Server only. No entry in this column indicates the configuration parameter applies to PostgreSQL as well.

**Note:** There are a number of parameters that should never be altered. These are designated as “**Note: For internal use only**” in the Description column.

Table ‑ - Summary of Configuration Parameters

<table>
<tbody>
<tr class="odd">
<td>Parameter</td>
<td>Scope of Effect</td>
<td>When Takes Effect</td>
<td><p>Authorized</p>
<p>User</p></td>
<td>Description</td>
<td>PPAS Only</td>
</tr>
<tr class="even">
<td>allow_system_table_mods</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Allows modifications of the structure of system tables.</td>
<td></td>
</tr>
<tr class="odd">
<td>application_name</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the application name to be reported in statistics and logs.</td>
<td></td>
</tr>
<tr class="even">
<td>archive_command</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the shell command that will be called to archive a WAL file.</td>
<td></td>
</tr>
<tr class="odd">
<td>archive_mode</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Allows archiving of WAL files using archive_command.</td>
<td></td>
</tr>
<tr class="even">
<td>archive_timeout</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Forces a switch to the next xlog file if a new file has not been started within N seconds.</td>
<td></td>
</tr>
<tr class="odd">
<td>array_nulls</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enable input of NULL elements in arrays.</td>
<td></td>
</tr>
<tr class="even">
<td>authentication_timeout</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum allowed time to complete client authentication.</td>
<td></td>
</tr>
<tr class="odd">
<td>autovacuum</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Starts the autovacuum subprocess.</td>
<td></td>
</tr>
<tr class="even">
<td>autovacuum_analyze_scale_factor</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Number of tuple inserts, updates or deletes prior to analyze as a fraction of reltuples.</td>
<td></td>
</tr>
<tr class="odd">
<td>autovacuum_analyze_threshold</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Minimum number of tuple inserts, updates or deletes prior to analyze.</td>
<td></td>
</tr>
<tr class="even">
<td>autovacuum_freeze_max_age</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Age at which to autovacuum a table to prevent transaction ID wraparound.</td>
<td></td>
</tr>
<tr class="odd">
<td>autovacuum_max_workers</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of simultaneously running autovacuum worker processes.</td>
<td></td>
</tr>
<tr class="even">
<td>autovacuum_multixact_freeze_max_age</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Multixact age at which to autovacuum a table to prevent multixact wraparound.</td>
<td></td>
</tr>
<tr class="odd">
<td>autovacuum_naptime</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Time to sleep between autovacuum runs.</td>
<td></td>
</tr>
<tr class="even">
<td>autovacuum_vacuum_cost_delay</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Vacuum cost delay in milliseconds, for autovacuum.</td>
<td></td>
</tr>
<tr class="odd">
<td>autovacuum_vacuum_cost_limit</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Vacuum cost amount available before napping, for autovacuum.</td>
<td></td>
</tr>
<tr class="even">
<td>autovacuum_vacuum_scale_factor</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Number of tuple updates or deletes prior to vacuum as a fraction of reltuples.</td>
<td></td>
</tr>
<tr class="odd">
<td>autovacuum_vacuum_threshold</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Minimum number of tuple updates or deletes prior to vacuum.</td>
<td></td>
</tr>
<tr class="even">
<td>autovacuum_work_mem</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum memory to be used by each autovacuum worker process.</td>
<td></td>
</tr>
<tr class="odd">
<td>backslash_quote</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets whether "\'" is allowed in string literals.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">bgwriter_delay</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Background writer sleep time between rounds.</td>
<td></td>
</tr>
<tr class="odd">
<td>bgwriter_lru_maxpages</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Background writer maximum number of LRU pages to flush per round.</td>
<td></td>
</tr>
<tr class="even">
<td>bgwriter_lru_multiplier</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Multiple of the average buffer usage to free per round.</td>
<td></td>
</tr>
<tr class="odd">
<td>block_size</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the size of a disk block.</td>
<td></td>
</tr>
<tr class="even">
<td>bonjour</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Enables advertising the server via Bonjour.</td>
<td></td>
</tr>
<tr class="odd">
<td>bonjour_name</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the Bonjour service name.</td>
<td></td>
</tr>
<tr class="even">
<td>bytea_output</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the output format for bytea.</td>
<td></td>
</tr>
<tr class="odd">
<td>check_function_bodies</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Check function bodies during CREATE FUNCTION.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">checkpoint_completion_target</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Time spent flushing dirty buffers during checkpoint, as fraction of checkpoint interval.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">checkpoint_segments</span></td>
<td>Deprecated in 9.5</td>
<td>Deprecated in 9.5</td>
<td>Deprecated in 9.5</td>
<td>This parameter is not supported by server version 9.5 or later. Specifying a value for the parameter will prevent the server from starting.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">checkpoint_timeout</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum time between automatic WAL checkpoints.</td>
<td></td>
</tr>
<tr class="odd">
<td>checkpoint_warning</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Enables warnings if checkpoint segments are filled more frequently than this.</td>
<td></td>
</tr>
<tr class="even">
<td>client_encoding</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the client's character set encoding.</td>
<td></td>
</tr>
<tr class="odd">
<td>client_min_messages</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the message levels that are sent to the client.</td>
<td></td>
</tr>
<tr class="even">
<td>commit_delay</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the delay in microseconds between transaction commit and flushing WAL to disk.</td>
<td></td>
</tr>
<tr class="odd">
<td>commit_siblings</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the minimum concurrent open transactions before performing commit_delay.</td>
<td></td>
</tr>
<tr class="even">
<td>config_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the server's main configuration file.</td>
<td></td>
</tr>
<tr class="odd">
<td>constraint_exclusion</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner to use constraints to optimize queries.</td>
<td></td>
</tr>
<tr class="even">
<td>cpu_index_tuple_cost</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's estimate of the cost of processing each index entry during an index scan.</td>
<td></td>
</tr>
<tr class="odd">
<td>cpu_operator_cost</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's estimate of the cost of processing each operator or function call.</td>
<td></td>
</tr>
<tr class="even">
<td>cpu_tuple_cost</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's estimate of the cost of processing each tuple (row).</td>
<td></td>
</tr>
<tr class="odd">
<td>cursor_tuple_fraction</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's estimate of the fraction of a cursor's rows that will be retrieved.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">custom_variable_classes</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Deprecated in Advanced Server 9.2.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>data_checksums</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows whether data checksums are turned on for this cluster.</td>
<td></td>
</tr>
<tr class="even">
<td>data_directory</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the server's data directory.</td>
<td></td>
</tr>
<tr class="odd">
<td>DateStyle</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the display format for date and time values.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">db_dialect</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the precedence of built-in namespaces.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">dbms_alert.max_alerts</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets maximum number of alerts.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">dbms_pipe.total_message_buffer</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Specifies the total size of the buffer used for the DBMS_PIPE package.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>db_user_namespace</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Enables per-database user names.</td>
<td></td>
</tr>
<tr class="even">
<td>deadlock_timeout</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the time to wait on a lock before checking for deadlock.</td>
<td></td>
</tr>
<tr class="odd">
<td>debug_assertions</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Turns on various assertion checks. (Not supported in PPAS builds.)</td>
<td></td>
</tr>
<tr class="even">
<td>debug_pretty_print</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Indents parse and plan tree displays.</td>
<td></td>
</tr>
<tr class="odd">
<td>debug_print_parse</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Logs each query's parse tree.</td>
<td></td>
</tr>
<tr class="even">
<td>debug_print_plan</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Logs each query's execution plan.</td>
<td></td>
</tr>
<tr class="odd">
<td>debug_print_rewritten</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Logs each query's rewritten parse tree.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">default_heap_fillfactor</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Create new tables with this heap fillfactor by default.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>default_statistics_target</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the default statistics target.</td>
<td></td>
</tr>
<tr class="even">
<td>default_tablespace</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the default tablespace to create tables and indexes in.</td>
<td></td>
</tr>
<tr class="odd">
<td>default_text_search_config</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets default text search configuration.</td>
<td></td>
</tr>
<tr class="even">
<td>default_transaction_deferrable</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the default deferrable status of new transactions.</td>
<td></td>
</tr>
<tr class="odd">
<td>default_transaction_isolation</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the transaction isolation level of each new transaction.</td>
<td></td>
</tr>
<tr class="even">
<td>default_transaction_read_only</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the default read-only status of new transactions.</td>
<td></td>
</tr>
<tr class="odd">
<td>default_with_oids</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Create new tables with OIDs by default.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">default_with_rowids</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Create new tables with ROWID support (OIDs with indexes) by default.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>dynamic_library_path</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the path for dynamically loadable modules.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">dynamic_shared_memory_type</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Selects the dynamic shared memory implementation used.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">edb_audit</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Enable EDB Auditing to create audit reports in XML or CSV format.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_audit_connect</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Audits each successful connection.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_audit_directory</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the destination directory for audit files.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_audit_disconnect</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Audits end of a session.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_audit_filename</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the file name pattern for audit files.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_audit_rotation_day</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Automatic rotation of logfiles based on day of week.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_audit_rotation_seconds</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Automatic log file rotation will occur after N seconds.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_audit_rotation_size</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Automatic log file rotation will occur after N Megabytes.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_audit_statement</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the type of statements to audit.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_audit_tag</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Specify a tag to be included in the audit log.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>edb_connectby_order</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sort results of CONNECT BY queries with no ORDER BY to depth-first order. Note: For internal use only.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_custom_plan_tries</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Specifies the number of custom execution plans considered by the planner before the planner selects a generic execution plan.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_dynatune</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the edb utilization percentage.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_dynatune_profile</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the workload profile for dynatune.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_enable_icache</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Enable external shared buffer infinitecache mechanism.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_enable_pruning</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner to early-prune partitioned tables.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_icache_compression_level</span></td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets compression level of infinitecache buffers.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_icache_servers</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>A list of comma separated <em>hostname</em>:<em>portnumber</em> icache servers.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_max_resource_groups</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Specifies the maximum number of resource groups for simultaneous use.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_max_spins_per_delay</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Specifies the number of times a session will spin while waiting for a lock.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_redwood_date</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Determines whether DATE should behave like a TIMESTAMP or not.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_redwood_greatest_least</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Determines how GREATEST and LEAST functions should handle NULL parameters.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_redwood_raw_names</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Return the unmodified name stored in the PostgreSQL system catalogs from Redwood interfaces.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_redwood_strings</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Treat NULL as an empty string when concatenated with a text value.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_resource_group</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Specifies the resource group to be used by the current process.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_sql_protect.enabled</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Defines whether SQL/Protect should track queries or not.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_sql_protect.level</span></td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Defines the behavior of SQL/Protect when an event is found.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_sql_protect.max_protected_relations</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of relations protected by SQL/Protect per role.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_sql_protect.max_protected_roles</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of roles protected by SQL/Protect.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edb_sql_protect.max_queries_to_save</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of offending queries to save by SQL/Protect.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">edb_stmt_level_tx</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Allows continuing on errors instead of requiring a transaction abort.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">edbldr.empty_csv_field</span></td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Specifies how EDB*Loader handles empty strings.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">effective_cache_size</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's assumption about the size of the disk cache.</td>
<td></td>
</tr>
<tr class="even">
<td>effective_io_concurrency</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Number of simultaneous requests that can be handled efficiently by the disk subsystem.</td>
<td></td>
</tr>
<tr class="odd">
<td>enable_bitmapscan</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of bitmap-scan plans.</td>
<td></td>
</tr>
<tr class="even">
<td>enable_hashagg</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of hashed aggregation plans.</td>
<td></td>
</tr>
<tr class="odd">
<td>enable_hashjoin</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of hash join plans.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">enable_hints</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enable optimizer hints in SQL statements.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>enable_indexonlyscan</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner’s use of index-only-scan plans.</td>
<td></td>
</tr>
<tr class="even">
<td>enable_indexscan</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of index-scan plans.</td>
<td></td>
</tr>
<tr class="odd">
<td>enable_material</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of materialization.</td>
<td></td>
</tr>
<tr class="even">
<td>enable_mergejoin</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of merge join plans.</td>
<td></td>
</tr>
<tr class="odd">
<td>enable_nestloop</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of nested-loop join plans.</td>
<td></td>
</tr>
<tr class="even">
<td>enable_seqscan</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of sequential-scan plans.</td>
<td></td>
</tr>
<tr class="odd">
<td>enable_sort</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of explicit sort steps.</td>
<td></td>
</tr>
<tr class="even">
<td>enable_tidscan</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the planner's use of TID scan plans.</td>
<td></td>
</tr>
<tr class="odd">
<td>escape_string_warning</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Warn about backslash escapes in ordinary string literals.</td>
<td></td>
</tr>
<tr class="even">
<td>event_source</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the application name used to identify PostgreSQL messages in the event log.</td>
<td></td>
</tr>
<tr class="odd">
<td>exit_on_error</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Terminate session on any error.</td>
<td></td>
</tr>
<tr class="even">
<td>external_pid_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Writes the postmaster PID to the specified file.</td>
<td></td>
</tr>
<tr class="odd">
<td>extra_float_digits</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the number of digits displayed for floating-point values.</td>
<td></td>
</tr>
<tr class="even">
<td>from_collapse_limit</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the FROM-list size beyond which subqueries are not collapsed.</td>
<td></td>
</tr>
<tr class="odd">
<td>fsync</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Forces synchronization of updates to disk.</td>
<td></td>
</tr>
<tr class="even">
<td>full_page_writes</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Writes full pages to WAL when first modified after a checkpoint.</td>
<td></td>
</tr>
<tr class="odd">
<td>geqo</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables genetic query optimization.</td>
<td></td>
</tr>
<tr class="even">
<td>geqo_effort</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>GEQO: effort is used to set the default for other GEQO parameters.</td>
<td></td>
</tr>
<tr class="odd">
<td>geqo_generations</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>GEQO: number of iterations of the algorithm.</td>
<td></td>
</tr>
<tr class="even">
<td>geqo_pool_size</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>GEQO: number of individuals in the population.</td>
<td></td>
</tr>
<tr class="odd">
<td>geqo_seed</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>GEQO: seed for random path selection.</td>
<td></td>
</tr>
<tr class="even">
<td>geqo_selection_bias</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>GEQO: selective pressure within the population.</td>
<td></td>
</tr>
<tr class="odd">
<td>geqo_threshold</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the threshold of FROM items beyond which GEQO is used.</td>
<td></td>
</tr>
<tr class="even">
<td>gin_fuzzy_search_limit</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the maximum allowed result for exact search by GIN.</td>
<td></td>
</tr>
<tr class="odd">
<td>hba_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the server's "hba" configuration file.</td>
<td></td>
</tr>
<tr class="even">
<td>hot_standby</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Allows connections and queries during recovery.</td>
<td></td>
</tr>
<tr class="odd">
<td>hot_standby_feedback</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Allows feedback from a hot standby to the primary that will avoid query conflicts.</td>
<td></td>
</tr>
<tr class="even">
<td>huge_pages</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Use of huge pages on Linux.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">icu_short_form</span></td>
<td>Database</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the ICU collation order configuration.</td>
<td>X</td>
</tr>
<tr class="even">
<td>ident_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the server's "ident" configuration file.</td>
<td></td>
</tr>
<tr class="odd">
<td>ignore_checksum_failure</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Continues processing after a checksum failure.</td>
<td></td>
</tr>
<tr class="even">
<td>ignore_system_indexes</td>
<td><p>Cluster/</p>
<p>Session</p></td>
<td><p>Reload/</p>
<p>Immediate</p></td>
<td><p>PPAS service account/</p>
<p>User</p></td>
<td>Disables reading from system indexes. (Can also be set with PGOPTIONS at session start.)</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">index_advisor.enabled</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enable Index Advisor plugin.</td>
<td>X</td>
</tr>
<tr class="even">
<td>integer_datetimes</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Datetimes are integer based.</td>
<td></td>
</tr>
<tr class="odd">
<td>IntervalStyle</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the display format for interval values.</td>
<td></td>
</tr>
<tr class="even">
<td>join_collapse_limit</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the FROM-list size beyond which JOIN constructs are not flattened.</td>
<td></td>
</tr>
<tr class="odd">
<td>krb_caseins_users</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets whether Kerberos and GSSAPI user names should be treated as case-insensitive.</td>
<td></td>
</tr>
<tr class="even">
<td>krb_server_keyfile</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the location of the Kerberos server key file.</td>
<td></td>
</tr>
<tr class="odd">
<td>lc_collate</td>
<td>Database</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the collation order locale.</td>
<td></td>
</tr>
<tr class="even">
<td>lc_ctype</td>
<td>Database</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the character classification and case conversion locale.</td>
<td></td>
</tr>
<tr class="odd">
<td>lc_messages</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the language in which messages are displayed.</td>
<td></td>
</tr>
<tr class="even">
<td>lc_monetary</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the locale for formatting monetary amounts.</td>
<td></td>
</tr>
<tr class="odd">
<td>lc_numeric</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the locale for formatting numbers.</td>
<td></td>
</tr>
<tr class="even">
<td>lc_time</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the locale for formatting date and time values.</td>
<td></td>
</tr>
<tr class="odd">
<td>listen_addresses</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the host name or IP address(es) to listen to.</td>
<td></td>
</tr>
<tr class="even">
<td>local_preload_libraries</td>
<td><p>Cluster/</p>
<p>Session</p></td>
<td><p>Reload/</p>
<p>Immediate</p></td>
<td><p>PPAS service account/</p>
<p>User</p></td>
<td>Lists shared libraries to preload into each backend. (Can also be set with PGOPTIONS at session start.)</td>
<td></td>
</tr>
<tr class="odd">
<td>lock_timeout</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the maximum time allowed that a statement may wait for a lock.</td>
<td></td>
</tr>
<tr class="even">
<td>lo_compat_privileges</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Enables backward compatibility mode for privilege checks on large objects.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_autovacuum_min_duration</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the minimum execution time above which autovacuum actions will be logged.</td>
<td></td>
</tr>
<tr class="even">
<td>log_checkpoints</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Logs each checkpoint.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_connections</td>
<td><p>Cluster/</p>
<p>Session</p></td>
<td><p>Reload/</p>
<p>Immediate</p></td>
<td><p>PPAS service account/</p>
<p>User</p></td>
<td>Logs each successful connection. (Can also be set with PGOPTIONS at session start.)</td>
<td></td>
</tr>
<tr class="even">
<td>log_destination</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the destination for server log output.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_directory</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the destination directory for log files.</td>
<td></td>
</tr>
<tr class="even">
<td>log_disconnections</td>
<td><p>Cluster/</p>
<p>Session</p></td>
<td><p>Reload/</p>
<p>Immediate</p></td>
<td><p>PPAS service account/</p>
<p>User</p></td>
<td>Logs end of a session, including duration. (Can also be set with PGOPTIONS at session start.)</td>
<td></td>
</tr>
<tr class="odd">
<td>log_duration</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Logs the duration of each completed SQL statement.</td>
<td></td>
</tr>
<tr class="even">
<td>log_error_verbosity</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the verbosity of logged messages.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_executor_stats</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Writes executor performance statistics to the server log.</td>
<td></td>
</tr>
<tr class="even">
<td>log_file_mode</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the file permissions for log files.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_filename</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the file name pattern for log files.</td>
<td></td>
</tr>
<tr class="even">
<td>log_hostname</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Logs the host name in the connection logs.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_line_prefix</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Controls information prefixed to each log line.</td>
<td></td>
</tr>
<tr class="even">
<td>log_lock_waits</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Logs long lock waits.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_min_duration_statement</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the minimum execution time above which statements will be logged.</td>
<td></td>
</tr>
<tr class="even">
<td>log_min_error_statement</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Causes all statements generating error at or above this level to be logged.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_min_messages</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the message levels that are logged.</td>
<td></td>
</tr>
<tr class="even">
<td>log_parser_stats</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Writes parser performance statistics to the server log.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_planner_stats</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Writes planner performance statistics to the server log.</td>
<td></td>
</tr>
<tr class="even">
<td>log_rotation_age</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Automatic log file rotation will occur after N minutes.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_rotation_size</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Automatic log file rotation will occur after N kilobytes.</td>
<td></td>
</tr>
<tr class="even">
<td>log_statement</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the type of statements logged.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_statement_stats</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Writes cumulative performance statistics to the server log.</td>
<td></td>
</tr>
<tr class="even">
<td>log_temp_files</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Log the use of temporary files larger than this number of kilobytes.</td>
<td></td>
</tr>
<tr class="odd">
<td>log_timezone</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the time zone to use in log messages.</td>
<td></td>
</tr>
<tr class="even">
<td>log_truncate_on_rotation</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Truncate existing log files of same name during log rotation.</td>
<td></td>
</tr>
<tr class="odd">
<td>logging_collector</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Start a subprocess to capture stderr output and/or csvlogs into log files.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">maintenance_work_mem</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the maximum memory to be used for maintenance operations.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_connections</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of concurrent connections.</td>
<td></td>
</tr>
<tr class="even">
<td>max_files_per_process</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of simultaneously open files for each server process.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_function_args</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the maximum number of function arguments.</td>
<td></td>
</tr>
<tr class="even">
<td>max_identifier_length</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the maximum identifier length.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_index_keys</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the maximum number of index keys.</td>
<td></td>
</tr>
<tr class="even">
<td>max_locks_per_transaction</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of locks per transaction.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_pred_locks_per_transaction</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of predicate locks per transaction.</td>
<td></td>
</tr>
<tr class="even">
<td>max_prepared_transactions</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of simultaneously prepared transactions.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_replication_slots</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of simultaneously defined replication slots.</td>
<td></td>
</tr>
<tr class="even">
<td>max_stack_depth</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the maximum stack depth, in kilobytes.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_standby_archive_delay</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum delay before canceling queries when a hot standby server is processing archived WAL data.</td>
<td></td>
</tr>
<tr class="even">
<td>max_standby_streaming_delay</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum delay before canceling queries when a hot standby server is processing streamed WAL data.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_wal_senders</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the maximum number of simultaneously running WAL sender processes.</td>
<td></td>
</tr>
<tr class="even">
<td>max_wal_size</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum size to which the WAL will grow between automatic WAL checkpoints. The default is 1GB.</td>
<td></td>
</tr>
<tr class="odd">
<td>max_worker_processes</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Maximum number of concurrent worker processes.</td>
<td></td>
</tr>
<tr class="even">
<td>min_wal_size</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets thethreshold at which WAL logs will be recycled rather than removed. The default is 80 MB.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">nls_length_semantics</span></td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the semantics to use for char, varchar, varchar2 and long columns.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">odbc_lib_path</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the path for ODBC library.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">optimizer_mode</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Default optimizer mode.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">oracle_home</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the path for the Oracle home directory.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>password_encryption</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Encrypt passwords.</td>
<td></td>
</tr>
<tr class="even">
<td>port</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the TCP port on which the server listens.</td>
<td></td>
</tr>
<tr class="odd">
<td>post_auth_delay</td>
<td><p>Cluster/</p>
<p>Session</p></td>
<td><p>Reload/</p>
<p>Immediate</p></td>
<td><p>PPAS service account/</p>
<p>User</p></td>
<td>Waits N seconds on connection startup after authentication. (Can also be set with PGOPTIONS at session start.)</td>
<td></td>
</tr>
<tr class="even">
<td>pre_auth_delay</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Waits N seconds on connection startup before authentication.</td>
<td></td>
</tr>
<tr class="odd">
<td>qreplace_function</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>The function to be used by Query Replace feature. Note: For internal use only.</td>
<td>X</td>
</tr>
<tr class="even">
<td><span class="underline">query_rewrite_enabled</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Child table scans will be skipped if their constraints guarantee that no rows match the query.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">query_rewrite_integrity</span></td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the degree to which query rewriting must be enforced.</td>
<td>X</td>
</tr>
<tr class="even">
<td>quote_all_identifiers</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>When generating SQL fragments, quote all identifiers.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">random_page_cost</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's estimate of the cost of a nonsequentially fetched disk page.</td>
<td></td>
</tr>
<tr class="even">
<td>restart_after_crash</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Reinitialize server after backend crash.</td>
<td></td>
</tr>
<tr class="odd">
<td>search_path</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the schema search order for names that are not schema-qualified.</td>
<td></td>
</tr>
<tr class="even">
<td>segment_size</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the number of pages per disk file.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">seq_page_cost</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the planner's estimate of the cost of a sequentially fetched disk page.</td>
<td></td>
</tr>
<tr class="even">
<td>server_encoding</td>
<td>Database</td>
<td>Preset</td>
<td>n/a</td>
<td>Sets the server (database) character set encoding.</td>
<td></td>
</tr>
<tr class="odd">
<td>server_version</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the server version.</td>
<td></td>
</tr>
<tr class="even">
<td>server_version_num</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the server version as an integer.</td>
<td></td>
</tr>
<tr class="odd">
<td>session_preload_libraries</td>
<td>Session</td>
<td>Immediate but only at connection start</td>
<td>Superuser</td>
<td>Lists shared libraries to preload into each backend.</td>
<td></td>
</tr>
<tr class="even">
<td>session_replication_role</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Sets the session's behavior for triggers and rewrite rules.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">shared_buffers</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the number of shared memory buffers used by the server.</td>
<td></td>
</tr>
<tr class="even">
<td>shared_preload_libraries</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Lists shared libraries to preload into server.</td>
<td></td>
</tr>
<tr class="odd">
<td>sql_inheritance</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Causes subtables to be included by default in various commands.</td>
<td></td>
</tr>
<tr class="even">
<td>ssl</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Enables SSL connections.</td>
<td></td>
</tr>
<tr class="odd">
<td>ssl_ca_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Location of the SSL certificate authority file.</td>
<td></td>
</tr>
<tr class="even">
<td>ssl_cert_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Location of the SSL server certificate file.</td>
<td></td>
</tr>
<tr class="odd">
<td>ssl_ciphers</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the list of allowed SSL ciphers.</td>
<td></td>
</tr>
<tr class="even">
<td>ssl_crl_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Location of the SSL certificate revocation list file.</td>
<td></td>
</tr>
<tr class="odd">
<td>ssl_ecdh_curve</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the curve to use for ECDH.</td>
<td></td>
</tr>
<tr class="even">
<td>ssl_key_file</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Location of the SSL server private key file.</td>
<td></td>
</tr>
<tr class="odd">
<td>ssl_prefer_server_ciphers</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Give priority to server ciphersuite order.</td>
<td></td>
</tr>
<tr class="even">
<td>ssl_renegotiation_limit</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Set the amount of traffic to send and receive before renegotiating the encryption keys.</td>
<td></td>
</tr>
<tr class="odd">
<td>standard_conforming_strings</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Causes '...' strings to treat backslashes literally.</td>
<td></td>
</tr>
<tr class="even">
<td>statement_timeout</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the maximum allowed duration of any statement.</td>
<td></td>
</tr>
<tr class="odd">
<td>stats_temp_directory</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Writes temporary statistics files to the specified directory.</td>
<td></td>
</tr>
<tr class="even">
<td>superuser_reserved_connections</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the number of connection slots reserved for superusers.</td>
<td></td>
</tr>
<tr class="odd">
<td>synchronize_seqscans</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enable synchronized sequential scans.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">synchronous_commit</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets immediate fsync at commit.</td>
<td></td>
</tr>
<tr class="odd">
<td>synchronous_standby_names</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>List of names of potential synchronous standbys.</td>
<td></td>
</tr>
<tr class="even">
<td>syslog_facility</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the syslog "facility" to be used when syslog enabled.</td>
<td></td>
</tr>
<tr class="odd">
<td>syslog_ident</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the program name used to identify PostgreSQL messages in syslog.</td>
<td></td>
</tr>
<tr class="even">
<td>tcp_keepalives_count</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Maximum number of TCP keepalive retransmits.</td>
<td></td>
</tr>
<tr class="odd">
<td>tcp_keepalives_idle</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Time between issuing TCP keepalives.</td>
<td></td>
</tr>
<tr class="even">
<td>tcp_keepalives_interval</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Time between TCP keepalive retransmits.</td>
<td></td>
</tr>
<tr class="odd">
<td>temp_buffers</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the maximum number of temporary buffers used by each session.</td>
<td></td>
</tr>
<tr class="even">
<td>temp_file_limit</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Limits the total size of all temporary files used by each session.</td>
<td></td>
</tr>
<tr class="odd">
<td>temp_tablespaces</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the tablespace(s) to use for temporary tables and sort files.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">timed_statistics</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Enables the recording of timed statistics.</td>
<td>X</td>
</tr>
<tr class="odd">
<td>timezone</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the time zone for displaying and interpreting time stamps.</td>
<td></td>
</tr>
<tr class="even">
<td>timezone_abbreviations</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Selects a file of time zone abbreviations.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">trace_hints</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Emit debug info about hints being honored.</td>
<td>X</td>
</tr>
<tr class="even">
<td>trace_notify</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Generates debugging output for LISTEN and NOTIFY.</td>
<td></td>
</tr>
<tr class="odd">
<td>trace_recovery_messages</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Enables logging of recovery-related debugging information.</td>
<td></td>
</tr>
<tr class="even">
<td>trace_sort</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Emit information about resource usage in sorting.</td>
<td></td>
</tr>
<tr class="odd">
<td>track_activities</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Collects information about executing commands.</td>
<td></td>
</tr>
<tr class="even">
<td>track_activity_query_size</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the size reserved for pg_stat_activity.current_query, in bytes.</td>
<td></td>
</tr>
<tr class="odd">
<td>track_counts</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Collects statistics on database activity.</td>
<td></td>
</tr>
<tr class="even">
<td>track_functions</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Collects function-level statistics on database activity.</td>
<td></td>
</tr>
<tr class="odd">
<td>track_io_timing</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Collects timing statistics for database I/O activity.</td>
<td></td>
</tr>
<tr class="even">
<td>transaction_deferrable</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Whether to defer a read-only serializable transaction until it can be executed with no possible serialization failures.</td>
<td></td>
</tr>
<tr class="odd">
<td>transaction_isolation</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the current transaction's isolation level.</td>
<td></td>
</tr>
<tr class="even">
<td>transaction_read_only</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the current transaction's read-only status.</td>
<td></td>
</tr>
<tr class="odd">
<td>transform_null_equals</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Treats "expr=NULL" as "expr IS NULL".</td>
<td></td>
</tr>
<tr class="even">
<td>unix_socket_directories</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the directory where the Unix-domain socket will be created.</td>
<td></td>
</tr>
<tr class="odd">
<td>unix_socket_group</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the owning group of the Unix-domain socket.</td>
<td></td>
</tr>
<tr class="even">
<td>unix_socket_permissions</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the access permissions of the Unix-domain socket.</td>
<td></td>
</tr>
<tr class="odd">
<td>update_process_title</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Updates the process title to show the active SQL command.</td>
<td></td>
</tr>
<tr class="even">
<td><span class="underline">utl_encode.uudecode_redwood</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Allows decoding of Oracle-created uuencoded data.</td>
<td>X</td>
</tr>
<tr class="odd">
<td><span class="underline">utl_file.umask</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Umask used for files created through the UTL_FILE package.</td>
<td>X</td>
</tr>
<tr class="even">
<td>vacuum_cost_delay</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Vacuum cost delay in milliseconds.</td>
<td></td>
</tr>
<tr class="odd">
<td>vacuum_cost_limit</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Vacuum cost amount available before napping.</td>
<td></td>
</tr>
<tr class="even">
<td>vacuum_cost_page_dirty</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Vacuum cost for a page dirtied by vacuum.</td>
<td></td>
</tr>
<tr class="odd">
<td>vacuum_cost_page_hit</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Vacuum cost for a page found in the buffer cache.</td>
<td></td>
</tr>
<tr class="even">
<td>vacuum_cost_page_miss</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Vacuum cost for a page not found in the buffer cache.</td>
<td></td>
</tr>
<tr class="odd">
<td>vacuum_defer_cleanup_age</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Number of transactions by which VACUUM and HOT cleanup should be deferred, if any.</td>
<td></td>
</tr>
<tr class="even">
<td>vacuum_freeze_min_age</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Minimum age at which VACUUM should freeze a table row.</td>
<td></td>
</tr>
<tr class="odd">
<td>vacuum_freeze_table_age</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Age at which VACUUM should scan whole table to freeze tuples.</td>
<td></td>
</tr>
<tr class="even">
<td>vacuum_multixact_freeze_min_age</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Minimum age at which VACUUM should freeze a MultiXactId in a table row.</td>
<td></td>
</tr>
<tr class="odd">
<td>vacuum_multixact_freeze_table_age</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Multixact age at which VACUUM should scan whole table to freeze tuples.</td>
<td></td>
</tr>
<tr class="even">
<td>wal_block_size</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the block size in the write ahead log.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">wal_buffers</span></td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the number of disk-page buffers in shared memory for WAL.</td>
<td></td>
</tr>
<tr class="even">
<td>wal_keep_segments</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the number of WAL files held for standby servers.</td>
<td></td>
</tr>
<tr class="odd">
<td>wal_level</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Set the level of information written to the WAL.</td>
<td></td>
</tr>
<tr class="even">
<td>wal_log_hints</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Writes full pages to WAL when first modified after a checkpoint, even for non-critical modifications.</td>
<td></td>
</tr>
<tr class="odd">
<td>wal_receiver_status_interval</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum interval between WAL receiver status reports to the primary.</td>
<td></td>
</tr>
<tr class="even">
<td>wal_receiver_timeout</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum wait time to receive data from the primary.</td>
<td></td>
</tr>
<tr class="odd">
<td>wal_segment_size</td>
<td>Cluster</td>
<td>Preset</td>
<td>n/a</td>
<td>Shows the number of pages per write ahead log segment.</td>
<td></td>
</tr>
<tr class="even">
<td>wal_sender_timeout</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Sets the maximum time to wait for WAL replication.</td>
<td></td>
</tr>
<tr class="odd">
<td>wal_sync_method</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>Selects the method used for forcing WAL updates to disk.</td>
<td></td>
</tr>
<tr class="even">
<td>wal_writer_delay</td>
<td>Cluster</td>
<td>Reload</td>
<td>PPAS service account</td>
<td>WAL writer sleep time between WAL flushes.</td>
<td></td>
</tr>
<tr class="odd">
<td><span class="underline">work_mem</span></td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets the maximum memory to be used for query workspaces.</td>
<td></td>
</tr>
<tr class="even">
<td>xloginsert_locks</td>
<td>Cluster</td>
<td>Restart</td>
<td>PPAS service account</td>
<td>Sets the number of locks used for concurrent xlog insertions.</td>
<td></td>
</tr>
<tr class="odd">
<td>xmlbinary</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets how binary values are to be encoded in XML.</td>
<td></td>
</tr>
<tr class="even">
<td>Xmloption</td>
<td>Session</td>
<td>Immediate</td>
<td>User</td>
<td>Sets whether XML data in implicit parsing and serialization operations is to be considered as documents or content fragments.</td>
<td></td>
</tr>
<tr class="odd">
<td>zero_damaged_pages</td>
<td>Session</td>
<td>Immediate</td>
<td>Superuser</td>
<td>Continues processing past damaged page headers.</td>
<td></td>
</tr>
</tbody>
</table>

### Configuration Parameters by Functionality

This section provides more detail for certain groups of configuration parameters.

The section heading for each parameter is followed by a list of attributes:
 - **Parameter Type.** Type of values the parameter can accept. See Section <span class="underline">2.1.1</span> for a discussion of parameter type values.
 - **Default Value.** Default setting if a value is not explicitly set in the configuration file.
 - **Range.** Permitted range of values.
 - **Minimum Scope of Effect.** Smallest scope for which a distinct setting can be made. Generally, the minimal scope of a distinct setting is either the entire **cluster** (the setting is the same for all databases and sessions thereof, in the cluster), or **per session** (the setting may vary by role, database, or individual session). (This attribute has the same meaning as the “Scope of Effect” column in the table of Section 2.1.2.)
 - **When Value Changes Take Effect.** Least invasive action required to activate a change to a parameter’s value. All parameter setting changes made in the configuration file can be put into effect with a restart of the database server; however certain parameters require a database server **restart**. Some parameter setting changes can be put into effect with a **reload** of the configuration file without stopping the database server. Finally, other parameter setting changes can be put into effect with some client side action whose result is **immediate**. (This attribute has the same meaning as the “When Takes Effect” column in the table of Section 2.1.2.)
 - **Required Authorization to Activate.** The type of user authorization to activate a change to a parameter’s setting. If a database server restart or a configuration file reload is required, then the user must be a PPAS service account (enterprisedb or postgres depending upon the Advanced Server compatibility installation mode). This attribute has the same meaning as the “Authorized User” column in the table of Section 2.1.2.

#### Top Performance Related Parameters

This section discusses the configuration parameters that have the most immediate impact on performance.

##### shared\_buffers

**Parameter Type:** Integer

**Default Value:** 32MB

**Range:** 128kB to system dependent

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Sets the amount of memory the database server uses for shared memory buffers. The default is typically 32 megabytes (32MB), but might be less if your kernel settings will not support it (as determined during initdb). This setting must be at least 128 kilobytes. (Non-default values of BLCKSZ change the minimum.) However, settings significantly higher than the minimum are usually needed for good performance.

If you have a dedicated database server with 1GB or more of RAM, a reasonable starting value for shared\_buffers is 25% of the memory in your system. There are some workloads where even large settings for shared\_buffers are effective, but because Advanced Server also relies on the operating system cache, it is unlikely that an allocation of more than 40% of RAM to shared\_buffers will work better than a smaller amount.

On systems with less than 1GB of RAM, a smaller percentage of RAM is appropriate, so as to leave adequate space for the operating system (15% of memory is more typical in these situations). Also, on Windows, large values for shared\_buffers aren't as effective. You may find better results keeping the setting relatively low and using the operating system cache more instead. The useful range for shared\_buffers on Windows systems is generally from 64MB to 512MB.

Increasing this parameter might cause Advanced Server to request more System V shared memory than your operating system's default configuration allows. See Section 17.4.1, “Shared Memory and Semaphores” in the *PostgreSQL Core Documentation* for information on how to adjust those parameters, if necessary.

##### work\_mem

**Parameter Type:** Integer

**Default Value:** 1MB

**Range:** 64kB to 2097151kB

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Specifies the amount of memory to be used by internal sort operations and hash tables before writing to temporary disk files. The value defaults to one megabyte (1MB). Note that for a complex query, several sort or hash operations might be running in parallel; each operation will be allowed to use as much memory as this value specifies before it starts to write data into temporary files. Also, several running sessions could be doing such operations concurrently. Therefore, the total memory used could be many times the value of work\_mem; it is necessary to keep this fact in mind when choosing the value. Sort operations are used for ORDER BY, DISTINCT, and merge joins. Hash tables are used in hash joins, hash-based aggregation, and hash-based processing of IN subqueries.

Reasonable values are typically between 4MB and 64MB, depending on the size of your machine, how many concurrent connections you expect (determined by max\_connections), and the complexity of your queries.

##### maintenance\_work\_mem

**Parameter Type:** Integer

**Default Value:** 16MB

**Range:** 1024kB to 2097151kB

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Specifies the maximum amount of memory to be used by maintenance operations, such as VACUUM, CREATE INDEX, and ALTER TABLE ADD FOREIGN KEY. It defaults to 16 megabytes (16MB). Since only one of these operations can be executed at a time by a database session, and an installation normally doesn't have many of them running concurrently, it's safe to set this value significantly larger than work\_mem. Larger settings might improve performance for vacuuming and for restoring database dumps.

Note that when autovacuum runs, up to autovacuum\_max\_workers times this memory may be allocated, so be careful not to set the default value too high.

A good rule of thumb is to set this to about 5% of system memory, but not more than about 512MB. Larger values won't necessarily improve performance.

##### wal\_buffers

**Parameter Type:** Integer

**Default Value:** 64kB

**Range:** 32kB to system dependent

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

The amount of memory used in shared memory for WAL data. The default is 64 kilobytes (64kB). The setting need only be large enough to hold the amount of WAL data generated by one typical transaction, since the data is written out to disk at every transaction commit.

Increasing this parameter might cause Advanced Server to request more System V shared memory than your operating system's default configuration allows. See Section 17.4.1, “Shared Memory and Semaphores” in the *PostgreSQL Core Documentation* for information on how to adjust those parameters, if necessary.

Although even this very small setting does not always cause a problem, there are situations where it can result in extra fsync calls, and degrade overall system throughput. Increasing this value to 1MB or so can alleviate this problem. On very busy systems, an even higher value may be needed, up to a maximum of about 16MB. Like shared\_buffers, this parameter increases Advanced Server’s initial shared memory allocation, so if increasing it causes an Advanced Server start failure, you will need to increase the operating system limit.

##### checkpoint\_segments

Now deprecated; this parameter is not supported by server versions 9.5 or later.

##### checkpoint\_completion\_target

**Parameter Type:** Floating point

**Default Value:** 0.5

**Range:** 0 to 1

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies the target of checkpoint completion as a fraction of total time between checkpoints. This spreads out the checkpoint writes while the system starts working towards the next checkpoint.

The default of 0.5 means aim to finish the checkpoint writes when 50% of the next checkpoint is ready. A value of 0.9 means aim to finish the checkpoint writes when 90% of the next checkpoint is done, thus throttling the checkpoint writes over a larger amount of time and avoiding spikes of performance bottlenecking.

##### checkpoint\_timeout

**Parameter Type:** Integer

**Default Value:** 5min

**Range:** 30s to 3600s

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Maximum time between automatic WAL checkpoints, in seconds. The default is five minutes (5min). Increasing this parameter can increase the amount of time needed for crash recovery.

Increasing checkpoint\_timeout to a larger value, such as 15 minutes, can reduce the I/O load on your system, especially when using large values for shared\_buffers.

The downside of making the aforementioned adjustments to the checkpoint parameters is that your system will use a modest amount of additional disk space, and will take longer to recover in the event of a crash. However, for most users, this is a small price to pay for a significant performance improvement.

##### max\_wal\_size

**Parameter Type:** Integer

**Default Value:** 1 GB

**Range:** 2 to 2147483647

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

max\_wal\_size specifies the maximum size that the WAL will reach between automatic WAL checkpoints. This is a soft limit; WAL size can exceed max\_wal\_size under special circumstances (when under a heavy load, a failing archive\_command, or a high wal\_keep\_segments setting).

Increasing this parameter can increase the amount of time needed for crash recovery. This parameter can only be set in the postgresql.conf file or on the server command line.

##### min\_wal\_size

**Parameter Type:** Integer

**Default Value:** 80 MB

**Range:** 2 to 2147483647

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

If WAL disk usage stays below the value specified by min\_wal\_size, old WAL files are recycled for future use at a checkpoint, rather than removed. This ensures that enough WAL space is reserved to handle spikes in WAL usage (like when running large batch jobs). This parameter can only be set in the postgresql.conf file or on the server command line.

##### bgwriter\_delay

**Parameter Type:** Integer

**Default Value:** 200ms

**Range:** 10ms to 10000ms

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies the delay between activity rounds for the background writer. In each round the writer issues writes for some number of dirty buffers (controllable by the bgwriter\_lru\_maxpages and bgwriter\_lru\_multiplier parameters). It then sleeps for bgwriter\_delay milliseconds, and repeats.

The default value is 200 milliseconds (200ms). Note that on many systems, the effective resolution of sleep delays is 10 milliseconds; setting bgwriter\_delay to a value that is not a multiple of 10 might have the same results as setting it to the next higher multiple of 10.

Typically, when tuning bgwriter\_delay, it should be reduced from its default value. This parameter is rarely increased, except perhaps to save on power consumption on a system with very low utilization.

##### seq\_page\_cost

**Parameter Type:** Floating point

**Default Value:** 1

**Range:** 0 to 1.79769e+308

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Sets the planner's estimate of the cost of a disk page fetch that is part of a series of sequential fetches. The default is 1.0. This value can be overridden for a particular tablespace by setting the tablespace parameter of the same name. (Refer to the ALTER TABLESPACE command in the *PostgreSQL Core Documentation*.)

The default value assumes very little caching, so it's frequently a good idea to reduce it. Even if your database is significantly larger than physical memory, you might want to try setting this parameter to less than 1 (rather than its default value of 1) to see whether you get better query plans that way. If your database fits entirely within memory, you can lower this value much more, perhaps to 0.1.

##### random\_page\_cost

**Parameter Type:** Floating point

**Default Value:** 4

**Range:** 0 to 1.79769e+308

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Sets the planner's estimate of the cost of a non-sequentially-fetched disk page. The default is 4.0. This value can be overridden for a particular tablespace by setting the tablespace parameter of the same name. (Refer to the ALTER TABLESPACE command in the *PostgreSQL Core Documentation*.)

Reducing this value relative to seq\_page\_cost will cause the system to prefer index scans; raising it will make index scans look relatively more expensive. You can raise or lower both values together to change the importance of disk I/O costs relative to CPU costs, which are described by the cpu\_tuple\_cost and cpu\_index\_tuple\_cost parameters.

The default value assumes very little caching, so it's frequently a good idea to reduce it. Even if your database is significantly larger than physical memory, you might want to try setting this parameter to 2 (rather than its default of 4) to see whether you get better query plans that way. If your database fits entirely within memory, you can lower this value much more, perhaps to 0.1.

Although the system will let you do so, never set random\_page\_cost less than seq\_page\_cost. However, setting them equal (or very close to equal) makes sense if the database fits mostly or entirely within memory, since in that case there is no penalty for touching pages out of sequence. Also, in a heavily-cached database you should lower both values relative to the CPU parameters, since the cost of fetching a page already in RAM is much smaller than it would normally be.

##### effective\_cache\_size

**Parameter Type:** Integer

**Default Value:** 128MB

**Range:** 8kB to 17179869176kB

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Sets the planner's assumption about the effective size of the disk cache that is available to a single query. This is factored into estimates of the cost of using an index; a higher value makes it more likely index scans will be used, a lower value makes it more likely sequential scans will be used. When setting this parameter you should consider both Advanced Server’s shared buffers and the portion of the kernel's disk cache that will be used for Advanced Server data files. Also, take into account the expected number of concurrent queries on different tables, since they will have to share the available space. This parameter has no effect on the size of shared memory allocated by Advanced Server, nor does it reserve kernel disk cache; it is used only for estimation purposes. The default is 128 megabytes (128MB).

If this parameter is set too low, the planner may decide not to use an index even when it would be beneficial to do so. Setting effective\_cache\_size to 50% of physical memory is a normal, conservative setting. A more aggressive setting would be approximately 75% of physical memory.

##### synchronous\_commit

**Parameter Type:** Boolean

**Default Value:** true

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Specifies whether transaction commit will wait for WAL records to be written to disk before the command returns a "success" indication to the client. The default, and safe, setting is on. When off, there can be a delay between when success is reported to the client and when the transaction is really guaranteed to be safe against a server crash. (The maximum delay is three times wal\_writer\_delay.)

Unlike fsync, setting this parameter to off does not create any risk of database inconsistency: an operating system or database crash might result in some recent allegedly-committed transactions being lost, but the database state will be just the same as if those transactions had been aborted cleanly.

So, turning synchronous\_commit off can be a useful alternative when performance is more important than exact certainty about the durability of a transaction. See Section 29.3, *Asynchronous* *Commit* in the *PostgreSQL Core Documentation* for information.

This parameter can be changed at any time; the behavior for any one transaction is determined by the setting in effect when it commits. It is therefore possible, and useful, to have some transactions commit synchronously and others asynchronously. For example, to make a single multistatement transaction commit asynchronously when the default is the opposite, issue SET LOCAL synchronous\_commit TO OFF within the transaction.

##### edb\_max\_spins\_per\_delay

**Parameter Type:** Integer

**Default Value:** 1000

**Range:** {10 | 1000}

**Minimum Scope of Effect:** Per cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Use edb\_max\_spins\_per\_delay to specify the maximum number of times that a session will 'spin' while waiting for a spin-lock. If a lock is not acquired, the session will sleep. If you do not specify an alternative value for edb\_max\_spins\_per\_delay, the server will enforce the default value of 1000.

This may be useful for sytems that use NUMA (non-uniform memory access) architecture.

#### Resource Usage / Memory

The configuration parameters in this section control resource usage pertaining to memory.

##### edb\_dynatune

**Parameter Type:** Integer

**Default Value:** 0

**Range:** 0 to 100

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Determines how much of the host system’s resources are to be used by the database server based upon the host machine’s total available resources and the intended usage of the host machine.

When Advanced Server is initially installed, the edb\_dynatune parameter is set in accordance with the selected usage of the host machine on which it was installed (i.e., development machine, mixed use machine, or dedicated server). For most purposes, there is no need for the database administrator to adjust the various configuration parameters in the postgresql.conf file in order to improve performance.

The edb\_dynatune parameter can be set to any integer value between 0 and 100, inclusive. A value of 0, turns off the dynamic tuning feature thereby leaving the database server resource usage totally under the control of the other configuration parameters in the postgresql.conf file.

A low non-zero, value (e.g., 1 - 33) dedicates the least amount of the host machine’s resources to the database server. This setting would be used for a development machine where many other applications are being used.

A value in the range of 34 - 66 dedicates a moderate amount of resources to the database server. This setting might be used for a dedicated application server that may have a fixed number of other applications running on the same machine as Advanced Server.

The highest values (e.g., 67 - 100) dedicate most of the server’s resources to the database server. This setting would be used for a host machine that is totally dedicated to running Advanced Server.

Once a value of edb\_dynatune is selected, database server performance can be further fine-tuned by adjusting the other configuration parameters in the postgresql.conf file. Any adjusted setting overrides the corresponding value chosen by edb\_dynatune. You can change the value of a parameter by un-commenting the configuration parameter, specifying the desired value, and restarting the database server.

##### edb\_dynatune\_profile

**Parameter Type:** Enum

**Default Value:** oltp

**Range:** {oltp | reporting | mixed}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

This parameter is used to control tuning aspects based upon the expected workload profile on the database server.

The following are the possible values:
 - **oltp.** Recommended when the database server is processing heavy online transaction processing workloads.
 - **reporting.** Recommended for database servers used for heavy data reporting.
 - **mixed.** Recommended for servers that provide a mix of transaction processing and data reporting.

##### edb\_enable\_icache

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Enables or disables Infinite Cache. If edb\_enable\_icache is set to on, Infinite Cache is enabled; if the parameter is set to off, Infinite Cache is disabled.

If you set edb\_enable\_icache to on, you must also specify a list of cache servers by setting the edb\_icache\_servers parameter.

##### edb\_icache\_servers

**Parameter Type:** String

**Default Value:** none

**Range:** n/a

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

The edb\_icache\_servers parameter specifies a list of one or more servers with active edb-icache daemons. edb\_icache\_servers is a string value that takes the form of a comma-separated list of *hostname*:*port* pairs. You can specify each pair in any of the following forms:
 - *hostname*
 - *IP\_address*
 - *hostname*:*portnumber*
 - *IP\_address*:*portnumber*

If you do not specify a port number, Infinite Cache assumes that the cache server is listening at port 11211. This configuration parameter will take effect only if edb\_enable\_icache is set to on. Use the edb\_icache\_servers parameter to specify a maximum of 128 cache nodes.

You can dynamically modify the Infinite Cache server nodes. To change the Infinite Cache server configuration, use the edb\_icache\_servers parameter in the postgresql.conf file to perform the following:
 - Specify additional cache information to add server(s).
 - Delete server information to remove server(s).
 - Specify additional server information and delete existing server information to both add and delete servers during the same reload operation.

After updating the edb\_icache\_servers parameter in the postgresql.conf file, you must reload the configuration parameters for the changes to take effect.

##### edb\_icache\_compression\_level

**Parameter Type:** Integer

**Default Value:** 6

**Range:** 0 to 9

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Superuser

The edb\_icache\_compression\_level parameter controls the compression level that is applied to each page before storing it in the distributed Infinite Cache.

When Advanced Server reads data from disk, it typically reads the data in 8kB increments. If edb\_icache\_compression\_level is set to 0, each time Advanced Server sends an 8kB page to the Infinite Cache server that page is stored (uncompressed) in 8kB of cache memory. If the edb\_icache\_compression\_level parameter is set to 9, Advanced Server applies the maximum compression possible before sending it to the Infinite Cache server, so a page that previously took 8kB of cached memory might take 2kB of cached memory. Exact compression numbers are difficult to predict, as they are dependent on the nature of the data on each page.

This parameter must be an integer in the range 0 to 9.
 - A compression level of 0 disables compression; it uses no CPU time for compression, but requires more storage space and network resources to process.
 - A compression level of 9 invokes the maximum amount of compression; it increases the load on the CPU, but less data flows across the network, so network demand is reduced. Each page takes less room on the Infinite Cache server, so memory requirements are reduced.
 - A compression level of 5 or 6 is a reasonable compromise between the amount of compression received and the amount of CPU time invested.

The compression level must be set by the superuser and can be changed for the current session while the server is running. The following command disables the compression mechanism for the currently active session:

SET edb\_icache\_compression\_level TO 0;

#### Resource Usage / EDB Resource Manager

The configuration parameters in this section control resource usage through EDB Resource Manager.

##### edb\_max\_resource\_groups

**Parameter Type:** Integer

**Default Value:** 16

**Range:** 0 to 65536

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

This parameter controls the maximum number of resource groups that can be used simultaneously by EDB Resource Manager. More resource groups can be created than the value specified by edb\_max\_resource\_groups, however, the number of resource groups in active use by processes in these groups cannot exceed this value.

Parameter edb\_max\_resource\_groups should be set comfortably larger than the number of groups you expect to maintain so as not to run out.

##### edb\_resource\_group

**Parameter Type:** String

**Default Value:** none

**Range:** n/a

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Set the edb\_resource\_group parameter to the name of the resource group to which the current session is to be controlled by EDB Resource Manager according to the group’s resource type settings.

If the parameter is not set, then the current session does not utilize EDB Resource Manager.

#### Query Tuning

This section describes the configuration parameters used for optimizer hints.

##### enable\_hints

**Parameter Type:** Boolean

**Default Value:** true

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Optimizer hints embedded in SQL commands are utilized when enable\_hints is on. Optimizer hints are ignored when this parameter is off.

#### Query Tuning / Planner Method Configuration

This section describes the configuration parameters used for planner method configuration.

##### edb\_custom\_plan\_tries

**Parameter Type:** Numeric

**Default Value:** 5

**Range:** {0 | 100}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session User

This configuration parameter controls the number of custom execution plans considered by the planner before the planner settles on a generic execution plan.

When a client application repeatedly executes a prepared statement, the server may decide to evaluate several execution plans before deciding to choose a *custom* plan or a *generic* plan.
 - A custom plan is a plan built for a specific set of parameter values.
 - A generic plan is a plan that will work with any set of parameter values supplied by the client application.

By default, the optimizer will generate five custom plans before evaluating a generic plan. That means that if you execute a prepared statement six times, the optimizer will generate five custom plans, then one generic plan, and then decide whether to stick with the generic plan.

In certain workloads, this extra planning can have a negative impact on performance. You can adjust the edb\_custom\_plan\_tries configuration parameter to decrease the number of custom plans considered before evaluating a generic plan. Setting edb\_custom\_plan\_tries to 0 will effectively disable custom plan generation.

Consider the following query:

PREPARE custQuery AS SELECT \* FROM customer WHERE salesman \>= $1

The $1 token in this query is a parameter marker - the client application must provide a value for each parameter marker each time the statement executes.

If an index has been defined on customer.salesman, the optimizer may choose to execute this query using a sequential scan, or using an index scan. In some cases, an index is faster than a sequential scan; in other cases, the sequential scan will win. The optimal plan will depend on the distribution of salesman values in the table and on the search value (the value provided for the $1 parameter).

When the client application repeatedly executes the custQuery prepared statement, the optimizer will generate some number of parameter-value-specific execution plans (custom plans), followed by a generic plan (a plan that ignores the parameter values), and then decide whether to stick with the generic plan or to continue to generate custom plans for each execution. The decision process takes into account not only the cost of executing the plans, but the cost of generating custom plans as well.

##### edb\_enable\_pruning

**Parameter Type:** Boolean

**Default Value:** true

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

When set to TRUE, edb\_enable\_pruning allows the query planner to early-prune partitioned tables. *Early-pruning* means that the query planner can “prune” (i.e., ignore) partitions that would not be searched in a query *before* generating query plans. This helps improve performance time as it eliminates the generation of query plans of partitions that would not be searched.

Conversely, *late-pruning* means that the query planner prunes partitions *after* generating query plans for each partition. (The constraint\_exclusion configuration parameter controls late-pruning.)

The ability to early-prune depends upon the nature of the query in the WHERE clause. Early-pruning can be utilized in only simple queries with constraints of the type WHERE *column* = *literal* (e.g., WHERE deptno = 10).

Early-pruning is not used for more complex queries such as WHERE *column* = *expression* (e.g., WHERE deptno = 10 + 5).

#### Reporting and Logging / What to Log

The configuration parameters in this section control reporting and logging.

##### trace\_hints

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Use with the optimizer hints feature to provide more detailed information regarding whether or not a hint was used by the planner. Set the client\_min\_messages and trace\_hints configuration parameters as follows:

SET client\_min\_messages TO info;

SET trace\_hints TO true;

The SELECT command with the NO\_INDEX hint shown below illustrates the additional information produced when the aforementioned configuration parameters are set.

EXPLAIN SELECT /\*+ NO\_INDEX(accounts accounts\_pkey) \*/ \* FROM accounts WHERE aid = 100;

INFO: \[HINTS\] Index Scan of \[accounts\].\[accounts\_pkey\] rejected because of NO\_INDEX hint.

INFO: \[HINTS\] Bitmap Heap Scan of \[accounts\].\[accounts\_pkey\] rejected because of NO\_INDEX hint.

QUERY PLAN

\-------------------------------------------------------------

Seq Scan on accounts (cost=0.00..14461.10 rows=1 width=97)

Filter: (aid = 100)

(2 rows)

#### EnterpriseDB Auditing Settings

This section describes configuration parameters used by the Advanced Server database auditing feature.

##### edb\_audit

**Parameter Type:** Enum

**Default Value:** none

**Range:** {none | csv | xml}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Enables or disables database auditing. The values xml or csv will enable database auditing. These values represent the file format in which auditing information will be captured. none will disable database auditing and is also the default.

##### edb\_audit\_directory

**Parameter Type:** String

**Default Value:** edb\_audit

**Range:** n/a

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies the directory where the audit log files will be created. The path of the directory can be absolute or relative to the *POSTGRES\_PLUS\_HOME*/data directory.

##### edb\_audit\_filename

**Parameter Type:** String

**Default Value:** audit-%Y%m%d\_%H%M%S

**Range:** n/a

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies the file name of the audit file where the auditing information will be stored. The default file name will be audit-%Y%m%d\_%H%M%S. The escape sequences, %Y, %m etc., will be replaced by the appropriate current values according to the system date and time.

##### edb\_audit\_rotation\_day

**Parameter Type:** String

**Default Value:** every

**Range:** {none | every | sun | mon | tue | wed | thu | fri | sat} ...

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies the day of the week on which to rotate the audit files. Valid values are sun, mon, tue, wed, thu, fri, sat, every, and none. To disable rotation, set the value to none. To rotate the file every day, set the edb\_audit\_rotation\_day value to every. To rotate the file on a specific day of the week, set the value to the desired day of the week.

##### edb\_audit\_rotation\_size

**Parameter Type:** Integer

**Default Value:** 0MB

**Range:** 0MB to 5000MB

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies a file size threshold in megabytes when file rotation will be forced to occur. The default value is 0MB. If the parameter is commented out or set to 0, rotation of the file on a size basis will not occur.

##### edb\_audit\_rotation\_seconds

**Parameter Type:** Integer

**Default Value:** 0s

**Range:** 0s to 2147483647s

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Specifies the rotation time in seconds when a new log file should be created. To disable this feature, set this parameter to 0.

##### edb\_audit\_connect

**Parameter Type:** Enum

**Default Value:** failed

**Range:** {none | failed | all}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Enables auditing of database connection attempts by users. To disable auditing of all connection attempts, set edb\_audit\_connect to none. To audit all failed connection attempts, set the value to failed. To audit all connection attempts, set the value to all.

##### edb\_audit\_disconnect

**Parameter Type:** Enum

**Default Value:** none

**Range:** {none | all}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Enables auditing of database disconnections by connected users. To enable auditing of disconnections, set the value to all. To disable, set the value to none.

##### edb\_audit\_statement

**Parameter Type:** String

**Default Value:** ddl, error

**Range:** {none | ddl | dml | select | error | rollback | all} ...

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

This configuration parameter is used to specify auditing of different categories of SQL statements. To audit statements resulting in error, set the parameter value to error. To audit DDL statements such as CREATE TABLE, ALTER TABLE, etc., set the parameter value to ddl. Modification statements such as INSERT, UPDATE, DELETE or TRUNCATE can be audited by setting edb\_audit\_statement to dml. Setting the value to all will audit every statement while none disables this feature.

##### edb\_audit\_tag

**Parameter Type:** String

**Default Value:** none

**Minimum Scope of Effect:** Session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** User

Use edb\_audit\_tag to specify a string value that will be included in the audit log when the edb\_audit parameter is set to csv or xml.

#### Client Connection Defaults / Locale and Formatting

This section describes configuration parameters affecting locale and formatting.

##### icu\_short\_form

**Parameter Type:** String

**Default Value:** none

**Range:** n/a

**Minimum Scope of Effect:** Database

**When Value Changes Take Effect:** n/a

**Required Authorization to Activate:** n/a

The configuration parameter icu\_short\_form is a parameter containing the default ICU short form name assigned to a database or to the Advanced Server instance. See Section <span class="underline">2.3</span> for general information about the ICU short form and the Unicode Collation Algorithm.

This configuration parameter is set either when the CREATE DATABASE command is used with the ICU\_SHORT\_FORM parameter (see Section <span class="underline">2.3.3.2</span>) in which case the specified short form name is set and appears in the icu\_short\_form configuration parameter when connected to this database, or when an Advanced Server instance is created with the initdb command used with the --icu\_short\_form option (see Section <span class="underline">2.3.3.3</span>) in which case the specified short form name is set and appears in the icu\_short\_form configuration parameter when connected to a database in that Advanced Server instance, and the database does not override it with its own ICU\_SHORT\_FORM parameter with a different short form.

Once established in the manner described, the icu\_short\_form configuration parameter cannot be changed.

#### Client Connection Defaults / Statement Behavior

This section describes configuration parameters affecting statement behavior.

##### default\_heap\_fillfactor

**Parameter Type:** Integer

**Default Value:** 100

**Range:** 10 to 100

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Sets the fillfactor for a table when the FILLFACTOR storage parameter is omitted from a CREATE TABLE command.

The fillfactor for a table is a percentage between 10 and 100. 100 (complete packing) is the default. When a smaller fillfactor is specified, INSERT operations pack table pages only to the indicated percentage; the remaining space on each page is reserved for updating rows on that page. This gives UPDATE a chance to place the updated copy of a row on the same page as the original, which is more efficient than placing it on a different page. For a table whose entries are never updated, complete packing is the best choice, but in heavily updated tables smaller fillfactors are appropriate.

#### Client Connection Defaults / Other Defaults

The parameters in this section set other miscellaneous client connection defaults.

##### oracle\_home

**Parameter Type:** String

**Default Value:** none

**Range:** n/a

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Before creating an Oracle Call Interface (OCI) database link to an Oracle server, you must direct Advanced Server to the correct Oracle home directory. Set the LD\_LIBRARY\_PATH environment variable on Linux (or PATH on Windows) to the lib directory of the Oracle client installation directory.

For Windows only, you can instead set the value of the oracle\_home configuration parameter in the postgresql.conf file. The value specified in the oracle\_home configuration parameter will override the Windows PATH environment variable.

The LD\_LIBRARY\_PATH environment variable on Linux (PATH environment variable or oracle\_home configuration parameter on Windows) must be set properly each time you start Advanced Server.

**For Windows only:** To set the oracle\_home configuration parameter in the postgresql.conf file, edit the file, adding the following line:

oracle\_home = '*lib\_directory*'

Substitute the name of the Windows directory that contains oci.dll for *lib\_directory*.

After setting the oracle\_home configuration parameter, you must restart the server for the changes to take effect. Restart the server from the Windows Services console.

##### odbc\_lib\_path

**Parameter Type:** String

**Default Value:** none

**Range:** n/a

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

If you will be using an ODBC driver manager, and if it is installed in a non-standard location, you specify the location by setting the odbc\_lib\_path configuration parameter in the postgresql.conf file:

odbc\_lib\_path = '*complete\_path\_to\_libodbc.so*'

The configuration file must include the complete pathname to the driver manager shared library (typically libodbc.so).

#### Compatibility Options

The configuration parameters described in this section control various database compatibility features.

##### edb\_redwood\_date

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

When DATE appears as the data type of a column in the commands, it is translated to TIMESTAMP(0) at the time the table definition is stored in the database if the configuration parameter edb\_redwood\_date is set to TRUE. Thus, a time component will also be stored in the column along with the date.

If edb\_redwood\_date is set to FALSE the column’s data type in a CREATE TABLE or ALTER TABLE command remains as a native PostgreSQL DATE data type and is stored as such in the database. The PostgreSQL DATE data type stores only the date without a time component in the column.

Regardless of the setting of edb\_redwood\_date, when DATE appears as a data type in any other context such as the data type of a variable in an SPL declaration section, or the data type of a formal parameter in an SPL procedure or SPL function, or the return type of an SPL function, it is always internally translated to a TIMESTAMP(0) and thus, can handle a time component if present.

##### edb\_redwood\_greatest\_least

**Parameter Type:** Boolean

**Default Value:** true

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

The GREATEST function returns the parameter with the greatest value from its list of parameters. The LEAST function returns the parameter with the least value from its list of parameters.

When edb\_redwood\_greatest\_least is set to TRUE, the GREATEST and LEAST functions return null when at least one of the parameters is null.

SET edb\_redwood\_greatest\_least TO on;

SELECT GREATEST(1, 2, NULL, 3);

greatest

\----------

(1 row)

When edb\_redwood\_greatest\_least is set to FALSE, null parameters are ignored except when all parameters are null in which case null is returned by the functions.

SET edb\_redwood\_greatest\_least TO off;

SELECT GREATEST(1, 2, NULL, 3);

greatest

\----------

3

(1 row)

SELECT GREATEST(NULL, NULL, NULL);

greatest

\----------

(1 row)

##### edb\_redwood\_raw\_names

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

When edb\_redwood\_raw\_names is set to its default value of FALSE, database object names such as table names, column names, trigger names, program names, user names, etc. appear in uppercase letters when viewed from Redwood catalogs (that is, system catalogs prefixed by ALL\_, DBA\_, or USER\_. See Chapter <span class="underline">10</span> for a list of such catalogs). In addition, quotation marks enclose names that were created with enclosing quotation marks.

When edb\_redwood\_raw\_names is set to TRUE, the database object names are displayed exactly as they are stored in the PostgreSQL system catalogs when viewed from the Redwood catalogs. Thus, names created without enclosing quotation marks appear in lowercase as expected in PostgreSQL. Names created with enclosing quotation marks appear exactly as they were created, but without the quotation marks.

For example, the following user name is created, and then a session is started with that user.

CREATE USER reduser IDENTIFIED BY password;

edb=\# \\c - reduser

Password for user reduser:

You are now connected to database "edb" as user "reduser".

When connected to the database as reduser, the following tables are created.

CREATE TABLE all\_lower (col INTEGER);

CREATE TABLE ALL\_UPPER (COL INTEGER);

CREATE TABLE "Mixed\_Case" ("Col" INTEGER);

When viewed from the Redwood catalog, USER\_TABLES, with edb\_redwood\_raw\_names set to the default value FALSE, the names appear in uppercase except for the Mixed\_Case name, which appears as created and also with enclosing quotation marks.

edb=\> SELECT \* FROM USER\_TABLES;

schema\_name | table\_name | tablespace\_name | status | temporary

\-------------+--------------+-----------------+--------+-----------

REDUSER | ALL\_LOWER | | VALID | N

REDUSER | ALL\_UPPER | | VALID | N

REDUSER | "Mixed\_Case" | | VALID | N

(3 rows)

When viewed with edb\_redwood\_raw\_names set to TRUE, the names appear in lowercase except for the Mixed\_Case name, which appears as created, but now without the enclosing quotation marks.

edb=\> SET edb\_redwood\_raw\_names TO true;

SET

edb=\> SELECT \* FROM USER\_TABLES;

schema\_name | table\_name | tablespace\_name | status | temporary

\-------------+------------+-----------------+--------+-----------

reduser | all\_lower | | VALID | N

reduser | all\_upper | | VALID | N

reduser | Mixed\_Case | | VALID | N

(3 rows)

These names now match the case when viewed from the PostgreSQL pg\_tables catalog.

edb=\> SELECT schemaname, tablename, tableowner FROM pg\_tables WHERE tableowner = 'reduser';

schemaname | tablename | tableowner

\------------+------------+------------

reduser | all\_lower | reduser

reduser | all\_upper | reduser

reduser | Mixed\_Case | reduser

(3 rows)

##### edb\_redwood\_strings

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

If the edb\_redwood\_strings parameter is set to TRUE, when a string is concatenated with a null variable or null column, the result is the original string. If edb\_redwood\_strings is set to FALSE, the native PostgreSQL behavior is maintained, which is the concatenation of a string with a null variable or null column gives a null result.

The following example illustrates the difference.

The sample application contains a table of employees. This table has a column named comm that is null for most employees. The following query is run with edb\_redwood\_string set to FALSE. The concatenation of a null column with non-empty strings produces a final result of null, so only employees that have a commission appear in the query result. The output line for all other employees is null.

SET edb\_redwood\_strings TO off;

SELECT RPAD(ename,10) || ' ' || TO\_CHAR(sal,'99,999.99') || ' ' || TO\_CHAR(comm,'99,999.99') "EMPLOYEE COMPENSATION" FROM emp;

EMPLOYEE COMPENSATION

\----------------------------------

ALLEN 1,600.00 300.00

WARD 1,250.00 500.00

MARTIN 1,250.00 1,400.00

TURNER 1,500.00 .00

(14 rows)

The following is the same query executed when edb\_redwood\_strings is set to TRUE. Here, the value of a null column is treated as an empty string. The concatenation of an empty string with a non-empty string produces the non-empty string.

SET edb\_redwood\_strings TO on;

SELECT RPAD(ename,10) || ' ' || TO\_CHAR(sal,'99,999.99') || ' ' || TO\_CHAR(comm,'99,999.99') "EMPLOYEE COMPENSATION" FROM emp;

EMPLOYEE COMPENSATION

\----------------------------------

SMITH 800.00

ALLEN 1,600.00 300.00

WARD 1,250.00 500.00

JONES 2,975.00

MARTIN 1,250.00 1,400.00

BLAKE 2,850.00

CLARK 2,450.00

SCOTT 3,000.00

KING 5,000.00

TURNER 1,500.00 .00

ADAMS 1,100.00

JAMES 950.00

FORD 3,000.00

MILLER 1,300.00

(14 rows)

##### edb\_stmt\_level\_tx

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

The term *statement level transaction isolation* describes the behavior whereby when a runtime error occurs in a SQL command, all the updates on the database caused by that single command are rolled back. For example, if a single UPDATE command successfully updates five rows, but an attempt to update a sixth row results in an exception, the updates to all six rows made by this UPDATE command are rolled back. The effects of prior SQL commands that have not yet been committed or rolled back are pending until a COMMIT or ROLLBACK command is executed.

In Advanced Server, if an exception occurs while executing a SQL command, all the updates on the database since the start of the transaction are rolled back. In addition, the transaction is left in an aborted state and either a COMMIT or ROLLBACK command must be issued before another transaction can be started.

If edb\_stmt\_level\_tx is set to TRUE, then an exception will not automatically roll back prior uncommitted database updates. If edb\_stmt\_level\_tx is set to FALSE, then an exception will roll back uncommitted database updates.

**Note:** Use edb\_stmt\_level\_tx set to TRUE only when absolutely necessary, as this may cause a negative performance impact.

The following example run in PSQL shows that when edb\_stmt\_level\_tx is FALSE, the abort of the second INSERT command also rolls back the first INSERT command. Note that in PSQL, the command \\set AUTOCOMMIT off must be issued, otherwise every statement commits automatically defeating the purpose of this demonstration of the effect of edb\_stmt\_level\_tx.

\\set AUTOCOMMIT off

SET edb\_stmt\_level\_tx TO off;

INSERT INTO emp (empno,ename,deptno) VALUES (9001, 'JONES', 40);

INSERT INTO emp (empno,ename,deptno) VALUES (9002, 'JONES', 00);

ERROR: insert or update on table "emp" violates foreign key constraint "emp\_ref\_dept\_fk"

DETAIL: Key (deptno)=(0) is not present in table "dept".

COMMIT;

SELECT empno, ename, deptno FROM emp WHERE empno \> 9000;

empno | ename | deptno

\-------+-------+--------

(0 rows)

In the following example, with edb\_stmt\_level\_tx set to TRUE, the first INSERT command has not been rolled back after the error on the second INSERT command. At this point, the first INSERT command can either be committed or rolled back.

\\set AUTOCOMMIT off

SET edb\_stmt\_level\_tx TO on;

INSERT INTO emp (empno,ename,deptno) VALUES (9001, 'JONES', 40);

INSERT INTO emp (empno,ename,deptno) VALUES (9002, 'JONES', 00);

ERROR: insert or update on table "emp" violates foreign key constraint "emp\_ref\_dept\_fk"

DETAIL: Key (deptno)=(0) is not present in table "dept"

SELECT empno, ename, deptno FROM emp WHERE empno \> 9000;

empno | ename | deptno

\-------+-------+--------

9001 | JONES | 40

(1 row)

COMMIT;

A ROLLBACK command could have been issued instead of the COMMIT command in which case the insert of employee number 9001 would have been rolled back as well.

##### db\_dialect

**Parameter Type:** Enum

**Default Value:** postgres

**Range:** {postgres | redwood}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

In addition to the native PostgreSQL system catalog, pg\_catalog, Advanced Server contains extended catalog views (see Chapter <span class="underline">10</span>) as well as system catalogs compatible with Microsoft SQL Server. These are sys for the expanded catalog views and dbo for SQL Server. The db\_dialect parameter controls the order in which these catalogs are searched for name resolution.

When set to postgres, the namespace precedence is pg\_catalog, sys, then dbo, giving the PostgreSQL catalog the highest precedence. When set to redwood, the namespace precedence is sys, dbo, then pg\_catalog, giving the expanded catalog views the highest precedence.

##### default\_with\_rowids

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

When set to on, CREATE TABLE includes a ROWID column in newly created tables, which can then be referenced in SQL commands.

##### optimizer\_mode

**Parameter Type:** Enum

**Default Value:** choose

**Range:** {choose | ALL\_ROWS | FIRST\_ROWS | FIRST\_ROWS\_10 | FIRST\_ROWS\_100 | FIRST\_ROWS\_1000}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Sets the default optimization mode for analyzing optimizer hints.

The following table shows the possible values:

Table ‑ - Optimizer Modes

|                   |                                                                                                                        |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------- |
| Hint              | Description                                                                                                            |
| ALL\_ROWS         | Optimizes for retrieval of all rows of the result set.                                                                 |
| CHOOSE            | Does no default optimization based on assumed number of rows to be retrieved from the result set. This is the default. |
| FIRST\_ROWS       | Optimizes for retrieval of only the first row of the result set.                                                       |
| FIRST\_ROWS\_10   | Optimizes for retrieval of the first 10 rows of the results set.                                                       |
| FIRST\_ROWS\_100  | Optimizes for retrieval of the first 100 rows of the result set.                                                       |
| FIRST\_ROWS\_1000 | Optimizes for retrieval of the first 1000 rows of the result set.                                                      |

These optimization modes are based upon the assumption that the client submitting the SQL command is interested in viewing only the first “n” rows of the result set and will then abandon the remainder of the result set. Resources allocated to the query are adjusted as such.

#### Customized Options

In previous releases of Advanced Server, the custom\_variable\_classes was required by those parameters not normally known to be added by add-on modules (such as procedural languages).

##### custom\_variable\_classes

The custom\_variable\_classes parameter is deprecated in Advanced Server 9.2; parameters that previously depended on this parameter no longer require its support.

##### dbms\_alert.max\_alerts

**Parameter Type:** Integer

**Default Value:** 100

**Range:** 0 to 500

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Specifies the maximum number of concurrent alerts allowed on a system using the DBMS\_ALERTS package.

##### dbms\_pipe.total\_message\_buffer

Parameter Type: Integer

**Default Value:** 30 Kb

**Range:** 30 Kb to 256 Kb

**Minimum Scope of Effect:** Postmaster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Specifies the total size of the buffer used for the DBMS\_PIPE package.

##### index\_advisor.enabled

**Parameter Type:** Boolean

**Default Value:** true

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Provides the capability to temporarily suspend Index Advisor in an EDB-PSQL or PSQL session. The Index Advisor plugin, index\_advisor, must be loaded in the EDB-PSQL or PSQL session in order to use the index\_advisor.enabled configuration parameter.

The Index Advisor plugin can be loaded as shown by the following example:

$ psql -d edb -U enterprisedb

Password for user enterprisedb:

psql (9.5.0.0)

Type "help" for help.

edb=\# LOAD 'index\_advisor';

LOAD

Use the SET command to change the parameter setting to control whether or not Index Advisor generates an alternative query plan as shown by the following example:

edb=\# SET index\_advisor.enabled TO off;

SET

edb=\# EXPLAIN SELECT \* FROM t WHERE a \< 10000;

QUERY PLAN

\-------------------------------------------------------

Seq Scan on t (cost=0.00..1693.00 rows=9864 width=8)

Filter: (a \< 10000)

(2 rows)

edb=\# SET index\_advisor.enabled TO on;

SET

edb=\# EXPLAIN SELECT \* FROM t WHERE a \< 10000;

QUERY PLAN

\-----------------------------------------------------------------------------

Seq Scan on t (cost=0.00..1693.00 rows=9864 width=8)

Filter: (a \< 10000)

Result (cost=0.00..327.88 rows=9864 width=8)

One-Time Filter: '===\[ HYPOTHETICAL PLAN \]==='::text

\-\> Index Scan using "\<hypothetical-index\>:1" on t (cost=0.00..327.88 rows=9864 width=8)

Index Cond: (a \< 10000)

(6 rows)

##### edb\_sql\_protect.enabled

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Controls whether or not SQL/Protect is actively monitoring protected roles by analyzing SQL statements issued by those roles and reacting according to the setting of edb\_sql\_protect.level. When you are ready to begin monitoring with SQL/Protect set this parameter to on.

##### edb\_sql\_protect.level

**Parameter Type:** Enum

**Default Value:** passive

**Range:** {learn | passive | active}

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Reload

**Required Authorization to Activate:** PPAS service account

Sets the action taken by SQL/Protect when a SQL statement is issued by a protected role.

The edb\_sql\_protect.level configuration parameter can be set to one of the following values to use either learn mode, passive mode, or active mode:
 - **learn.** Tracks the activities of protected roles and records the relations used by the roles. This is used when initially configuring SQL/Protect so the expected behaviors of the protected applications are learned.
 - **passive.** Issues warnings if protected roles are breaking the defined rules, but does not stop any SQL statements from executing. This is the next step after SQL/Protect has learned the expected behavior of the protected roles. This essentially behaves in intrusion detection mode and can be run in production when properly monitored.
 - **active.** Stops all invalid statements for a protected role. This behaves as a SQL firewall preventing dangerous queries from running. This is particularly effective against early penetration testing when the attacker is trying to determine the vulnerability point and the type of database behind the application. Not only does SQL/Protect close those vulnerability points, but it tracks the blocked queries allowing administrators to be alerted before the attacker finds an alternate method of penetrating the system.

If you are using SQL/Protect for the first time, set edb\_sql\_protect.level to learn.

##### edb\_sql\_protect.max\_protected\_relations

**Parameter Type:** Integer

**Default Value:** 1024

**Range:** 1 to 2147483647

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Sets the maximum number of relations that can be protected per role. Please note the total number of protected relations for the server will be the number of protected relations times the number of protected roles. Every protected relation consumes space in shared memory. The space for the maximum possible protected relations is reserved during database server startup.

If the server is started when edb\_sql\_protect.max\_protected\_relations is set to a value outside of the valid range (for example, a value of 2,147,483,648), then a warning message is logged in the database server log file:

2014-07-18 16:04:12 EDT WARNING: invalid value for parameter "edb\_sql\_protect.max\_protected\_relations": "2147483648"

2014-07-18 16:04:12 EDT HINT: Value exceeds integer range.

The database server starts successfully, but with edb\_sql\_protect.max\_protected\_relations set to the default value of 1024.

Though the upper range for the parameter is listed as the maximum value for an integer data type, the practical setting depends on how much shared memory is available and the parameter value used during database server startup.

As long as the space required can be reserved in shared memory, the value will be acceptable. If the value is such that the space in shared memory cannot be reserved, the database server startup fails with an error message such as the following:

2014-07-18 15:22:17 EDT FATAL: could not map anonymous shared memory: Cannot allocate memory

2014-07-18 15:22:17 EDT HINT: This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space or huge pages. To reduce the request size (currently 2070118400 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing shared\_buffers or max\_connections.

In such cases, reduce the parameter value until the database server can be started successfully.

##### edb\_sql\_protect.max\_protected\_roles

**Parameter Type:** Integer

**Default Value:** 64

**Range:** 1 to 2147483647

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Sets the maximum number of roles that can be protected.

Every protected role consumes space in shared memory. Please note that the server will reserve space for the number of protected roles times the number of protected relations (edb\_sql\_protect.max\_protected\_relations). The space for the maximum possible protected roles is reserved during database server startup.

If the database server is started when edb\_sql\_protect.max\_protected\_roles is set to a value outside of the valid range (for example, a value of 2,147,483,648), then a warning message is logged in the database server log file:

2014-07-18 16:04:12 EDT WARNING: invalid value for parameter "edb\_sql\_protect.max\_protected\_roles": "2147483648"

2014-07-18 16:04:12 EDT HINT: Value exceeds integer range.

The database server starts successfully, but with edb\_sql\_protect.max\_protected\_roles set to the default value of 64.

Though the upper range for the parameter is listed as the maximum value for an integer data type, the practical setting depends on how much shared memory is available and the parameter value used during database server startup.

As long as the space required can be reserved in shared memory, the value will be acceptable. If the value is such that the space in shared memory cannot be reserved, the database server startup fails with an error message such as the following:

2014-07-18 15:22:17 EDT FATAL: could not map anonymous shared memory: Cannot allocate memory

2014-07-18 15:22:17 EDT HINT: This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space or huge pages. To reduce the request size (currently 2070118400 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing shared\_buffers or max\_connections.

In such cases, reduce the parameter value until the database server can be started successfully.

##### edb\_sql\_protect.max\_queries\_to\_save

**Parameter Type:** Integer

**Default Value:** 5000

**Range:** 100 to 2147483647

**Minimum Scope of Effect:** Cluster

**When Value Changes Take Effect:** Restart

**Required Authorization to Activate:** PPAS service account

Sets the maximum number of offending queries to save in view edb\_sql\_protect\_queries.

Every query that is saved consumes space in shared memory. The space for the maximum possible queries that can be saved is reserved during database server startup.

If the database server is started when edb\_sql\_protect.max\_queries\_to\_save is set to a value outside of the valid range (for example, a value of 10), then a warning message is logged in the database server log file:

2014-07-18 13:05:31 EDT WARNING: 10 is outside the valid range for parameter "edb\_sql\_protect.max\_queries\_to\_save" (100 .. 2147483647)

The database server starts successfully, but with edb\_sql\_protect.max\_queries\_to\_save set to the default value of 5000.

Though the upper range for the parameter is listed as the maximum value for an integer data type, the practical setting depends on how much shared memory is available and the parameter value used during database server startup.

As long as the space required can be reserved in shared memory, the value will be acceptable. If the value is such that the space in shared memory cannot be reserved, the database server startup fails with an error message such as the following:

2014-07-18 15:22:17 EDT FATAL: could not map anonymous shared memory: Cannot allocate memory

2014-07-18 15:22:17 EDT HINT: This error usually means that PostgreSQL's request for a shared memory segment exceeded available memory, swap space or huge pages. To reduce the request size (currently 2070118400 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing shared\_buffers or max\_connections.

In such cases, reduce the parameter value until the database server can be started successfully.

##### edbldr.empty\_csv\_field

**Parameter Type:** Enum

**Default Value:** NULL

**Range:** {NULL | empty\_string | pgsql}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Use the edbldr.empty\_csv\_field parameter to specify how EDB\*Loader will treat an empty string. The valid values for the edbldr.empty\_csv\_field parameter are:

| Parameter Setting | EDB\*Loader Behavior                                                                                            |
| ----------------- | --------------------------------------------------------------------------------------------------------------- |
| NULL              | An empty field is treated as NULL.                                                                              |
| empty\_string     | An empty field is treated as a string of length zero.                                                           |
| pgsql             | An empty field is treated as a NULL if it does not contain quotes and as an empty string if it contains quotes. |

For more information about the edbldr.empty\_csv\_field parameter in EDB\*Loader, see Section <span class="underline">6.1.9</span>.

##### utl\_encode.uudecode\_redwood

**Parameter Type:** Boolean

**Default Value:** false

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

When set to TRUE, Advanced Server’s UTL\_ENCODE.UUDECODE function can decode uuencoded data that was created by the Oracle implementation of the UTL\_ENCODE.UUENCODE function.

When set to the default setting of FALSE, Advanced Server’s UTL\_ENCODE.UUDECODE function can decode uuencoded data created by Advanced Server’s UTL\_ENCODE.UUENCODE function.

##### utl\_file.umask

**Parameter Type:** String

**Default Value:** 0077

**Range:** Octal digits for umask settings

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

The utl\_file.umask parameter sets the *file mode creation mask* or simply, the *mask*, in a manner similar to the Linux umask command. This is for usage only within the Advanced Server UTL\_FILE package.

**Note:** The utl\_file.umask parameter is not supported on Windows systems.

The value specified for utl\_file.umask is a 3 or 4-character octal string that would be valid for the Linux umask command. The setting determines the permissions on files created by the UTL\_FILE functions and procedures. (Refer to any information source regarding Linux or Unix systems for information on file permissions and the usage of the umask command.)

The following shows the results of the default utl\_file.umask setting of 0077. Note that all permissions are denied on users belonging to the enterprisedb group as well as all other users. Only user enterprisedb has read and write permissions on the file.

\-rw------- 1 enterprisedb enterprisedb 21 Jul 24 16:08 utlfile

For an example of using utl\_file.umask, see Section <span class="underline">9.17.1</span>.

#### Ungrouped

Configuration parameters in this section apply to Advanced Server only and are for a specific, limited purpose.

##### nls\_length\_semantics

**Parameter Type:** Enum

**Default Value:** byte

**Range:** {byte | char}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Superuser

This parameter has no effect in Advanced Server.

For example, the form of the ALTER SESSION command is accepted in Advanced Server without throwing a syntax error, but does not alter the session environment:

ALTER SESSION SET nls\_length\_semantics = char;

**Note:** Since the setting of this parameter has no effect on the server environment, it does not appear in the system view pg\_settings.

##### query\_rewrite\_enabled

**Parameter Type:** Enum

**Default Value:** false

**Range:** {true | false | force}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

This parameter has no effect in Advanced Server.

For example, the following form of the ALTER SESSION command is accepted in Advanced Server without throwing a syntax error, but does not alter the session environment:

ALTER SESSION SET query\_rewrite\_enabled = force;

**Note:** Since the setting of this parameter has no effect on the server environment, it does not appear in the system view pg\_settings.

##### query\_rewrite\_integrity

**Parameter Type:** Enum

**Default Value:** enforced

**Range:** {enforced | trusted | stale\_tolerated}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Superuser

This parameter has no effect in Advanced Server.

For example, the following form of the ALTER SESSION command is accepted in Advanced Server without throwing a syntax error, but does not alter the session environment:

ALTER SESSION SET query\_rewrite\_integrity = stale\_tolerated;

**Note:** Since the setting of this parameter has no effect on the server environment, it does not appear in the system view pg\_settings.

##### timed\_statistics

**Parameter Type:** Boolean

**Default Value:** true

**Range:** {true | false}

**Minimum Scope of Effect:** Per session

**When Value Changes Take Effect:** Immediate

**Required Authorization to Activate:** Session user

Controls the collection of timing data for the Dynamic Runtime Instrumentation Tools Architecture (DRITA) feature. When set to on, timing data is collected.

**Note:** When Advanced Server is installed, the postgresql.conf file contains an explicit entry setting timed\_statistics to off. If this entry is commented out letting timed\_statistics to default, and the configuration file is reloaded, timed statistics collection would be turned on.

## Controlling the Audit Logs

Advanced Server allows database and security administrators, auditors, and operators to track and analyze database activities using the audit logs. The audit logs can be configured to information such as:
 - When a role establishes a connection to an Advanced Server database
 - What database objects a role creates, modifies, or deletes when connected to Advanced Server
 - When any failed authentication attempts occur

You can use parameters specified in the postgresql.conf file to control the information included in the audit logs.

### Auditing Configuration Parameters

Use the following postgresql.conf configuration parameters to control database auditing:

edb\_audit

Enables or disables database auditing. The values xml or csv will enable database auditing. These values represent the file format in which auditing information will be captured. none will disable database auditing and is also the default. This option can only be set at server start or in the postgresql.conf file.

edb\_audit\_directory

Specifies the directory where the log files will be created. The path of the directory can be relative or absolute to the data folder. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_filename

Specifies the file name of the audit file where the auditing information will be stored. The default file name will be audit-%Y%m%d\_%H%M%S. The escape sequences, %Y, %m etc., will be replaced by the appropriate current values according to the system date and time. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_rotation\_day

Specifies the day of the week on which to rotate the audit files. Valid values are sun, mon, tue, wed, thu, fri, sat, every, and none. To disable rotation, set the value to none. To rotate the file every day, set the edb\_audit\_rotation\_day value to every. To rotate the file on a specific day of the week, set the value to the desired day of the week. every is the default value. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_rotation\_size

Specifies a file size threshold in megabytes when file rotation will be forced to occur. The default value is 0 MB. If the parameter is commented out or set to 0, rotation of the file on a size basis will not occur. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_rotation\_seconds

Specifies the rotation time in seconds when a new log file should be created. To disable this feature, set this parameter to 0. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_connect

Enables auditing of database connection attempts by users. To disable auditing of all connection attempts, set edb\_audit\_connect to none. To audit all failed connection attempts, set the value to failed. To audit all connection attempts, set the value to all. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_disconnect

Enables auditing of database disconnections by connected users. To enable auditing of disconnections, set the value to all. To disable, set the value to none. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_statement

This configuration parameter is used to specify auditing of different categories of SQL statements. To audit statements resulting in error, set the parameter value to error. To audit DDL statements such as CREATE TABLE, ALTER TABLE, etc., set the parameter value to ddl. Modification statements such as INSERT, UPDATE, DELETE or TRUNCATE can be audited by setting edb\_audit\_statement to dml. To audit ROLLBACK statements, set the parameter value to rollback. Setting the value to all will audit every statement while none disables this feature. This option can only be set at server start or in the postgresql.conf configuration file.

edb\_audit\_tag

Use this configuration parameter is used to specify a string value that will be included in the audit log when the edb\_audit parameter is set to csv or xml.

The following steps describe how to configure Advanced Server to log all connections, disconnections, DDL statements, and any statements resulting in an error. The resulting audit file will rotate every Sunday.

1.  Enable auditing by the setting the edb\_audit parameter to xml or csv.

2.  Set the file rotation day when the new file will be created by setting the parameter edb\_audit\_rotation\_day to sun.

3.  To audit all connections, set the parameter, edb\_audit\_connect, to all.

4.  To audit all disconnections, set the parameter, edb\_audit\_disconnect, to all.

5.  To audit all DDL statements and error statements, set the parameter, edb\_audit\_statement, to ddl, error.

The following is the CSV and XML output when auditing is enabled:

**CSV Audit Log File**

,,,1452,,,2008-03-13 12:40:02 ,startup,"AUDIT: database system is ready"

enterprisedb,mgmtsvr,127.0.0.1(1266),1620,47d9595b.654,0,2008-03-13 12:42:03 ,connect,"AUDIT: connection authorized: user=enterprisedb database=mgmtsvr"

enterprisedb,mgmtsvr,127.0.0.1(1266),1620,47d9595b.654,1588,2008-03-13 12:42:08 ,ddl,"AUDIT: statement: drop table HILOSEQUENCES

"

enterprisedb,mgmtsvr,127.0.0.1(1266),1620,47d9595b.654,1590,2008-03-13 12:42:09 ,ddl,"AUDIT: statement: create table HILOSEQUENCES (

SEQUENCENAME varchar(50) not null,

HIGHVALUES integer not null,

constraint hilo\_pk primary key (SEQUENCENAME)

)

"

enterprisedb,edb,127.0.0.1(1269),904,47d9598d.388,0,2008-03-13 12:42:53 ,connect,"AUDIT: connection authorized: user=enterprisedb database=edb"

enterprisedb,edb,127.0.0.1(1269),904,47d9598d.388,1618,2008-03-13 12:43:02 ,ddl,"AUDIT: statement: CREATE TABLE test (f1 INTEGER);"

enterprisedb,edb,127.0.0.1(1269),904,47d9598d.388,1620,2008-03-13 12:43:02 ,sql statement,"AUDIT: statement: SELECT \* FROM testx;"

enterprisedb,edb,127.0.0.1(1269),904,47d9598d.388,1620,2008-03-13 12:43:02 ,error,"ERROR: relation "testx" does not exist"

enterprisedb,edb,127.0.0.1(1269),904,47d9598d.388,1621,2008-03-13 12:43:04 ,ddl,"AUDIT: statement: DROP TABLE test;"

enterprisedb,edb,127.0.0.1(1269),904,47d9598d.388,0,2008-03-13 12:43:20 ,disconnect,"AUDIT: disconnection: session time: 0:00:26.953 user=enterprisedb database=edb host=127.0.0.1 port=1269"

enterprisedb,mgmtsvr,127.0.0.1(1266),1620,47d9595b.654,0,2008-03-13 12:43:29 ,disconnect,"AUDIT: disconnection: session time: 0:01:26.594 user=enterprisedb database=mgmtsvr host=127.0.0.1 port=1266"

,,,3148,,,2008-03-13 12:43:35 ,shutdown,"AUDIT: database system is shut down"

**XML Audit Log File**

\<event process\_id="2516" time="2008-03-13 13:22:42 " type="startup"\>

\<message\>AUDIT: database system is ready\</message\>

\</event\>

\<event user="enterprisedb" database="mgmtsvr" remote\_host\_and\_port="127.0.0.1(1281)"

process\_id="352" session\_id="47d96338.160" transaction="0"

time="2008-03-13 13:24:08 " type="connect"\>

\<message\>AUDIT: connection authorized: user=enterprisedb

database=mgmtsvr\</message\>

\</event\>

\<event user="enterprisedb" database="mgmtsvr" remote\_host\_and\_port="127.0.0.1(1281)"

process\_id="352" session\_id="47d96338.160" transaction="1635"

time="2008-03-13 13:24:10 " type="ddl"\>

\<command\>AUDIT: statement: drop table HILOSEQUENCES\</command\>

\</event\>

\<event user="enterprisedb" database="mgmtsvr" remote\_host\_and\_port="127.0.0.1(1281)"

process\_id="352" session\_id="47d96338.160" transaction="1637"

time="2008-03-13 13:24:10 " type="ddl"\>

\<command\>AUDIT: statement: create table HILOSEQUENCES (

SEQUENCENAME varchar(50) not null,

HIGHVALUES integer not null,

constraint hilo\_pk primary key (SEQUENCENAME)

)\</command\>

\</event\>

\<event user="enterprisedb" database="edb" remote\_host\_and\_port="127.0.0.1(1283)"

process\_id="3776" session\_id="47d96378.ec0" transaction="0"

time="2008-03-13 13:25:12 " type="connect"\>

\<message\>AUDIT: connection authorized: user=enterprisedb database=edb\</message\>

\</event\>

\<event user="enterprisedb" database="edb" remote\_host\_and\_port="127.0.0.1(1283)"

process\_id="3776" session\_id="47d96378.ec0" transaction="1667"

time="2008-03-13 13:25:17 " type="ddl"\>

\<command\>AUDIT: statement: CREATE TABLE test (f1 INTEGER);\</command\>

\</event\>

\<event user="enterprisedb" database="edb" remote\_host\_and\_port="127.0.0.1(1283)"

process\_id="3776" session\_id="47d96378.ec0" transaction="1669"

time="2008-03-13 13:25:17 " type="sql statement"\>

\<command\>AUDIT: statement: SELECT \* FROM testx;\</command\>

\</event\>

\<event user="enterprisedb" database="edb" remote\_host\_and\_port="127.0.0.1(1283)"

process\_id="3776" session\_id="47d96378.ec0" transaction="1669"

time="2008-03-13 13:25:17 " type="error"\>

\<message\>ERROR: relation \&quot;testx\&quot; does not exist\</message\>

\</event\>

\<event user="enterprisedb" database="edb" remote\_host\_and\_port="127.0.0.1(1283)"

process\_id="3776" session\_id="47d96378.ec0" transaction="1670"

time="2008-03-13 13:25:18 " type="ddl"\>

\<command\>AUDIT: statement: DROP TABLE test;\</command\>

\</event\>

\<event user="enterprisedb" database="edb" remote\_host\_and\_port="127.0.0.1(1283)"

process\_id="3776" session\_id="47d96378.ec0" transaction="0"

time="2008-03-13 13:25:22 " type="disconnect"\>

\<message\>AUDIT: disconnection: session time: 0:00:10.094 user=enterprisedb

database=edb host=127.0.0.1 port=1283\</message\>

\</event\>

\<event user="enterprisedb" database="mgmtsvr" remote\_host\_and\_port="127.0.0.1(1281)"

process\_id="352" session\_id="47d96338.160" transaction="0"

time="2008-03-13 13:25:31 " type="disconnect"\>

\<message\>AUDIT: disconnection: session time: 0:01:23.046 user=enterprisedb

database=mgmtsvr host=127.0.0.1 port=1281\</message\>

\</event\>

\<event process\_id="2768" time="2008-03-13 13:25:36 " type="shutdown"\>

\<message\>AUDIT: database system is shut down\</message\>

\</event\>

## Unicode Collation Algorithm

The *Unicode Collation Algorithm* (UCA) is a specification (*Unicode Technical Report \#10*) that defines a customizable method of collating and comparing Unicode data. *Collation* means how data is sorted as with a SELECT … ORDER BY clause. *Comparison* is relevant for searches that use ranges with less than, greater than, or equal to operators.

Customizability is an important factor for various reasons such as the following.
 - Unicode supports a vast number of languages. Letters that may be common to several languages may be expected to collate in different orders depending upon the language.
 - Characters that appear with letters in certain languages such as accents or umlauts have an impact on the expected collation depending upon the language.
 - In some languages, combinations of several consecutive characters should be treated as a single character with regards to its collation sequence.
 - There may be certain preferences as to the collation of letters according to case. For example, should the lowercase form of a letter collate before the uppercase form of the same letter or vice versa.
 - There may be preferences as to whether punctuation marks such as underscore characters, hyphens, or space characters should be considered in the collating sequence or should they simply be ignored as if they did not exist in the string.

Given all of these variations with the vast number of languages supported by Unicode, there is a necessity for a method to select the specific criteria for determining a collating sequence. This is what the Unicode Collation Algorithm defines.

**Note:** In addition, another advantage for using ICU collations (the implementation of the Unicode Collation Algorithm) is for performance. Sorting tasks, including B-tree index creation, can complete in less than half the time it takes with a non-ICU collation. The exact performance gain depends on your operating system version, the language of your text data, and other factors.

The following sections provide a brief, simplified explanation of the Unified Collation Algorithm concepts. As the algorithm and its usage are quite complex with numerous variations, refer to the official documents cited in these sections for complete details.

### Basic Unicode Collation Algorithm Concepts

The official information for the Unicode Collation Algorithm is specified in *Unicode Technical Report \#10*, which can be found on The Unicode Consortium website at:

<http://www.unicode.org/reports/tr10/>

The ICU – International Components for Unicode also provides much useful information. An explanation of the collation concepts can be found on their website located at:

<http://userguide.icu-project.org/collation/concepts>

The basic concept behind the Unicode Collation Algorithm is the use of multilevel comparison. This means that a number of levels are defined, which are listed as level 1 through level 5 in the following bullet points. Each level defines a type of comparison. Strings are first compared using the primary level, also called level 1.

If the order can be determined based on the primary level, then the algorithm is done. If the order cannot be determined based on the primary level, then the secondary level, level 2, is applied. If the order can be determined based on the secondary level, then the algorithm is done, otherwise the tertiary level is applied, and so on. There is typically, a final tie-breaking level to determine the order if it cannot be resolved by the prior levels.
 - **Level 1 – Primary Level for Base Characters.** The order of basic characters such as letters and digits determines the difference such as A \< B.
 - **Level 2 – Secondary Level for Accents.** If there are no primary level differences, then the presence or absence of accents and other such characters determine the order such as a \< á.
 - **Level 3 – Tertiary Level for Case.** If there are no primary level or secondary level differences, then a difference in case determines the order such as a \< A.
 - **Level 4 – Quaternary Level for Punctuation.** If there are no primary, secondary, or tertiary level differences, then the presence or absence of white space characters, control characters, and punctuation determine the order such as -A \< A.
 - **Level 5 – Identical Level for Tie-Breaking.** If there are no primary, secondary, tertiary, or quaternary level differences, then some other difference such as the code point values determines the order.

### International Components for Unicode

The Unicode Collation Algorithm is implemented by open source software provided by the *International Components for Unicode* (ICU). The software is a set of C/C++ and Java libraries.

When Advanced Server is used to create a collation that invokes the ICU components to produce the collation, the result is referred to as an *ICU collation*.

#### Locale Collations

When creating a collation for a locale, a predefined ICU short form name for the given locale is typically provided.

An *ICU short form* is a method of specifying *collation attributes*, which are the properties of a collation. Section <span class="underline">2.3.2.2</span> provides additional information on collation attributes.

There are predefined ICU short forms for locales. The ICU short form for a locale incorporates the collation attribute settings typically used for the given locale. This simplifies the collation creation process by eliminating the need to specify the entire list of collation attributes for that locale.

The system catalog pg\_catalog.pg\_icu\_collate\_names contains a list of the names of the ICU short forms for locales. The ICU short form name is listed in column icu\_short\_form.

edb=\# SELECT icu\_short\_form, valid\_locale FROM pg\_icu\_collate\_names ORDER BY valid\_locale;

icu\_short\_form | valid\_locale

\----------------+--------------

LAF | af

LAR | ar

LAS | as

LAZ | az

LBE | be

LBG | bg

LBN | bn

LBS | bs

LBS\_ZCYRL | bs\_Cyrl

LROOT | ca

LROOT | chr

LCS | cs

LCY | cy

LDA | da

LROOT | de

LROOT | dz

LEE | ee

LEL | el

LROOT | en

LROOT | en\_US

LEN\_RUS\_VPOSIX | en\_US\_POSIX

LEO | eo

LES | es

LET | et

LFA | fa

LFA\_RAF | fa\_AF

.

.

.

If needed, the default characteristics of an ICU short form for a given locale can be overridden by specifying the collation attributes to override that property. This is discussed in the next section.

#### Collation Attributes

When creating an ICU collation, the desired characteristics of the collation must be specified. As discussed in Section <span class="underline">2.3.2.1</span>, this can typically be done with an ICU short form for the desired locale. However, if more specific information is required, the specification of the collation properties can be done by using *collation attributes*.

Collation attributes define the rules of how characters are to be compared for determining the collation sequence of text strings. As Unicode covers a vast set of languages in numerous variations according to country, territory and culture, these collation attributes are quite complex.

For the complete, precise meaning and usage of collation attributes, see Section 13 “Collator Naming Scheme” on the ICU – International Components for Unicode website at:

<http://userguide.icu-project.org/collation/concepts>

The following is a brief summary of the collation attributes and how they are specified using the ICU short form method

Each collation attribute is represented by an uppercase letter, which are listed in the following bullet points. The possible valid values for each attribute are given by codes shown within the parentheses. Some codes have general meanings for all attributes. **X** means to set the attribute off. **O** means to set the attribute on. **D** means to set the attribute to its default value.
 - **A – Alternate (N, S, D).** Handles treatment of *variable* characters such as white spaces, punctuation marks, and symbols. When set to non-ignorable (N), differences in variable characters are treated with the same importance as differences in letters. When set to shifted (S), then differences in variable characters are of minor importance (that is, the variable character is ignored when comparing base characters).
 - **C – Case First (X, L, U, D).** Controls whether a lowercase letter sorts before the same uppercase letter (L), or the uppercase letter sorts before the same lowercase letter (U). Off (X) is typically specified when lowercase first (L) is desired.
 - **E – Case Level (X, O, D).** Set in combination with the Strength attribute, the Case Level attribute is used when accents are to be ignored, but not case.
 - **F – French Collation (X, O, D).** When set to on, secondary differences (presence of accents) are sorted from the back of the string as done in the French Canadian locale.
 - **H – Hiragana Quaternary (X, O, D).** Introduces an additional level to distinguish between the Hiragana and Katakana characters for compatibility with the JIS X 4061 collation of Japanese character strings.
 - **N – Normalization Checking (X, O, D).** Controls whether or not text is thoroughly normalized for comparison. Normalization deals with the issue of canonical equivalence of text whereby different code point sequences represent the same character, which then present issues when sorting or comparing such characters. Languages such as Arabic, ancient Greek, Hebrew, Hindi, Thai, or Vietnamese should be used with Normalization Checking set to on.
 - **S – Strength (1, 2, 3, 4, I, D).** Maximum collation level used for comparison. Influences whether accents or case are taken into account when collating or comparing strings. Each number represents a level. A setting of I represents identical strength (that is, level 5).
 - **T – Variable Top (hexadecimal digits).** Applicable only when the Alternate attribute is not set to non-ignorable (N). The hexadecimal digits specify the highest character sequence that is to be considered ignorable. For example, if white space is to be ignorable, but visible variable characters are not to be ignorable, then Variable Top set to 0020 would be specified along with the Alternate attribute set to S and the Strength attribute set to 3. (The space character is hexadecimal 0020. Other non-visible variable characters such as backspace, tab, line feed, carriage return, etc. have values less than 0020. All visible punctuation marks have values greater than 0020.)

A set of collation attributes and their values is represented by a text string consisting of the collation attribute letter concatenated with the desired attribute value. Each attribute/value pair is joined to the next pair with an underscore character as shown by the following example.

> AN\_CX\_EX\_FX\_HX\_NO\_S3

Collation attributes can be specified along with a locale’s ICU short form name to override those default attribute settings of the locale.

The following is an example where the ICU short form named LROOT is modified with a number of other collation attribute/value pairs.

> AN\_CX\_EX\_LROOT\_NO\_S3

In the preceding example, the Alternate attribute (A) is set to non-ignorable (N). The Case First attribute (C) is set to off (X). The Case Level attribute (E) is set to off (X). The Normalization attribute (N) is set to on (O). The Strength attribute (S) is set to the tertiary level 3. LROOT is the ICU short form to which these other attributes are applying modifications.

### Creating an ICU Collation

Creating an ICU collation can be done a number of different ways.
 - When creating a new database cluster with the initdb command, the --icu-short-form option can be specified to define the ICU collation to be used by default by all databases in the cluster.
 - When creating a new database with the CREATE DATABASE command, the ICU\_SHORT\_FORM parameter can be specified to define the ICU collation to be used by default in that database.
 - In an existing database, the CREATE COLLATION command can be used with the ICU\_SHORT\_FORM parameter to define an ICU collation to be used under specific circumstances such as when assigned with the COLLATE clause onto selected columns of certain tables or when appended with the COLLATE clause onto an expression such as ORDER BY *expr* COLLATE "*collation\_name*".

The following describes the various ways of creating an ICU collation.

#### CREATE COLLATION

Use the ICU\_SHORT\_FORM parameter with the CREATE COLLATION command to create an ICU collation:

> CREATE COLLATION *collation\_name* (
>
> \[ LOCALE = *locale*, \]
>
> \[ LC\_COLLATE = *lc\_collate*, \]
>
> \[ LC\_CTYPE = *lc\_ctype*, \]
>
> \[ ICU\_SHORT\_FORM = *icu\_short\_form* \]
>
> );

To be able to create a collation, you must have CREATE privilege on the destination schema where the collation is to reside.

For information about the general usage of the CREATE COLLATION command, please refer to the PostgreSQL core documentation available at:

<http://www.postgresql.org/docs/9.5/static/sql-createcollation.html>

UTF-8 character encoding of the database is required. Any LOCALE, or LC\_COLLATE and LC\_CTYPE settings that are accepted with UTF-8 encoding can be used.

**Parameters**

*collation\_name*

The name of the collation to be added. The collation\_name may be schema-qualified.

*locale*

The locale to be used. Short cut for setting LC\_COLLATE and LC\_TYPE. If LOCALE is specified, then LC\_COLLATE and LC\_TYPE must be omitted.

*lc\_collate*

The collation to be used. If LC\_CTYPE is specified, then LC\_COLLATE must also be specified and LOCALE must be omitted.

*lc\_ctype*

The character classification to be used. If LC\_COLLATE is specified, then LC\_CTYPE must also be specified and LOCALE must be omitted.

*icu\_short\_form*

The text string specifying the collation attributes and their settings. This typically consists of an ICU short form name, possibly appended with additional collation attribute/value pairs. A list of ICU short form names is available from column icu\_short\_form in system catalog pg\_catalog.pg\_icu\_collate\_names.

**Example**

The following creates a collation using the LROOT ICU short form.

edb=\# CREATE COLLATION icu\_collate\_a (LOCALE = 'en\_US.UTF8', ICU\_SHORT\_FORM = 'LROOT');

CREATE COLLATION

The definition of the new collation can be seen with the following psql command.

edb=\# \\dO

List of collations

Schema | Name | Collate | Ctype | ICU

\--------------+---------------+------------+------------+-------

enterprisedb | icu\_collate\_a | en\_US.UTF8 | en\_US.UTF8 | LROOT

(1 row)

#### CREATE DATABASE

The following is the syntax for creating a database with an ICU collation:

> CREATE DATABASE *database\_name*
>
> \[ \[ WITH \] \[ OWNER \[=\] *user\_name* \]
>
> \[ TEMPLATE \[=\] *template* \]
>
> \[ ENCODING \[=\] *encoding* \]
>
> \[ LC\_COLLATE \[=\] *lc\_collate* \]
>
> \[ LC\_CTYPE \[=\] *lc\_ctype* \]
>
> \[ TABLESPACE \[=\] *tablespace\_name* \]
>
> \[ CONNECTION LIMIT \[=\] *connlimit* \]
>
> \[ ICU\_SHORT\_FORM \[=\] *icu\_short\_form* \]\];

For complete information about the general usage, syntax, and parameters of the CREATE DATABASE command, please refer to the PostgreSQL core documentation available at:

<http://www.postgresql.org/docs/9.5/static/sql-createdatabase.html>

When using the CREATE DATABASE command to create a database using an ICU collation, the TEMPLATE template0 clause must be specified and the database encoding must be UTF-8.

The following is an example of creating a database using the LROOT ICU short form collation, but sorts an uppercase form of a letter before its lowercase counterpart (CU) and treats variable characters as non-ignorable (AN).

CREATE DATABASE collation\_db

TEMPLATE template0

ENCODING 'UTF8'

ICU\_SHORT\_FORM = 'AN\_CU\_EX\_NX\_LROOT';

The following psql command shows the newly created database.

edb=\# \\l collation\_db

List of databases

Name | Owner | Encoding | Collate | Ctype | ICU | Access privileges

\--------------+--------------+----------+-------------+-------------+-------------------+-------------------

collation\_db | enterprisedb | UTF8 | en\_US.UTF-8 | en\_US.UTF-8 | AN\_CU\_EX\_NX\_LROOT |

(1 row)

The following table is created and populated with rows in the database.

CREATE TABLE collate\_tbl (

id INTEGER,

c2 VARCHAR(2)

);

INSERT INTO collate\_tbl VALUES (1, 'A');

INSERT INTO collate\_tbl VALUES (2, 'B');

INSERT INTO collate\_tbl VALUES (3, 'C');

INSERT INTO collate\_tbl VALUES (4, 'a');

INSERT INTO collate\_tbl VALUES (5, 'b');

INSERT INTO collate\_tbl VALUES (6, 'c');

INSERT INTO collate\_tbl VALUES (7, '1');

INSERT INTO collate\_tbl VALUES (8, '2');

INSERT INTO collate\_tbl VALUES (9, '.B');

INSERT INTO collate\_tbl VALUES (10, '-B');

INSERT INTO collate\_tbl VALUES (11, ' B');

The following query shows that the uppercase form of a letter sorts before the lowercase form of the same base letter, and in addition, variable characters are taken into account when sorted as they appear at the beginning of the sort list. (The default behavior for en\_US.UTF-8 is to sort the lowercase form of a letter before the uppercase form of the same base letter, and to ignore variable characters.)

collation\_db=\# SELECT id, c2 FROM collate\_tbl ORDER BY c2;

id | c2

\----+----

11 | B

10 | -B

9 | .B

7 | 1

8 | 2

1 | A

4 | a

2 | B

5 | b

3 | C

6 | c

(11 rows)

#### initdb

A database cluster can be created with a default ICU collation for all databases in the cluster by using the --icu-short-form option with the initdb command.

For complete information about the general usage, syntax, and parameters of the initdb command, please refer to the PostgreSQL core documentation available at:

<http://www.postgresql.org/docs/9.5/static/app-initdb.html>

The following illustrates this process.

$ su enterprisedb

Password:

$ /opt/PostgresPlus/9.5AS/bin/initdb -U enterprisedb -D /tmp/collation\_data --encoding UTF8 --icu-short-form 'AN\_CU\_EX\_NX\_LROOT'

The files belonging to this database system will be owned by user "enterprisedb".

This user must also own the server process.

The database cluster will be initialized with locale "en\_US.UTF-8".

The default text search configuration will be set to "english".

Data page checksums are disabled.

creating directory /tmp/collation\_data ... ok

creating subdirectories ... ok

.

.

.

Success. You can now start the database server using:

/opt/PostgresPlus/9.5AS/bin/edb-postgres -D /tmp/collation\_data

or

/opt/PostgresPlus/9.5AS/bin/pg\_ctl -D /tmp/collation\_data -l logfile start

The following shows the databases created in the cluster which all have an ICU collation of AN\_CU\_EX\_NX\_LROOT.

edb=\# \\l

List of databases

Name | Owner | Encoding | Collate | Ctype | ICU | Access privileges

\-----------+--------------+----------+-------------+-------------+-------------------+-------------------------------

edb | enterprisedb | UTF8 | en\_US.UTF-8 | en\_US.UTF-8 | AN\_CU\_EX\_NX\_LROOT |

postgres | enterprisedb | UTF8 | en\_US.UTF-8 | en\_US.UTF-8 | AN\_CU\_EX\_NX\_LROOT |

template0 | enterprisedb | UTF8 | en\_US.UTF-8 | en\_US.UTF-8 | AN\_CU\_EX\_NX\_LROOT | =c/enterprisedb +

| | | | | | enterprisedb=CTc/enterprisedb

template1 | enterprisedb | UTF8 | en\_US.UTF-8 | en\_US.UTF-8 | AN\_CU\_EX\_NX\_LROOT | =c/enterprisedb +

| | | | | | enterprisedb=CTc/enterprisedb

(4 rows)

### Using a Collation

A newly defined ICU collation can be used anywhere the COLLATION "*collation\_name*" clause can be used in a SQL command such as in the column specifications of the CREATE TABLE command or appended to an expression in the ORDER BY clause of a SELECT command.

The following are some examples of the creation and usage of ICU collations based on the English language in the United States (en\_US.UTF8).

In these examples, ICU collations are created with the following characteristics.

Collation icu\_collate\_lowercase forces the lowercase form of a letter to sort before its uppercase counterpart (CL).

Collation icu\_collate\_uppercase forces the uppercase form of a letter to sort before its lowercase counterpart (CU).

Collation icu\_collate\_ignore\_punct causes variable characters (white space and punctuation marks) to be ignored during sorting (AS).

Collation icu\_collate\_ignore\_white\_sp causes white space and other non-visible variable characters to be ignored during sorting, but visible variable characters (punctuation marks) are not ignored (AS, T0020).

CREATE COLLATION icu\_collate\_lowercase (

LOCALE = 'en\_US.UTF8',

ICU\_SHORT\_FORM = 'AN\_CL\_EX\_NX\_LROOT'

);

CREATE COLLATION icu\_collate\_uppercase (

LOCALE = 'en\_US.UTF8',

ICU\_SHORT\_FORM = 'AN\_CU\_EX\_NX\_LROOT'

);

CREATE COLLATION icu\_collate\_ignore\_punct (

LOCALE = 'en\_US.UTF8',

ICU\_SHORT\_FORM = 'AS\_CX\_EX\_NX\_LROOT\_L3'

);

CREATE COLLATION icu\_collate\_ignore\_white\_sp (

LOCALE = 'en\_US.UTF8',

ICU\_SHORT\_FORM = 'AS\_CX\_EX\_NX\_LROOT\_L3\_T0020'

);

**Note:** When creating collations, ICU may generate notice and warning messages when attributes are given to modify the LROOT collation.

The following psql command lists the collations.

edb=\# \\dO

List of collations

Schema | Name | Collate | Ctype | ICU

\--------------+-----------------------------+------------+------------+----------------------------

enterprisedb | icu\_collate\_ignore\_punct | en\_US.UTF8 | en\_US.UTF8 | AS\_CX\_EX\_NX\_LROOT\_L3

enterprisedb | icu\_collate\_ignore\_white\_sp | en\_US.UTF8 | en\_US.UTF8 | AS\_CX\_EX\_NX\_LROOT\_L3\_T0020

enterprisedb | icu\_collate\_lowercase | en\_US.UTF8 | en\_US.UTF8 | AN\_CL\_EX\_NX\_LROOT

enterprisedb | icu\_collate\_uppercase | en\_US.UTF8 | en\_US.UTF8 | AN\_CU\_EX\_NX\_LROOT

(4 rows)

The following table is created and populated.

CREATE TABLE collate\_tbl (

id INTEGER,

c2 VARCHAR(2)

);

INSERT INTO collate\_tbl VALUES (1, 'A');

INSERT INTO collate\_tbl VALUES (2, 'B');

INSERT INTO collate\_tbl VALUES (3, 'C');

INSERT INTO collate\_tbl VALUES (4, 'a');

INSERT INTO collate\_tbl VALUES (5, 'b');

INSERT INTO collate\_tbl VALUES (6, 'c');

INSERT INTO collate\_tbl VALUES (7, '1');

INSERT INTO collate\_tbl VALUES (8, '2');

INSERT INTO collate\_tbl VALUES (9, '.B');

INSERT INTO collate\_tbl VALUES (10, '-B');

INSERT INTO collate\_tbl VALUES (11, ' B');

The following query sorts on column c2 using the default collation. Note that variable characters (white space and punctuation marks) with id column values of 9, 10, and 11 are ignored and sort with the letter B.

edb=\# SELECT \* FROM collate\_tbl ORDER BY c2;

id | c2

\----+----

7 | 1

8 | 2

4 | a

1 | A

5 | b

2 | B

11 | B

10 | -B

9 | .B

6 | c

3 | C

(11 rows)

The following query sorts on column c2 using collation icu\_collate\_lowercase, which forces the lowercase form of a letter to sort before the uppercase form of the same base letter. Also note that the AN attribute forces variable characters to be included in the sort order at the same level when comparing base characters so rows with id values of 9, 10, and 11 appear at the beginning of the sort list before all letters and numbers.

edb=\# SELECT \* FROM collate\_tbl ORDER BY c2 COLLATE "icu\_collate\_lowercase";

id | c2

\----+----

11 | B

10 | -B

9 | .B

7 | 1

8 | 2

4 | a

1 | A

5 | b

2 | B

6 | c

3 | C

(11 rows)

The following query sorts on column c2 using collation icu\_collate\_uppercase, which forces the uppercase form of a letter to sort before the lowercase form of the same base letter.

edb=\# SELECT \* FROM collate\_tbl ORDER BY c2 COLLATE "icu\_collate\_uppercase";

id | c2

\----+----

11 | B

10 | -B

9 | .B

7 | 1

8 | 2

1 | A

4 | a

2 | B

5 | b

3 | C

6 | c

(11 rows)

The following query sorts on column c2 using collation icu\_collate\_ignore\_punct, which causes variable characters to be ignored so rows with id values of 9, 10, and 11 sort with the letter B as that is the character immediately following the ignored variable character.

edb=\# SELECT \* FROM collate\_tbl ORDER BY c2 COLLATE "icu\_collate\_ignore\_punct";

id | c2

\----+----

7 | 1

8 | 2

4 | a

1 | A

5 | b

11 | B

2 | B

9 | .B

10 | -B

6 | c

3 | C

(11 rows)

The following query sorts on column c2 using collation icu\_collate\_ignore\_white\_sp. The AS and T0020 attributes of the collation cause variable characters with code points less than or equal to hexadecimal 0020 to be ignored while variable characters with code points greater than hexadecimal 0020 are included in the sort.

The row with id value of 11, which starts with a space character (hexadecimal 0020) sorts with the letter B. The rows with id values of 9 and 10, which start with visible punctuation marks greater than hexadecimal 0020, appear at the beginning of the sort list as these particular variable characters are included in the sort order at the same level when comparing base characters.

edb=\# SELECT \* FROM collate\_tbl ORDER BY c2 COLLATE "icu\_collate\_ignore\_white\_sp";

id | c2

\----+----

10 | -B

9 | .B

7 | 1

8 | 2

4 | a

1 | A

5 | b

11 | B

2 | B

6 | c

3 | C

(11 rows)

## Profile Management

Advanced Server 9.5 allows a database superuser to create named *profiles*. Each profile defines rules for password management that augment password and md5 authentication. The rules in a profile can:
 - count failed login attempts
 - lock an account due to excessive failed login attempts
 - mark a password for expiration
 - define a grace period after a password expiration
 - define rules for password complexity
 - define rules that limit password re-use

A profile is a named set of password attributes that allow you to easily manage a group of roles that share comparable authentication requirements. If the password requirements change, you can modify the profile to have the new requirements applied to each user that is associated with that profile.

After creating the profile, you can associate the profile with one or more users. When a user connects to the server, the server enforces the profile that is associated with their login role. Profiles are shared by all databases within a cluster, but each cluster may have multiple profiles. A single user with access to multiple databases will use the same profile when connecting to each database within the cluster.

Advanced Server 9.5 creates a profile named default that is associated with a new role when the role is created unless an alternate profile is specified. If you upgrade to Advanced Server 9.5 from a previous server version, existing roles will automatically be assigned to the default profile. You cannot delete the default profile.

The default profile specifies the following attributes:

> FAILED\_LOGIN\_ATTEMPTS UNLIMITED
>
> PASSWORD\_LOCK\_TIME UNLIMITED
>
> PASSWORD\_LIFE\_TIME UNLIMITED
>
> PASSWORD\_GRACE\_TIME UNLIMITED
>
> PASSWORD\_REUSE\_TIME UNLIMITED
>
> PASSWORD\_REUSE\_MAX UNLIMITED
>
> PASSWORD\_VERIFY\_FUNCTION NULL

A database superuser can use the ALTER PROFILE command to modify the values specified by the default profile. For more information about modifying a profile, see Section <span class="underline">2.4.2</span>.

### Creating a New Profile

Use the CREATE PROFILE command to create a new profile. The syntax is:

> CREATE PROFILE *profile*\_*name*
> \[LIMIT {*parameter* *value*} ... \];

Include the LIMIT clause and one or more space-delimited *parameter*/*value* pairs to specify the rules enforced by Advanced Server.

**Parameters:**

> *profile\_name* specifies the name of the profile.
>
> *parameter* specifies the attribute limited by the profile.
>
> *value* specifies the parameter limit.

Advanced Server supports the *value* shown below for each *parameter*:

> FAILED\_LOGIN\_ATTEMPTS specifies the number of failed login attempts that a user may make before the server locks the user out of their account for the length of time specified by PASSWORD\_LOCK\_TIME. Supported values are:
 - An INTEGER value greater than 0.
 - DEFAULT - the value of FAILED\_LOGIN\_ATTEMPTS specified in the DEFAULT profile.
 - UNLIMITED – the connecting user may make an unlimited number of failed login attempts.

> PASSWORD\_LOCK\_TIME specifies the length of time that must pass before the server unlocks an account that has been locked because of FAILED\_LOGIN\_ATTEMPTS. Supported values are:
 - > A NUMERIC value greater than or equal to 0. To specify a fractional portion of a day, specify a decimal value. For example, use the value 4.5 to specify 4 days, 12 hours.
 - > DEFAULT - the value of PASSWORD\_LOCK\_TIME specified in the DEFAULT profile.
 - > UNLIMITED – the account is locked until it is manually unlocked by a database superuser.

> PASSWORD\_LIFE\_TIME specifies the number of days that the current password may be used before the user is prompted to provide a new password. Include the PASSWORD\_GRACE\_TIME clause when using the PASSWORD\_LIFE\_TIME clause to specify the number of days that will pass after the password expires before connections by the role are rejected. If PASSWORD\_GRACE\_TIME is not specified, the password will expire on the day specified by the default value of PASSWORD\_GRACE\_TIME, and the user will not be allowed to execute any command until a new password is provided. Supported values are:
 - A NUMERIC value greater than or equal to 0. To specify a fractional portion of a day, specify a decimal value. For example, use the value 4.5 to specify 4 days, 12 hours.
 - DEFAULT - the value of PASSWORD\_LIFE\_TIME specified in the DEFAULT profile.
 - UNLIMITED – The password does not have an expiration date.

> PASSWORD\_GRACE\_TIME specifies the length of the grace period after a password expires until the user is forced to change their password. When the grace period expires, a user will be allowed to connect, but will not be allowed to execute any command until they update their expired password. Supported values are:
 - > A NUMERIC value greater than or equal to 0. To specify a fractional portion of a day, specify a decimal value. For example, use the value 4.5 to specify 4 days, 12 hours.
 - DEFAULT - the value of PASSWORD\_GRACE\_TIME specified in the DEFAULT profile.
 - UNLIMITED – The grace period is infinite.

> PASSWORD\_REUSE\_TIME specifies the number of days a user must wait before re-using a password. The PASSWORD\_REUSE\_TIME and PASSWORD\_REUSE\_MAX parameters are intended to be used together. If you specify a finite value for one of these parameters while the other is UNLIMITED, old passwords can never be reused. If both parameters are set to UNLIMITED there are no restrictions on password reuse. Supported values are:
 - A NUMERIC value greater than or equal to 0. To specify a fractional portion of a day, specify a decimal value. For example, use the value 4.5 to specify 4 days, 12 hours.
 - DEFAULT - the value of PASSWORD\_REUSE\_TIME specified in the DEFAULT profile.
 - UNLIMITED – The password can be re-used without restrictions.

> PASSWORD\_REUSE\_MAX specifies the number of password changes that must occur before a password can be reused. The PASSWORD\_REUSE\_TIME and PASSWORD\_REUSE\_MAX parameters are intended to be used together. If you specify a finite value for one of these parameters while the other is UNLIMITED, old passwords can never be reused. If both parameters are set to UNLIMITED there are no restrictions on password reuse. Supported values are:
 - An INTEGER value greater than or equal to 0.
 - DEFAULT - the value of PASSWORD\_REUSE\_MAX specified in the DEFAULT profile.
 - UNLIMITED – The password can be re-used without restrictions.

> PASSWORD\_VERIFY\_FUNCTION specifies password complexity. Supported values are:
 - The name of a PL/SQL function.
 - DEFAULT - the value of PASSWORD\_VERIFY\_FUNCTION specified in the DEFAULT profile.
 - NULL

**Notes**

Use DROP PROFILE command to remove the profile.

**Examples**

The following command creates a profile named acctg. The profile specifies that if a user has not authenticated with the correct password in five attempts, the account will be locked for one day:

CREATE PROFILE acctg LIMIT
FAILED\_LOGIN\_ATTEMPTS 5
PASSWORD\_LOCK\_TIME 1;

The following command creates a profile named sales. The profile specifies that a user must change their password every 90 days:

CREATE PROFILE sales LIMIT
PASSWORD\_LIFE\_TIME 90
PASSWORD\_GRACE\_TIME 3;

If the user has not changed their password before the 90 days specified in the profile has passed, they will be issued a warning at login. After a grace period of 3 days, their account will not be allowed to invoke any commands until they change their password.

The following command creates a profile named accts. The profile specifies that a user cannot re-use a password within 180 days of the last use of the password, and must change their password at least 5 times before re-using the password:

CREATE PROFILE accts LIMIT
PASSWORD\_REUSE\_TIME 180
PASSWORD\_REUSE\_MAX 5;

The following command creates a profile named resources; the profile calls a user-defined function named password\_rules that will verify that the password provided meets their standards for complexity:

CREATE PROFILE resources LIMIT
PASSWORD\_VERIFY\_FUNCTION password\_rules;

#### Creating a Password Function

When specifying PASSWORD\_VERIFY\_FUNCTION, you can provide a customized function that specifies the security rules that will be applied when your users change their password. For example, you can specify rules that stipulate that the new password must be at least *n* characters long, and may not contain a specific value.

The password function has the following signature:

> *function*\_*name* (*user*\_*name* VARCHAR2,
> *new*\_*password* VARCHAR2,
> *old*\_*password* VARCHAR2) RETURN boolean

**Where:**

> *user*\_*name* is the name of the user.
>
> *new*\_*password* is the new password.
>
> *old*\_*password* is the user's previous password. If you reference this parameter within your function:
>
> When a database superuser changes their password, the third parameter will always be NULL.
>
> When a user with the CREATEROLE attribute changes their password, the parameter will pass the previous password if the statement includes the REPLACE clause. Note that the REPLACE clause is optional syntax for a user with the CREATEROLE privilege.
>
> When a user that is not a database superuser and does not have the CREATEROLE attribute changes their password, the third parameter will contain the previous password for the role.

The function returns a Boolean value. If the function returns true and does not raise an exception, the password is accepted; if the function returns false or raises an exception, the password is rejected. If the function raises an exception, the specified error message is displayed to the user. If the function does not raise an exception, but returns false, the following error message is displayed:

ERROR: password verification for the specified password failed

The function must be owned by a database superuser, and reside in the sys schema.

**Example:**

The following example creates a profile and a custom function; then, the function is associated with the profile. The following CREATE PROFILE command creates a profile named acctg\_pwd\_profile:

CREATE PROFILE acctg\_pwd\_profile;

The following commands create a (schema-qualified) function named verify\_password:

CREATE OR REPLACE FUNCTION sys.verify\_password(user\_name varchar2, new\_password varchar2, old\_password varchar2)
RETURN boolean IMMUTABLE
IS
BEGIN
IF (length(new\_password) \< 5)
THEN
raise\_application\_error(-20001, 'too short');
END IF;

IF substring(new\_password FROM old\_password) IS NOT NULL
THEN
raise\_application\_error(-20002, 'includes old password');
END IF;

RETURN true;
END;

The function first ensures that the password is at least 5 characters long, and then compares the new password to the old password. If the new password contains fewer than 5 characters, or contains the old password, the function raises an error.

The following statement sets the ownership of the verify\_password function to the enterprisedb database superuser:

ALTER FUNCTION verify\_password(varchar2, varchar2, varchar2) OWNER TO enterprisedb;

Then, the verify\_password function is associated with the profile:

ALTER PROFILE acctg\_pwd\_profile LIMIT PASSWORD\_VERIFY\_FUNCTION verify\_password;

The following statements confirm that the function is working by first creating a test user (alice), and then attempting to associate invalid and valid passwords with her role:

CREATE ROLE alice WITH LOGIN PASSWORD 'temp\_password' PROFILE acctg\_pwd\_profile;

Then, when alice connects to the database and attempts to change her password, she must adhere to the rules established by the profile function. A non-superuser without CREATEROLE must include the REPLACE clause when changing a password:

edb=\> ALTER ROLE alice PASSWORD 'hey';

ERROR: missing REPLACE clause

The new password must be at least 5 characters long:

edb=\> ALTER USER alice PASSWORD 'hey' REPLACE 'temp\_password';

ERROR: EDB-20001: too short

CONTEXT: edb-spl function verify\_password(character varying,character varying,character varying) line 5 at procedure/function invocation statement

If the new password is acceptable, the command completes without error:

edb=\> ALTER USER alice PASSWORD 'hello' REPLACE 'temp\_password';

ALTER ROLE

If alice decides to change her password, the new password must not contain the old password:

edb=\> ALTER USER alice PASSWORD 'helloworld' REPLACE 'hello';

ERROR: EDB-20002: includes old password

CONTEXT: edb-spl function verify\_password(character varying,character varying,character varying) line 10 at procedure/function invocation statement

To remove the verify function, set password\_verify\_function to NULL:

ALTER PROFILE acctg\_pwd\_profile LIMIT password\_verify\_function NULL;

Then, all password constraints will be lifted:

edb=\# ALTER ROLE alice PASSWORD 'hey';

ALTER ROLE

### Altering a Profile

Use the ALTER PROFILE command to modify a user-defined profile; Advanced Server supports two forms of the command:

> ALTER PROFILE *profile*\_*name* RENAME TO *new*\_*name*;
>
> ALTER PROFILE *profile*\_*name*
> LIMIT {*parameter* *value*}\[...\];

Include the LIMIT clause and one or more space-delimited *parameter*/*value* pairs to specify the rules enforced by Advanced Server, or use ALTER PROFILE…RENAME TO to change the name of a profile.

**Parameters:**

> *profile\_name* specifies the name of the profile.
>
> *new\_name* specifies the new name of the profile.
>
> *parameter* specifies the attribute limited by the profile.
>
> *value* specifies the parameter limit.

See the table in Section <span class="underline">2.4.1</span> for a complete list of accepted parameter/value pairs.

**Examples**

The following example modifies a profile named acctg\_profile:

ALTER PROFILE acctg\_profile
LIMIT FAILED\_LOGIN\_ATTEMPTS 3 PASSWORD\_LOCK\_TIME 1;

acctg\_profile will count failed connection attempts when a login role attempts to connect to the server. The profile specifies that if a user has not authenticated with the correct password in three attempts, the account will be locked for one day.

The following example changes the name of acctg\_profile to payables\_profile:

ALTER PROFILE acctg\_profile RENAME TO payables\_profile;

### Dropping a Profile

Use the DROP PROFILE command to drop a profile. The syntax is:

> DROP PROFILE \[IF EXISTS\] *profile*\_*name* \[CASCADE|RESTRICT\];

Include the IF EXISTS clause to instruct the server to not throw an error if the specified profile does not exist. The server will issue a notice if the profile does not exist.

Include the optional CASCADE clause to reassign any users that are currently associated with the profile to the default profile, and then drop the profile. Include the optional RESTRICT clause to instruct the server to not drop any profile that is associated with a role. This is the default behavior.

**Parameters**

*profile\_name*

The name of the profile being dropped.

**Examples**

The following example drops a profile named acctg\_profile:

DROP PROFILE acctg\_profile CASCADE;

The command first re-associates any roles associated with the acctg\_profile profile with the default profile, and then drops the acctg\_profile profile.

The following example drops a profile named acctg\_profile:

DROP PROFILE acctg\_profile RESTRICT;

The RESTRICT clause in the command instructs the server to not drop acctg\_profile if there are any roles associated with the profile.

### Associating a Profile with an Existing Role

After creating a profile, you can use the ALTER USER… PROFILE or ALTER ROLE… PROFILE command to associate the profile with a role. The command syntax related to profile management functionality is:

> *ALTER USER|ROLE name \[\[WITH\] option\[…\]*
>
> where option can be the following clauses, compatible with Oracle usage:

PROFILE *profile*\_*name*

> | ACCOUNT {LOCK|UNLOCK}
>
> *| PASSWORD EXPIRE \[AT 'timestamp'\]*
>
> or option can be the following non-compatible clauses:
>
> *| PASSWORD SET AT 'timestamp'*
>
> | LOCK TIME *'timestamp'*
> *| STORE PRIOR PASSWORD* *{'password' 'timestamp} \[, ...\]*

For information about the administrative clauses of the ALTER USER or ALTER ROLE command that are supported by Advanced Server, please refer to the PostgreSQL core documentation available at:

<http://www.postgresql.org/docs/9.5/static/sql-commands.html>

Only a database superuser can use the ALTER USER|ROLE clauses that enforce profile management. The clauses enforce the following behaviors:

> Include the PROFILE clause and a *profile\_name* to associate a pre-defined profile with a role, or to change which pre-defined profile is associated with a user.
>
> Include the ACCOUNT clause and the LOCK or UNLOCK keyword to specify that the user account should be placed in a locked or unlocked state.
>
> Include the LOCK TIME *'timestamp'* clause and a date/time value to lock the role at the specified time, and unlock the role at the time indicated by the PASSWORD\_LOCK\_TIME parameter of the profile assigned to this role. If LOCK TIME is used with the ACCOUNT LOCK clause, the role can only be unlocked by a database superuser with the ACCOUNT UNLOCK clause.
>
> Include the PASSWORD EXPIRE clause with the AT *'timestamp'* keywords to specify a date/time when the password associated with the role will expire. If you omit the AT *'timestamp'* keywords, the password will expire immediately.
>
> Include the PASSWORD SET AT *'timestamp'* keywords to set the password modification date to the time specified.
>
> Include the STORE PRIOR PASSWORD *{'password' 'timestamp} \[, ...\]* clause to modify the password history, adding the new password and the time the password was set.

Each login role may only have one profile. To discover the profile that is currently associated with a login role, query the profile column of the DBA\_USERS view.

**Parameters**

*name*

The name of the role with which the specified profile will be associated.

*password*

> The password associated with the role.

*profile\_name*

The name of the profile that will be associated with the role.

*timestamp*

> The date and time at which the clause will be enforced. When specifying a value for *timestamp*, enclose the value in single-quotes.

**Examples**

The following command uses the ALTER USER… PROFILE command to associate a profile named acctg with a user named john:

ALTER USER john PROFILE acctg\_profile;

The following command uses the ALTER ROLE… PROFILE command to associate a profile named acctg with a user named john:

ALTER ROLE john PROFILE acctg\_profile;

### Unlocking a Locked Account

A database superuser can use clauses of the ALTER USER|ROLE… command to lock or unlock a role. The syntax is:

> *ALTER* *USER|ROLE* *name
> ACCOUNT* *{LOCK|UNLOCK}
> LOCK TIME 'timestamp'*

Include the ACCOUNT LOCK clause to lock a role immediately; when locked, a role’s LOGIN functionality is disabled. When you specify the ACCOUNT LOCK clause without the LOCK TIME clause, the state of the role will not change until a superuser uses the ACCOUNT UNLOCK clause to unlock the role.

Use the ACCOUNT UNLOCK clause to unlock a role.

Use the LOCK TIME *'timestamp'* clause to instruct the server to lock the account at the time specified by the given timestamp for the length of time specified by the PASSWORD\_LOCK\_TIME parameter of the profile associated with this role.

Combine the LOCK TIME *'timestamp'* clause and the ACCOUNT LOCK clause to lock an account at a specified time until the account is unlocked by a superuser invoking the ACCOUNT UNLOCK clause.

**Parameters**

*name*

The name of the role that is being locked or unlocked.

*timestamp*

> The date and time at which the role will be locked. When specifying a value for *timestamp*, enclose the value in single-quotes.

**Note**

This command (available only in Advanced Server) is implemented to support Oracle-styled profile management.

**Examples**

The following example uses the ACCOUNT LOCK clause to lock the role named john. The account will remain locked until the account is unlocked with the ACCOUNT UNLOCK clause:

ALTER ROLE john ACCOUNT LOCK;

The following example uses the ACCOUNT UNLOCK clause to unlock the role named john:

ALTER USER john ACCOUNT UNLOCK;

The following example uses the LOCK TIME *'timestamp'* clause to lock the role named john on September 4, 2015:

ALTER ROLE john LOCK TIME ‘September 4 12:00:00 2015’;

The role will remain locked for the length of time specified by the PASSWORD\_LOCK\_TIME parameter.

The following example combines the LOCK TIME *'timestamp'* clause and the ACCOUNT LOCK clause to lock the role named john on September 4, 2015:

ALTER ROLE john LOCK TIME ‘September 4 12:00:00 2015’ ACCOUNT LOCK;

The role will remain locked until a database superuser uses the ACCOUNT UNLOCK command to unlock the role.

### Creating a New Role Associated with a Profile

A database superuser can use clauses of the CREATE USER|ROLE command to assign a named profile to a role when creating the role, or to specify profile management details for a role. The command syntax related to profile management functionality is:

> CREATE USER|ROLE *name* \[\[WITH\] *option* \[…\]\]
>
> where option can be the following clauses compatible with Oracle databases:
>
> PROFILE *profile*\_*name*
> | ACCOUNT {LOCK|UNLOCK}
> *| PASSWORD EXPIRE \[AT 'timestamp'\]*
>
> or option can be the following non-compatible clauses:
>
> | LOCK TIME *'timestamp'*

For information about the administrative clauses of the CREATE USER or CREATE ROLE command that are supported by Advanced Server, please refer to the PostgreSQL core documentation available at:

<http://www.postgresql.org/docs/9.5/static/sql-commands.html>

CREATE ROLE|USER… PROFILE adds a new role with an associated profile to an Advanced Server database cluster.

*Roles created with the* CREATE USER *command are (by default) login roles. Roles created with the* CREATE ROLE *command are (by default) not login roles. To create a login account with the* CREATE ROLE *command, you must include the* LOGIN *keyword.*

Only a database superuser can use the CREATE USER|ROLE clauses that enforce profile management; these clauses enforce the following behaviors:

> Include the PROFILE clause and a *profile\_name* to associate a pre-defined profile with a role, or to change which pre-defined profile is associated with a user.
>
> Include the ACCOUNT clause and the LOCK or UNLOCK keyword to specify that the user account should be placed in a locked or unlocked state.
>
> Include the LOCK TIME *'timestamp'* clause and a date/time value to lock the role at the specified time, and unlock the role at the time indicated by the PASSWORD\_LOCK\_TIME parameter of the profile assigned to this role. If LOCK TIME is used with the ACCOUNT LOCK clause, the role can only be unlocked by a database superuser with the ACCOUNT UNLOCK clause.
>
> Include the PASSWORD EXPIRE clause with the optional AT *'timestamp'* keywords to specify a date/time when the password associated with the role will expire. If you omit the AT *'timestamp'* keywords, the password will expire immediately.

Each login role may only have one profile. To discover the profile that is currently associated with a login role, query the profile column of the DBA\_USERS view.

**Parameters**

*name*

The name of the role.

*profile\_name*

The name of the profile associated with the role.

*timestamp*

> The date and time at which the clause will be enforced. When specifying a value for *timestamp*, enclose the value in single-quotes.

**Examples**

The following example uses CREATE USER to create a login role named john who is associated with the acctg\_profile profile:

CREATE USER john PROFILE acctg\_profile IDENTIFIED BY “1safepwd”;

john can log in to the server, using the password 1safepwd.

The following example uses CREATE ROLE to create a login role named john who is associated with the acctg\_profile profile:

CREATE ROLE john PROFILE acctg\_profile LOGIN PASSWORD “1safepwd”;

john can log in to the server, using the password 1safepwd.

### Backing up Profile Management Functions

A profile may include a PASSWORD\_VERIFY\_FUNCTION clause that refers to a user-defined function that specifies the behavior enforced by Advanced Server. Profiles are global objects; they are shared by all of the databases within a cluster. While profiles are global objects, user-defined functions are database objects.

Invoking pg\_dumpall with the –g or –r option will create a script that recreates the definition of any existing profiles, but that does not recreate the user-defined functions that are referred to by the PASSWORD\_VERIFY\_FUNCTION clause. You should use the pg\_dump utility to explicitly dump (and later restore) the database in which those functions reside.

The script created by pg\_dump will contain a command that includes the clause and function name:

> ALTER PROFILE… LIMIT PASSWORD\_VERIFY\_FUNCTION *function\_name*

to associate the restored function with the profile with which it was previously associated.

If the PASSWORD\_VERIFY\_FUNCTION clause is set to DEFAULT or NULL, the behavior will be replicated by the script generated by the pg\_dumpall –g or pg\_dumpall –r command.

