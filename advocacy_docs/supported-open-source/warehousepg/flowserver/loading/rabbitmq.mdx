---
title: Loading Kafka data into WareHousePG 
navTitle: Loading Kafka data into WarehousePG
description: Learn how to load Kafka data into WareHousePG with FlowServer.
---

Load data into a WareHousePG table

1. Ensure that you meet the prerequisites.
1. Identify the source and the format of the data and construct the load configuration file.
1. Create the target table on WHPG.
1. Assign WHPG role permissions to the table, if required.
1. Run the FlowCLI client.
1. Verify the load operation.

## Prerequisites

You have installed, configured and started the FlowServer service.

## Construct the load configuration file

Configure a load operation from a data source to WareHousePG via a YAML-formatted configuration file.

This configuration file includes properties that identify the data source and format, information about the WareHousePG connection and target table, and error and commit thresholds for the operation.

FlowServer supports some pre-defined data formats, including Avro, json, and csv.

(What version of configuration file do we support???)

Refer to Constructing the gpkafka.yaml Configuration File for the YAML file format for a Kafka data source, or Constructing the rabbitmq.yaml Configuration File for a RabbitMQ data source.

## Create the target table on WHPG

You must create a target WHPG table before you initiate a data load operation to WHPG from a FlowServer. You must be able to identify both the schema name and table name of the target table.

## Configuring WHPG role privileges

If you load data to WHPG from a FlowServer client using a non-admin WHPG user/role, you must assign the role certain privileges:

- The role must have USAGE and CREATE privileges on any non-public database schema where:

## Start the job using FlowCLI

Use FlowCLI to load data into WareHousePG using FlowServer. You can run FlowCLI from any host where you installed the FlowServer package.

A typical command workflow when using FlowCLI to load data into WHPG follows:

- Submit a FlowServer job
- Start the job
- Monitor status
- Stop the job
- Remove the job


Refer to reference guide for more command options.

