---
title: 'Configuring the Integration'
description: 'Walkthrough on configuring Commvault Backup & Recovery'
---

Implementing Commvault Backup & Recovery with an EDB database requires the following components:

- EDB Postgres Advanced Server or EDB Postgres Extended Server
- Commvault Backup & Recovery software

## Prerequisites

- A running EDB Postgres Advanced Server or EDB Postgres Extended Server instance.
- Commvault Backup & Recovery installed.
- EDB Postgres Advanced Server or EDB Postgres Extended Server application path and library directory path (e.g. c:\Program Files\edb\as13\bin and c:\Program Files\edb\as13\lib).
- The login credentials used to access the EDB Postgres Advanced Server or EDB Postgres Extended Server database..
- EDB Postgres Advanced Server or EDB Postgres Extended Server archive log directory configured.

## Configure Commvault Backup & Recovery for EDB Postgres Advanced Server

### Core Setup Wizard
1. Run the Core Setup Wizard from Commvault Backup & Recovery's Command Center from the Machine where Commvault Backup & Recovery is installed. The wizard helps to set up a disk storage pool and to modify the server backup plan according to your requirements.
2. Setup Storage Pool/Disk Storage: From the Welcome page, click Let's get started. On the Disk tab, in the Name box, enter a name for the storage pool.
3. In the MediaAgent box, accept the default value.
4. Click Local on the radio button for Type.
5. In the Backup location box, click Browse to assign a path where backups will be stored.
6. To enable deduplication on the storage, move the Use deduplication toggle key to  the right, and in the Deduplication DB location box, browse to select the path to  the deduplication database.
7. To move to the next setup option, click Save.

<p align="center">
  <img  alt="Setup Storage Pool/Disk Storage" src="Images/DiskStorageConf.png">
</p>

8. Creating a Server Backup Plan in Core Setup: In order to create a server backup plan in Core Setup, define where the data is stored and how often must the data undergo a backup.
9. In the Plan name box,type the name of the plan e.g EPAS Server Plan.
10. In the Backup destinations section, select the Storage and Retention Period.
11. In the RPO section, select the Backup frequency and Start time for the backup to start as per the backup frequency.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/BackupPlanConf.png">
</p>

### Setup EDB Postgres Advanced Server
1. From the navigation pane, go to Protect > Databases.
2. Click Add server.
3. Select the database type for EDB Postgres Advanced server, which in this case is PostgreSQL.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/ServerAdd1.png">
</p>

4. In the Database server name box, enter the server name.
5. In the Username and Password boxes, enter the credentials to connect to the server.
6. From the Plan list, select the server plan created in step 8 under Core Server Wizard section for use with EDB Postgres Advanced Server.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/ServerAdd2.png">
</p>

7. Once the server is added, a Job will run to install a client on the Server. The screen shots below display the process from Job creation to software installation.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/ServerAdd3.png">
</p>

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/ServerAdd4.png">
</p>

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/ServerAdd5.png">
</p>

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/ServerAdd6.png">
</p>

### Setup EDB Postgres Advanced Server Instance
1. From the navigation pane, go to Protect > Databases > DB Instances.
2. Click Add instance, and then select PostgreSQL.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/CreateInstance1.png">
</p>

3. From the Server name list, select a server where you want to create the new instance.
4. In the Instance Name box, type the EDB Postgres Advanced Server instance name.
5. From the Plan list, select the server plan created in step 8 under Core Server Wizard section for use with EDB Postgres Advanced Server.
6. Under Connection details, enter the following information.
   - In the Database user box, type the user name to access the EDB Postgres Advanced Server instance.
   - In the Password box, type the EDB Postgres Advanced Server user account password.
   - In the Port box, type the port to open the communication between EDB Postgres Advanced Server Server and the clients.
   - In the Maintenance DB box, type the name of a system database which is used as a maintenance database.
   - In PostgreSQL section enter paths for Binary Directory, Lib Directory and Archive Log Directory.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/CreateInstance2.png">
</p>

7. Your database instance to backup is now created. You can now view it's configuration.

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/CreateInstance3.png">
</p>

<p align="center">
  <img  alt="Creating a Server Backup Plan in Core Setup" src="Images/CreateInstance4.png">
</p>
