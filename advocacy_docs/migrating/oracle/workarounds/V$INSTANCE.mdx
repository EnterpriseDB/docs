---
title: 'V$INSTANCE'
description: "Workarounds to migrate V$INSTANCE functions to Postgres"
deepToC: true
---

## Solution summary

|                  |                                                                       |
|------------------|-----------------------------------------------------------------------|
| **Complexity**   | 1 - Easy                                                              |
| **Availability** | Yes, fully convertible to PostgreSQL and EDB Postgres Advanced Server |
| **Type**         | In Database                                                           |

## V$INSTANCE in Oracle

`V$INSTANCE` is a dynamic performance view in Oracle that provides information about the instance, 
such as the instance name, status, version, startup time, and host details. 
This view is essential for monitoring and managing the Oracle database instance.

In Oracle, run a query to get the instance details:

```sql
SELECT instance_name, status, version, startup_time, host_name FROM V$INSTANCE;
```

## PostgreSQL solution

In PostgreSQL, similar information can be retrieved using system catalog tables and functions 
such as `pg_stat_activity`, `pg_control_checkpoint`,` version()`, and others. 

In Postgres, run a query to obtain similar information as with Oracle's `V$INSTANCE`: 

```sql 
CREATE VIEW v$instance AS
SELECT
    (SELECT datname FROM pg_stat_activity WHERE pid = pg_backend_pid()) AS instance_name,
    (SELECT state FROM pg_stat_activity WHERE pid = pg_backend_pid()) AS status,
    version() AS db_version,
    pg_postmaster_start_time() AS startup_time,
    inet_server_addr() AS host_name;
```

## EDB Postgres Advanced Server solution

While EDB Postgres Advanced Server does not have a direct equivalent to Oracle's `V$INSTANCE`, 
you can use PostgreSQL's system catalog tables and functions to achieve similar functionality mentioned in the PostgreSQL solution.

## Migration considerations

When migrating from Oracle to PostgreSQL or EDB Postgres Advanced Server,
you can map the `V$INSTANCE` view to a PostgreSQL view by aggregating information from various system catalog tables and functions. 
You can create a custom view to encapsulate these queries, that provides similar instance monitoring capabilities as Oracle.
