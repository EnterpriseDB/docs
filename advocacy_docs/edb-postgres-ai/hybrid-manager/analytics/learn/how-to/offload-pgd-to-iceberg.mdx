---
title: Offload PGD data to Apache Iceberg
navTitle: Offload PGD to Iceberg
description: How to offload EDB Postgres Distributed (PGD) data to Apache Iceberg in Hybrid Manager.
---

# How to offload PGD data to Apache Iceberg

You can configure PGD clusters in Hybrid Manager (HM) to offload data to Apache Iceberg format in object storage.

Offloading PGD data to Iceberg supports cost-effective tiered storage and enables fast analytics through Lakehouse clusters.

## Prerequisites

- An HM-managed PGD cluster
- An Iceberg REST catalog available, or a PGFS storage location
- Appropriate storage permissions

## Steps

1. Define a PGFS storage location pointing to your object storage.

```sql
SELECT pgfs.create_storage_location(...);
```
2. (Optional) Add an Iceberg catalog for catalog-based offload.

```sql
SELECT pgaa.add_catalog(...);
```
Configure PGD node group for offload.

Without catalog:

```sql
ALTER NODE GROUP your_node_group_name SET (analytics_storage_location = 'your_pgfs_location_name');
With catalog:
```
```sql
ALTER NODE GROUP your_node_group_name SET (analytics_write_catalog = 'your_catalog_name');
```
Enable analytics replication for your table.

```sql
ALTER TABLE public.operational_logs SET (pgd.replicate_to_analytics = TRUE);
```

## Accessing offloaded data
If using a catalog: attach the catalog and query the table by name.

If not using a catalog: define a PGAA reader table pointing to the path in object storage.

## Notes
This offloading mechanism is the foundation for Tiered Tables, where PGD's BDR AutoPartition automatically offloads older partitions to Iceberg tables.

## Related topics
Configure an Iceberg REST catalog connection
Query existing Apache Iceberg tables

