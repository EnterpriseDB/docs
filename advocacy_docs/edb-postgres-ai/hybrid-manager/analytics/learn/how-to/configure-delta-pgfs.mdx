---
title: Configure PGFS for Delta Lake
navTitle: Configure PGFS for Delta Lake
description: How to configure a PGFS storage location for Delta Lake tables in object storage on an HM-managed Lakehouse cluster.
---

# Configure PGFS for Delta Lake

This guide explains how to configure a PGFS (EDB Postgres File System) storage location in a Hybrid Manager (HM) Lakehouse cluster, to enable querying Delta Lake tables stored in object storage.

You must configure a PGFS location before creating PGAA external tables that point to Delta Lake tables.

## Prerequisites

- An active Lakehouse cluster provisioned in Hybrid Manager.
- Delta Lake tables in an S3-compatible object storage bucket.
- Access credentials for the bucket (if private).

## Steps

### 1. Connect to your Lakehouse cluster

Connect using your preferred SQL client:

- psql
- DBeaver
- pgAdmin
- Any Postgres client that can connect to the Lakehouse cluster.

### 2. Create PGFS storage location

Public bucket example:

```SELECT pgfs.create_storage_location(
name => 'my_public_delta_lake_store',
url => 's3://my-public-delta-data/',
options => '{"aws_skip_signature": "true"}',
credentials => '{}'
);
```

Private bucket example:

```
SELECT pgfs.create_storage_location(
name => 'my_private_delta_lake_assets',
url => 's3://my-private-delta-data/',
options => '{}',
credentials => '{"access_key_id": "YOUR_AWS_ACCESS_KEY_ID", "secret_access_key": "YOUR_AWS_SECRET_ACCESS_KEY"}'
);
```

### 3. Validate PGFS location

You can list PGFS storage locations to validate creation:

```SELECT * FROM pgfs.list_storage_locations();```

Ensure that your new location (e.g., my_private_delta_lake_assets) appears in the list.

## Notes

- PGFS locations can be used by any PGAA external table definition.
- You can define multiple PGFS locations if your Delta Lake tables span different buckets.
- Storage locations can point to any S3-compatible object store (AWS S3, GCP, MinIO, Azure).

## Next steps

Once PGFS is configured, proceed to:

- [Query Delta Lake tables](./query-delta-lake-tables)
