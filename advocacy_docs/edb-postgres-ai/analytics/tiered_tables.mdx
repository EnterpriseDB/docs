---
title: Tiered Tables
navTitle: Tiered Tables
description: Understand how Tiered Tables combine PGD and Postgres Lakehouse to manage cost-effective, scalable time-series data analytics.
---

# Tiered Tables

Tiered Tables combine EDB Postgres Distributed (PGD) and EDB Postgres Lakehouse to provide a scalable and cost-efficient strategy for managing large datasets, especially time-series data.

Tiered Tables automatically partition data and offload older partitions to object storage, optimizing storage costs and supporting both operational and analytical access.

For configuration through Hybrid Manager (HM), see [Implementing Tiered Tables in EDB HM](../../hm_analytics_spoke_root_v2).

## What are Tiered Tables

Tiered Tables use time-based partitioning to manage large tables efficiently. Older, less frequently accessed partitions ("cold" data) are automatically moved from transactional storage to object storage, while recent ("hot") data remains in transactional Postgres nodes.

This approach helps balance performance, cost, and long-term data retention requirements.

### Key components

- **PGD AutoPartition:** Automates time-based partitioning and lifecycle policies
- **Lakehouse nodes:** Provide scalable compute for querying offloaded partitions
- **Iceberg format:** Stores cold partitions in object storage in a queryable format
- **PGAA:** Provides unified SQL access across storage layers

Related concepts:
- [Generic concepts - data tiering](../../explained/generic-concepts#data-tiering)
- [Analytics Accelerator concepts - PGD and tiered tables](../../analytics-concepts#edb-postgres-distributed-pgd-and-tiered-tables)

## How Tiered Tables work

### Partitioning

PGD AutoPartition manages partitions automatically based on a defined time interval (for example, monthly partitions for a sensor readings table).

### Data ingestion

New data is written to hot partitions on transactional storage, ensuring optimal performance for operational queries and updates.

### Offload policy

A configured `analytics_offload_period` defines when a partition becomes cold and eligible for offloading.

### Automatic offloading

When a partition exceeds the offload threshold:

- The partition is copied to object storage (typically as an Iceberg table).
- The local transactional copy can be truncated or switched to PGAA access mode, depending on the configuration.

### Transparent querying

Queries on the parent partitioned table can transparently access both hot and cold partitions:

- Hot partitions remain on transactional storage.
- Cold partitions are accessed via Lakehouse nodes and PGAA.

Optionally, views (such as `yourtable_offloaded`) can provide queries targeted only at cold data.

## Benefits

- **Storage cost reduction:** Older data is moved to cost-effective object storage.
- **Improved transactional performance:** Smaller hot partitions improve DML, backup, and maintenance performance.
- **Historical data access:** Cold data remains queryable through Lakehouse nodes.
- **Automated data lifecycle management:** AutoPartition automates partition creation and offloading.
- **Scalable analytics:** Lakehouse nodes support large-scale querying of cold data.
- **Simplified architecture:** One Postgres platform manages both operational and historical analytics.

## Common use cases

- **Time-series data:** Logs, telemetry, IoT sensor data, application events
- **Archiving:** Long-term retention with reduced primary storage costs
- **Historical trend analysis:** Efficient access to multiple years of cold data
- **Large, append-mostly tables:** Data naturally ages and can be offloaded over time

## How EDB solutions implement Tiered Tables

EDB enables tiering through:

- **PGD AutoPartition:** Automates partition creation and manages the offload lifecycle
- **Lakehouse nodes:** Provide scalable query compute for cold data
- **Iceberg format:** Cold partitions are written as Iceberg tables for durability and interoperability
- **PGAA:** Bridges object storage with Postgres SQL access

### Example configuration

Offloading a partitioned table:

```sql
ALTER TABLE sensor_readings SET (pgd.replicate_to_analytics = TRUE);
```

### Switching a partition to PGAA access:

```sql
ALTER TABLE sensor_readings SET ACCESS METHOD PGAA
  SET (
    pgaa.auto_truncate = 'true',
    pgaa.format = 'iceberg',
    pgaa.catalog_table = 'sensor_readings_2022'
  );
```

### Related topics
Generic concepts - separation of storage and compute

EDB Postgres Lakehouse overview

Understanding Apache Iceberg with EDB

How-To: Enable analytics offload

### Next steps
For configuration through Hybrid Manager, see Implementing Tiered Tables in EDB HM.

For Lakehouse node capabilities, see Lakehouse detailed concepts.

For PGD AutoPartition details, refer to PGD product documentation (link pending).
