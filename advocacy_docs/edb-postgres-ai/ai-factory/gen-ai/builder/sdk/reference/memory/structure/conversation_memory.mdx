---
title: conversation_memory
navTitle: ConversationMemory

---

<span id="griptape.memory.structure.conversation_memory.ConversationMemory"></span>

Bases:
 [`BaseConversationMemory`](./#griptape.memory.structure.BaseConversationMemory "BaseConversationMemory (griptape.memory.structure.BaseConversationMemory)")

<details><summary>Source Code in <code>griptape&#47;memory&#47;structure&#47;conversation_memory.py</code></summary>

```python
@define
class ConversationMemory(BaseConversationMemory):
    def try_add_run(self, run: Run) -> None:
        self.runs.append(run)

    def to_prompt_stack(self, last_n: Optional[int] = None) -> PromptStack:
        prompt_stack = PromptStack()
        runs = self.runs[-last_n:] if last_n else self.runs
        for run in runs:
            prompt_stack.add_user_message(run.input)
            prompt_stack.add_assistant_message(run.output)
        return prompt_stack
```

</details>

<span id="griptape.memory.structure.conversation_memory.ConversationMemory.to_prompt_stack"></span>

### to_prompt_stack(last_n=None)

<details><summary>Source Code in <code>griptape&#47;memory&#47;structure&#47;conversation_memory.py</code></summary>

```python
def to_prompt_stack(self, last_n: Optional[int] = None) -> PromptStack:
    prompt_stack = PromptStack()
    runs = self.runs[-last_n:] if last_n else self.runs
    for run in runs:
        prompt_stack.add_user_message(run.input)
        prompt_stack.add_assistant_message(run.output)
    return prompt_stack
```

</details>

<span id="griptape.memory.structure.conversation_memory.ConversationMemory.try_add_run"></span>

### try_add_run(run)

<details><summary>Source Code in <code>griptape&#47;memory&#47;structure&#47;conversation_memory.py</code></summary>

```python
def try_add_run(self, run: Run) -> None:
    self.runs.append(run)
```

</details>
