---
title: common
navTitle: ActionCallDeltaMessageContent

---

-   `__all__ = ['ActionCallDeltaMessageContent', 'ActionCallMessageContent', 'ActionResultMessageContent', 'AudioDeltaMessageContent', 'AudioMessageContent', 'BaseAction', 'BaseDeltaMessageContent', 'BaseMessage', 'BaseMessageContent', 'DeltaMessage', 'GenericMessageContent', 'ImageMessageContent', 'Message', 'Observable', 'PromptStack', 'Reference', 'TextDeltaMessageContent', 'TextMessageContent', 'ToolAction', 'observable']` <small>module-attribute</small>  <span id="griptape.common.__all__"></span> 

<span id="griptape.common.ActionCallDeltaMessageContent"></span>

Bases:
 [`BaseDeltaMessageContent`](./#griptape.common.BaseDeltaMessageContent "BaseDeltaMessageContent (griptape.common.BaseDeltaMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;action_call_delta_message_content.py</code></summary>

```python
@define
class ActionCallDeltaMessageContent(BaseDeltaMessageContent):
    tag: Optional[str] = field(default=None, metadata={"serializable": True})
    name: Optional[str] = field(default=None, metadata={"serializable": True})
    path: Optional[str] = field(default=None, metadata={"serializable": True})
    partial_input: Optional[str] = field(default=None, metadata={"serializable": True})

    def __str__(self) -> str:
        parts = []

        if self.name:
            parts.append(self.name)
            if self.path:
                parts.append(f".{self.path}")
                if self.tag:
                    parts.append(f" ({self.tag})")

        if self.partial_input:
            if parts:
                parts.append(f" {self.partial_input}")
            else:
                parts.append(self.partial_input)

        return "".join(parts)
```

</details>

-   `name = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionCallDeltaMessageContent.name"></span> 

-   `partial_input = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionCallDeltaMessageContent.partial_input"></span> 

-   `path = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionCallDeltaMessageContent.path"></span> 

-   `tag = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionCallDeltaMessageContent.tag"></span> 

<span id="griptape.common.ActionCallDeltaMessageContent.__str__"></span>

### **str**()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;action_call_delta_message_content.py</code></summary>

```python
def __str__(self) -> str:
    parts = []

    if self.name:
        parts.append(self.name)
        if self.path:
            parts.append(f".{self.path}")
            if self.tag:
                parts.append(f" ({self.tag})")

    if self.partial_input:
        if parts:
            parts.append(f" {self.partial_input}")
        else:
            parts.append(self.partial_input)

    return "".join(parts)
```

</details>

<span id="griptape.common.ActionCallMessageContent"></span>

## ActionCallMessageContent

Bases:
 [`BaseMessageContent`](./#griptape.common.BaseMessageContent "BaseMessageContent (griptape.common.BaseMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;action_call_message_content.py</code></summary>

```python
@define
class ActionCallMessageContent(BaseMessageContent):
    artifact: ActionArtifact = field(metadata={"serializable": True})

    @classmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> ActionCallMessageContent:
        action_call_deltas = [delta for delta in deltas if isinstance(delta, ActionCallDeltaMessageContent)]

        tag = None
        name = None
        path = None
        json_input = ""

        for delta in action_call_deltas:
            if delta.tag is not None:
                tag = delta.tag
            if delta.name is not None:
                name = delta.name
            if delta.path is not None:
                path = delta.path
            if delta.partial_input is not None:
                json_input += delta.partial_input

        if tag is not None and name is not None and path is not None:
            try:
                parsed_input = json.loads(json_input or "{}")
            except json.JSONDecodeError as exc:
                raise ValueError("Invalid JSON input for ToolAction") from exc
            action = ToolAction(tag=tag, name=name, path=path, input=parsed_input)
        else:
            raise ValueError("Missing required fields for ToolAction")

        artifact = ActionArtifact(value=action)

        return cls(artifact=artifact)
```

</details>

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionCallMessageContent.artifact"></span> 

<span id="griptape.common.ActionCallMessageContent.from_deltas"></span>

### from_deltas(deltas)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;action_call_message_content.py</code></summary>

```python
@classmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> ActionCallMessageContent:
    action_call_deltas = [delta for delta in deltas if isinstance(delta, ActionCallDeltaMessageContent)]

    tag = None
    name = None
    path = None
    json_input = ""

    for delta in action_call_deltas:
        if delta.tag is not None:
            tag = delta.tag
        if delta.name is not None:
            name = delta.name
        if delta.path is not None:
            path = delta.path
        if delta.partial_input is not None:
            json_input += delta.partial_input

    if tag is not None and name is not None and path is not None:
        try:
            parsed_input = json.loads(json_input or "{}")
        except json.JSONDecodeError as exc:
            raise ValueError("Invalid JSON input for ToolAction") from exc
        action = ToolAction(tag=tag, name=name, path=path, input=parsed_input)
    else:
        raise ValueError("Missing required fields for ToolAction")

    artifact = ActionArtifact(value=action)

    return cls(artifact=artifact)
```

</details>

<span id="griptape.common.ActionResultMessageContent"></span>

## ActionResultMessageContent

Bases:
 [`BaseMessageContent`](./#griptape.common.BaseMessageContent "BaseMessageContent (griptape.common.BaseMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;action_result_message_content.py</code></summary>

```python
@define
class ActionResultMessageContent(BaseMessageContent):
    artifact: BaseArtifact = field(metadata={"serializable": True})
    action: ToolAction = field(metadata={"serializable": True})

    @classmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> ActionResultMessageContent:
        raise NotImplementedError
```

</details>

-   `action = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionResultMessageContent.action"></span> 

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ActionResultMessageContent.artifact"></span> 

<span id="griptape.common.ActionResultMessageContent.from_deltas"></span>

### from_deltas(deltas)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;action_result_message_content.py</code></summary>

```python
@classmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> ActionResultMessageContent:
    raise NotImplementedError
```

</details>

<span id="griptape.common.AudioDeltaMessageContent"></span>

## AudioDeltaMessageContent

Bases:
 [`BaseDeltaMessageContent`](./#griptape.common.BaseDeltaMessageContent "BaseDeltaMessageContent (griptape.common.BaseDeltaMessageContent)")

### Attributes

| Name                                                                                                                                                                                                                                                                                                       | Type            | Description                                                                                 |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- | ------------------------------------------------------------------------------------------- |
| <a href="./#griptape.common.AudioDeltaMessageContent.id" title="id = field(default=None, metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.AudioDeltaMessageContent.id)"><code class="language-python">id</code></a>                                 | `Optional[str]` | The ID of the audio data.<br/>                                                              |
| <a href="./#griptape.common.AudioDeltaMessageContent.data" title="data = field(default=None, metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.AudioDeltaMessageContent.data)"><code class="language-python">data</code></a>                         | `Optional[str]` | Base64 encoded audio data.<br/>                                                             |
| <a href="./#griptape.common.AudioDeltaMessageContent.transcript" title="transcript = field(default=None, metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.AudioDeltaMessageContent.transcript)"><code class="language-python">transcript</code></a> | `Optional[str]` | The transcript of the audio data.<br/>                                                      |
| <a href="./#griptape.common.AudioDeltaMessageContent.expires_at" title="expires_at = field(default=None, metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.AudioDeltaMessageContent.expires_at)"><code class="language-python">expires_at</code></a> | `Optional[int]` | The Unix timestamp (in seconds) for when this audio data will no longer be accessible.<br/> |

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;audio_delta_message_content.py</code></summary>

```python
@define(kw_only=True)
class AudioDeltaMessageContent(BaseDeltaMessageContent):
    """A delta message content for audio data.

    Attributes:
        id: The ID of the audio data.
        data: Base64 encoded audio data.
        transcript: The transcript of the audio data.
        expires_at: The Unix timestamp (in seconds) for when this audio data will no longer be accessible.
    """

    id: Optional[str] = field(default=None, metadata={"serializable": True})
    data: Optional[str] = field(default=None, metadata={"serializable": True})
    transcript: Optional[str] = field(default=None, metadata={"serializable": True})
    expires_at: Optional[int] = field(default=None, metadata={"serializable": True})
```

</details>

-   `data = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.AudioDeltaMessageContent.data"></span> 

-   `expires_at = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.AudioDeltaMessageContent.expires_at"></span> 

-   `id = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.AudioDeltaMessageContent.id"></span> 

-   `transcript = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.AudioDeltaMessageContent.transcript"></span> 

<span id="griptape.common.AudioMessageContent"></span>

## AudioMessageContent

Bases:
 [`BaseMessageContent`](./#griptape.common.BaseMessageContent "BaseMessageContent (griptape.common.BaseMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;audio_message_content.py</code></summary>

```python
@define
class AudioMessageContent(BaseMessageContent):
    artifact: AudioArtifact = field(metadata={"serializable": True})

    @classmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> AudioMessageContent:
        audio_deltas = [delta for delta in deltas if isinstance(delta, AudioDeltaMessageContent)]
        audio_data = [delta.data for delta in audio_deltas if delta.data is not None]
        transcript_data = [delta.transcript for delta in audio_deltas if delta.transcript is not None]
        expires_at = next(delta.expires_at for delta in audio_deltas if delta.expires_at is not None)
        audio_id = next(delta.id for delta in audio_deltas if delta.id is not None)

        audio_transcript = "".join(data for data in transcript_data)

        artifact = AudioArtifact(
            value=b"".join(base64.b64decode(data) for data in audio_data),
            format="wav",
            meta={
                "audio_id": audio_id,
                "expires_at": expires_at,
                "transcript": audio_transcript,
            },
        )

        return cls(artifact=artifact)
```

</details>

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.AudioMessageContent.artifact"></span> 

<span id="griptape.common.AudioMessageContent.from_deltas"></span>

### from_deltas(deltas)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;audio_message_content.py</code></summary>

```python
@classmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> AudioMessageContent:
    audio_deltas = [delta for delta in deltas if isinstance(delta, AudioDeltaMessageContent)]
    audio_data = [delta.data for delta in audio_deltas if delta.data is not None]
    transcript_data = [delta.transcript for delta in audio_deltas if delta.transcript is not None]
    expires_at = next(delta.expires_at for delta in audio_deltas if delta.expires_at is not None)
    audio_id = next(delta.id for delta in audio_deltas if delta.id is not None)

    audio_transcript = "".join(data for data in transcript_data)

    artifact = AudioArtifact(
        value=b"".join(base64.b64decode(data) for data in audio_data),
        format="wav",
        meta={
            "audio_id": audio_id,
            "expires_at": expires_at,
            "transcript": audio_transcript,
        },
    )

    return cls(artifact=artifact)
```

</details>

<span id="griptape.common.BaseAction"></span>

## BaseAction

Bases:
 [`SerializableMixin`](../mixins/serializable_mixin.mdx#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")
, <span title="abc.ABC">ABC</span>

<details><summary>Source Code in <code>griptape&#47;common&#47;actions&#47;base_action.py</code></summary>

```python
class BaseAction(SerializableMixin, ABC): ...
```

</details>

<span id="griptape.common.BaseDeltaMessageContent"></span>

## BaseDeltaMessageContent

Bases:

<span title="abc.ABC">ABC</span>,  [`SerializableMixin`](../mixins/serializable_mixin.md#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_delta_message_content.py</code></summary>

```python
@define
class BaseDeltaMessageContent(ABC, SerializableMixin):
    index: int = field(kw_only=True, default=0, metadata={"serializable": True})
```

</details>

-   `index = field(kw_only=True, default=0, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseDeltaMessageContent.index"></span> 

<span id="griptape.common.BaseMessage"></span>

## BaseMessage

Bases:

<span title="abc.ABC">ABC</span>,  [`SerializableMixin`](../mixins/serializable_mixin.md#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;base_message.py</code></summary>

```python
@define
class BaseMessage(ABC, SerializableMixin):
    @define
    class Usage(SerializableMixin):
        input_tokens: Optional[float] = field(kw_only=True, default=None, metadata={"serializable": True})
        output_tokens: Optional[float] = field(kw_only=True, default=None, metadata={"serializable": True})

        @property
        def total_tokens(self) -> float:
            return (self.input_tokens or 0) + (self.output_tokens or 0)

        def __add__(self, other: BaseMessage.Usage) -> BaseMessage.Usage:
            return BaseMessage.Usage(
                input_tokens=(self.input_tokens or 0) + (other.input_tokens or 0),
                output_tokens=(self.output_tokens or 0) + (other.output_tokens or 0),
            )

    USER_ROLE = "user"
    ASSISTANT_ROLE = "assistant"
    SYSTEM_ROLE = "system"

    content: list[Union[BaseMessageContent, BaseDeltaMessageContent]] = field(metadata={"serializable": True})
    role: str = field(kw_only=True, metadata={"serializable": True})
    usage: Usage = field(kw_only=True, default=Factory(lambda: BaseMessage.Usage()), metadata={"serializable": True})

    def is_system(self) -> bool:
        return self.role == self.SYSTEM_ROLE

    def is_user(self) -> bool:
        return self.role == self.USER_ROLE

    def is_assistant(self) -> bool:
        return self.role == self.ASSISTANT_ROLE
```

</details>

-   `ASSISTANT_ROLE = 'assistant'` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.ASSISTANT_ROLE"></span> 

-   `SYSTEM_ROLE = 'system'` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.SYSTEM_ROLE"></span> 

-   `USER_ROLE = 'user'` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.USER_ROLE"></span> 

-   `content = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.content"></span> 

-   `role = field(kw_only=True, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.role"></span> 

-   `usage = field(kw_only=True, default=Factory(lambda: BaseMessage.Usage()), metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.usage"></span> 

<span id="griptape.common.BaseMessage.Usage"></span>

### Usage

Bases:
 [`SerializableMixin`](../mixins/serializable_mixin.mdx#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;base_message.py</code></summary>

```python
@define
class Usage(SerializableMixin):
    input_tokens: Optional[float] = field(kw_only=True, default=None, metadata={"serializable": True})
    output_tokens: Optional[float] = field(kw_only=True, default=None, metadata={"serializable": True})

    @property
    def total_tokens(self) -> float:
        return (self.input_tokens or 0) + (self.output_tokens or 0)

    def __add__(self, other: BaseMessage.Usage) -> BaseMessage.Usage:
        return BaseMessage.Usage(
            input_tokens=(self.input_tokens or 0) + (other.input_tokens or 0),
            output_tokens=(self.output_tokens or 0) + (other.output_tokens or 0),
        )
```

</details>

-   `input_tokens = field(kw_only=True, default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.Usage.input_tokens"></span> 

-   `output_tokens = field(kw_only=True, default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessage.Usage.output_tokens"></span> 

-   `total_tokens` <small>property</small>  <span id="griptape.common.BaseMessage.Usage.total_tokens"></span> 

<span id="griptape.common.BaseMessage.is_assistant"></span>

### is_assistant()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;base_message.py</code></summary>

```python
def is_assistant(self) -> bool:
    return self.role == self.ASSISTANT_ROLE
```

</details>

<span id="griptape.common.BaseMessage.is_system"></span>

### is_system()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;base_message.py</code></summary>

```python
def is_system(self) -> bool:
    return self.role == self.SYSTEM_ROLE
```

</details>

<span id="griptape.common.BaseMessage.is_user"></span>

### is_user()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;base_message.py</code></summary>

```python
def is_user(self) -> bool:
    return self.role == self.USER_ROLE
```

</details>

<span id="griptape.common.BaseMessageContent"></span>

## BaseMessageContent

Bases:

<span title="abc.ABC">ABC</span>,  [`SerializableMixin`](../mixins/serializable_mixin.md#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_message_content.py</code></summary>

```python
@define
class BaseMessageContent(ABC, SerializableMixin):
    artifact: BaseArtifact = field(metadata={"serializable": True})

    def __str__(self) -> str:
        return self.artifact.to_text()

    def __bool__(self) -> bool:
        return bool(self.artifact)

    def __len__(self) -> int:
        return len(self.artifact)

    def to_text(self) -> str:
        return str(self.artifact)

    @classmethod
    @abstractmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> BaseMessageContent: ...
```

</details>

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.BaseMessageContent.artifact"></span> 

<span id="griptape.common.BaseMessageContent.__bool__"></span>

### **bool**()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_message_content.py</code></summary>

```python
def __bool__(self) -> bool:
    return bool(self.artifact)
```

</details>

<span id="griptape.common.BaseMessageContent.__len__"></span>

### **len**()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_message_content.py</code></summary>

```python
def __len__(self) -> int:
    return len(self.artifact)
```

</details>

<span id="griptape.common.BaseMessageContent.__str__"></span>

### **str**()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_message_content.py</code></summary>

```python
def __str__(self) -> str:
    return self.artifact.to_text()
```

</details>

<span id="griptape.common.BaseMessageContent.from_deltas"></span>

### from_deltas(deltas)abstractmethodclassmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_message_content.py</code></summary>

```python
@classmethod
@abstractmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> BaseMessageContent: ...
```

</details>

<span id="griptape.common.BaseMessageContent.to_text"></span>

### to_text()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;base_message_content.py</code></summary>

```python
def to_text(self) -> str:
    return str(self.artifact)
```

</details>

<span id="griptape.common.DeltaMessage"></span>

## DeltaMessage

Bases:
 [`BaseMessage`](prompt_stack/messages/base_message.mdx#griptape.common.prompt_stack.messages.base_message.BaseMessage "BaseMessage (griptape.common.prompt_stack.messages.base_message.BaseMessage)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;delta_message.py</code></summary>

```python
@define
class DeltaMessage(BaseMessage):
    role: Optional[str] = field(kw_only=True, default=None, metadata={"serializable": True})
    content: Optional[BaseDeltaMessageContent] = field(kw_only=True, default=None, metadata={"serializable": True})
```

</details>

-   `content = field(kw_only=True, default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.DeltaMessage.content"></span> 

-   `role = field(kw_only=True, default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.DeltaMessage.role"></span> 

<span id="griptape.common.GenericMessageContent"></span>

## GenericMessageContent

Bases:
 [`BaseMessageContent`](./#griptape.common.BaseMessageContent "BaseMessageContent (griptape.common.BaseMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;generic_message_content.py</code></summary>

```python
@define
class GenericMessageContent(BaseMessageContent):
    artifact: GenericArtifact = field(metadata={"serializable": True})

    @classmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> GenericMessageContent:
        raise NotImplementedError
```

</details>

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.GenericMessageContent.artifact"></span> 

<span id="griptape.common.GenericMessageContent.from_deltas"></span>

### from_deltas(deltas)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;generic_message_content.py</code></summary>

```python
@classmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> GenericMessageContent:
    raise NotImplementedError
```

</details>

<span id="griptape.common.ImageMessageContent"></span>

## ImageMessageContent

Bases:
 [`BaseMessageContent`](./#griptape.common.BaseMessageContent "BaseMessageContent (griptape.common.BaseMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;image_message_content.py</code></summary>

```python
@define
class ImageMessageContent(BaseMessageContent):
    artifact: Union[ImageArtifact, ImageUrlArtifact] = field(metadata={"serializable": True})

    @classmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> ImageMessageContent:
        raise NotImplementedError
```

</details>

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ImageMessageContent.artifact"></span> 

<span id="griptape.common.ImageMessageContent.from_deltas"></span>

### from_deltas(deltas)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;image_message_content.py</code></summary>

```python
@classmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> ImageMessageContent:
    raise NotImplementedError
```

</details>

<span id="griptape.common.Message"></span>

## Message

Bases:
 [`BaseMessage`](prompt_stack/messages/base_message.mdx#griptape.common.prompt_stack.messages.base_message.BaseMessage "BaseMessage (griptape.common.prompt_stack.messages.base_message.BaseMessage)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
@define
class Message(BaseMessage):
    def __init__(self, content: str | list[BaseMessageContent], **kwargs: Any) -> None:
        if isinstance(content, str):
            content = [TextMessageContent(TextArtifact(value=content))]
        self.__attrs_init__(content, **kwargs)  # pyright: ignore[reportAttributeAccessIssue]

    content: list[BaseMessageContent] = field(metadata={"serializable": True})

    @property
    def value(self) -> Any:
        return self.to_artifact().value

    def __str__(self) -> str:
        return self.to_text()

    def has_all_content_type(self, content_type: type[T]) -> bool:
        return all(isinstance(content, content_type) for content in self.content)

    def has_any_content_type(self, content_type: type[T]) -> bool:
        return any(isinstance(content, content_type) for content in self.content)

    def get_content_type(self, content_type: type[T]) -> list[T]:
        return [content for content in self.content if isinstance(content, content_type)]

    def is_text(self) -> bool:
        return all(isinstance(content, TextMessageContent) for content in self.content)

    def to_text(self) -> str:
        return "".join(
            [content.artifact.to_text() for content in self.content if isinstance(content, TextMessageContent)],
        )

    def to_artifact(self, meta: Optional[dict] = None) -> BaseArtifact:
        if meta is None:
            meta = {}
        if len(self.content) == 1:
            artifact = self.content[0].artifact
        else:
            artifact = ListArtifact([content.artifact for content in self.content])

        artifact.meta.update(meta)
        return artifact
```

</details>

-   `content = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Message.content"></span> 

-   `value` <small>property</small>  <span id="griptape.common.Message.value"></span> 

<span id="griptape.common.Message.__init__"></span>

### **init**(content, \*\*kwargs)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def __init__(self, content: str | list[BaseMessageContent], **kwargs: Any) -> None:
    if isinstance(content, str):
        content = [TextMessageContent(TextArtifact(value=content))]
    self.__attrs_init__(content, **kwargs)  # pyright: ignore[reportAttributeAccessIssue]
```

</details>

<span id="griptape.common.Message.__str__"></span>

### **str**()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def __str__(self) -> str:
    return self.to_text()
```

</details>

<span id="griptape.common.Message.get_content_type"></span>

### get_content_type(content_type)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def get_content_type(self, content_type: type[T]) -> list[T]:
    return [content for content in self.content if isinstance(content, content_type)]
```

</details>

<span id="griptape.common.Message.has_all_content_type"></span>

### has_all_content_type(content_type)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def has_all_content_type(self, content_type: type[T]) -> bool:
    return all(isinstance(content, content_type) for content in self.content)
```

</details>

<span id="griptape.common.Message.has_any_content_type"></span>

### has_any_content_type(content_type)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def has_any_content_type(self, content_type: type[T]) -> bool:
    return any(isinstance(content, content_type) for content in self.content)
```

</details>

<span id="griptape.common.Message.is_text"></span>

### is_text()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def is_text(self) -> bool:
    return all(isinstance(content, TextMessageContent) for content in self.content)
```

</details>

<span id="griptape.common.Message.to_artifact"></span>

### to_artifact(meta=None)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def to_artifact(self, meta: Optional[dict] = None) -> BaseArtifact:
    if meta is None:
        meta = {}
    if len(self.content) == 1:
        artifact = self.content[0].artifact
    else:
        artifact = ListArtifact([content.artifact for content in self.content])

    artifact.meta.update(meta)
    return artifact
```

</details>

<span id="griptape.common.Message.to_text"></span>

### to_text()

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;messages&#47;message.py</code></summary>

```python
def to_text(self) -> str:
    return "".join(
        [content.artifact.to_text() for content in self.content if isinstance(content, TextMessageContent)],
    )
```

</details>

<span id="griptape.common.Observable"></span>

## Observable

<details><summary>Source Code in <code>griptape&#47;common&#47;observable.py</code></summary>

```python
class Observable:
    @define
    class Call:
        func: Callable = field(kw_only=True)
        instance: Optional[Any] = field(default=None, kw_only=True)
        args: tuple[Any, ...] = field(default=Factory(tuple), kw_only=True)
        kwargs: dict[str, Any] = field(default=Factory(dict), kw_only=True)
        decorator_args: tuple[Any, ...] = field(default=Factory(tuple), kw_only=True)
        decorator_kwargs: dict[str, Any] = field(default=Factory(dict), kw_only=True)

        def __call__(self) -> Any:
            return self.func(*self.args, **self.kwargs)

        @property
        def tags(self) -> Optional[list[str]]:
            return self.decorator_kwargs.get("tags")
```

</details>

<span id="griptape.common.Observable.Call"></span>

### Call

<details><summary>Source Code in <code>griptape&#47;common&#47;observable.py</code></summary>

```python
@define
class Call:
    func: Callable = field(kw_only=True)
    instance: Optional[Any] = field(default=None, kw_only=True)
    args: tuple[Any, ...] = field(default=Factory(tuple), kw_only=True)
    kwargs: dict[str, Any] = field(default=Factory(dict), kw_only=True)
    decorator_args: tuple[Any, ...] = field(default=Factory(tuple), kw_only=True)
    decorator_kwargs: dict[str, Any] = field(default=Factory(dict), kw_only=True)

    def __call__(self) -> Any:
        return self.func(*self.args, **self.kwargs)

    @property
    def tags(self) -> Optional[list[str]]:
        return self.decorator_kwargs.get("tags")
```

</details>

-   `args = field(default=Factory(tuple), kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Observable.Call.args"></span> 

-   `decorator_args = field(default=Factory(tuple), kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Observable.Call.decorator_args"></span> 

-   `decorator_kwargs = field(default=Factory(dict), kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Observable.Call.decorator_kwargs"></span> 

-   `func = field(kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Observable.Call.func"></span> 

-   `instance = field(default=None, kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Observable.Call.instance"></span> 

-   `kwargs = field(default=Factory(dict), kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Observable.Call.kwargs"></span> 

-   `tags` <small>property</small>  <span id="griptape.common.Observable.Call.tags"></span> 

<span id="griptape.common.PromptStack"></span>

## PromptStack

Bases:
 [`SerializableMixin`](../mixins/serializable_mixin.mdx#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
@define
class PromptStack(SerializableMixin):
    messages: list[Message] = field(factory=list, kw_only=True, metadata={"serializable": True})
    tools: list[BaseTool] = field(factory=list, kw_only=True)
    output_schema: Optional[Union[Schema, type[BaseModel]]] = field(default=None, kw_only=True)

    @property
    def system_messages(self) -> list[Message]:
        return [message for message in self.messages if message.is_system()]

    @property
    def user_messages(self) -> list[Message]:
        return [message for message in self.messages if message.is_user()]

    @property
    def assistant_messages(self) -> list[Message]:
        return [message for message in self.messages if message.is_assistant()]

    def add_message(self, artifact: str | BaseArtifact, role: str) -> Message:
        content = self.__to_message_content(artifact)

        self.messages.append(Message(content=content, role=role))

        return self.messages[-1]

    def add_system_message(self, artifact: str | BaseArtifact) -> Message:
        return self.add_message(artifact, Message.SYSTEM_ROLE)

    def add_user_message(self, artifact: str | BaseArtifact) -> Message:
        return self.add_message(artifact, Message.USER_ROLE)

    def add_assistant_message(self, artifact: str | BaseArtifact) -> Message:
        return self.add_message(artifact, Message.ASSISTANT_ROLE)

    def to_output_json_schema(self, schema_id: str = "Output Format") -> dict:
        if self.output_schema is None:
            raise ValueError("Output schema is not set")

        if isinstance(self.output_schema, Schema):
            json_schema = self.output_schema.json_schema(schema_id)
        elif isinstance(self.output_schema, type) and issubclass(self.output_schema, BaseModel):
            json_schema = build_strict_schema(self.output_schema.model_json_schema(), schema_id)
        else:
            raise ValueError(f"Unsupported output schema type: {type(self.output_schema)}")

        return json_schema

    @classmethod
    def from_artifact(cls, artifact: BaseArtifact) -> PromptStack:
        prompt_stack = cls()
        prompt_stack.add_user_message(artifact)

        return prompt_stack

    def __to_message_content(self, artifact: str | BaseArtifact) -> list[BaseMessageContent]:
        if isinstance(artifact, str):
            return [TextMessageContent(TextArtifact(artifact))]
        if isinstance(artifact, TextArtifact):
            return [TextMessageContent(artifact)]
        if isinstance(artifact, ImageArtifact):
            return [ImageMessageContent(artifact)]
        if isinstance(artifact, ImageUrlArtifact):
            return [ImageMessageContent(artifact)]
        if isinstance(artifact, AudioArtifact):
            return [AudioMessageContent(artifact)]
        if isinstance(artifact, GenericArtifact):
            return [GenericMessageContent(artifact)]
        if isinstance(artifact, ActionArtifact):
            action = artifact.value
            output = action.output
            if output is None:
                return [ActionCallMessageContent(artifact)]
            return [ActionResultMessageContent(output, action=action)]
        if isinstance(artifact, ListArtifact):
            processed_contents = [self.__to_message_content(artifact) for artifact in artifact.value]

            return [sub_content for processed_content in processed_contents for sub_content in processed_content]
        return [TextMessageContent(TextArtifact(artifact.to_text()))]
```

</details>

-   `assistant_messages` <small>property</small>  <span id="griptape.common.PromptStack.assistant_messages"></span> 

-   `messages = field(factory=list, kw_only=True, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.PromptStack.messages"></span> 

-   `output_schema = field(default=None, kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.PromptStack.output_schema"></span> 

-   `system_messages` <small>property</small>  <span id="griptape.common.PromptStack.system_messages"></span> 

-   `tools = field(factory=list, kw_only=True)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.PromptStack.tools"></span> 

-   `user_messages` <small>property</small>  <span id="griptape.common.PromptStack.user_messages"></span> 

<span id="griptape.common.PromptStack.__to_message_content"></span>

### \_\_to_message_content(artifact)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
def __to_message_content(self, artifact: str | BaseArtifact) -> list[BaseMessageContent]:
    if isinstance(artifact, str):
        return [TextMessageContent(TextArtifact(artifact))]
    if isinstance(artifact, TextArtifact):
        return [TextMessageContent(artifact)]
    if isinstance(artifact, ImageArtifact):
        return [ImageMessageContent(artifact)]
    if isinstance(artifact, ImageUrlArtifact):
        return [ImageMessageContent(artifact)]
    if isinstance(artifact, AudioArtifact):
        return [AudioMessageContent(artifact)]
    if isinstance(artifact, GenericArtifact):
        return [GenericMessageContent(artifact)]
    if isinstance(artifact, ActionArtifact):
        action = artifact.value
        output = action.output
        if output is None:
            return [ActionCallMessageContent(artifact)]
        return [ActionResultMessageContent(output, action=action)]
    if isinstance(artifact, ListArtifact):
        processed_contents = [self.__to_message_content(artifact) for artifact in artifact.value]

        return [sub_content for processed_content in processed_contents for sub_content in processed_content]
    return [TextMessageContent(TextArtifact(artifact.to_text()))]
```

</details>

<span id="griptape.common.PromptStack.add_assistant_message"></span>

### add_assistant_message(artifact)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
def add_assistant_message(self, artifact: str | BaseArtifact) -> Message:
    return self.add_message(artifact, Message.ASSISTANT_ROLE)
```

</details>

<span id="griptape.common.PromptStack.add_message"></span>

### add_message(artifact, role)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
def add_message(self, artifact: str | BaseArtifact, role: str) -> Message:
    content = self.__to_message_content(artifact)

    self.messages.append(Message(content=content, role=role))

    return self.messages[-1]
```

</details>

<span id="griptape.common.PromptStack.add_system_message"></span>

### add_system_message(artifact)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
def add_system_message(self, artifact: str | BaseArtifact) -> Message:
    return self.add_message(artifact, Message.SYSTEM_ROLE)
```

</details>

<span id="griptape.common.PromptStack.add_user_message"></span>

### add_user_message(artifact)

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
def add_user_message(self, artifact: str | BaseArtifact) -> Message:
    return self.add_message(artifact, Message.USER_ROLE)
```

</details>

<span id="griptape.common.PromptStack.from_artifact"></span>

### from_artifact(artifact)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
@classmethod
def from_artifact(cls, artifact: BaseArtifact) -> PromptStack:
    prompt_stack = cls()
    prompt_stack.add_user_message(artifact)

    return prompt_stack
```

</details>

<span id="griptape.common.PromptStack.to_output_json_schema"></span>

### to_output_json_schema(schema_id='Output Format')

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;prompt_stack.py</code></summary>

```python
def to_output_json_schema(self, schema_id: str = "Output Format") -> dict:
    if self.output_schema is None:
        raise ValueError("Output schema is not set")

    if isinstance(self.output_schema, Schema):
        json_schema = self.output_schema.json_schema(schema_id)
    elif isinstance(self.output_schema, type) and issubclass(self.output_schema, BaseModel):
        json_schema = build_strict_schema(self.output_schema.model_json_schema(), schema_id)
    else:
        raise ValueError(f"Unsupported output schema type: {type(self.output_schema)}")

    return json_schema
```

</details>

<span id="griptape.common.Reference"></span>

## Reference

Bases:
 [`SerializableMixin`](../mixins/serializable_mixin.mdx#griptape.mixins.serializable_mixin.SerializableMixin "SerializableMixin (griptape.mixins.serializable_mixin.SerializableMixin)")

<details><summary>Source Code in <code>griptape&#47;common&#47;reference.py</code></summary>

```python
@define(kw_only=True)
class Reference(SerializableMixin):
    id: str = field(default=Factory(lambda: uuid.uuid4().hex), metadata={"serializable": True})
    title: str = field(metadata={"serializable": True})
    authors: list[str] = field(factory=list, metadata={"serializable": True})
    source: Optional[str] = field(default=None, metadata={"serializable": True})
    year: Optional[str] = field(default=None, metadata={"serializable": True})
    url: Optional[str] = field(default=None, metadata={"serializable": True})
```

</details>

-   `authors = field(factory=list, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Reference.authors"></span> 

-   `id = field(default=Factory(lambda: uuid.uuid4().hex), metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Reference.id"></span> 

-   `source = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Reference.source"></span> 

-   `title = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Reference.title"></span> 

-   `url = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Reference.url"></span> 

-   `year = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.Reference.year"></span> 

<span id="griptape.common.TextDeltaMessageContent"></span>

## TextDeltaMessageContent

Bases:
 [`BaseDeltaMessageContent`](./#griptape.common.BaseDeltaMessageContent "BaseDeltaMessageContent (griptape.common.BaseDeltaMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;text_delta_message_content.py</code></summary>

```python
@define
class TextDeltaMessageContent(BaseDeltaMessageContent):
    text: str = field(metadata={"serializable": True})
```

</details>

-   `text = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.TextDeltaMessageContent.text"></span> 

<span id="griptape.common.TextMessageContent"></span>

## TextMessageContent

Bases:
 [`BaseMessageContent`](./#griptape.common.BaseMessageContent "BaseMessageContent (griptape.common.BaseMessageContent)")

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;text_message_content.py</code></summary>

```python
@define
class TextMessageContent(BaseMessageContent):
    artifact: BaseArtifact = field(metadata={"serializable": True})

    @classmethod
    def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> TextMessageContent:
        text_deltas = [delta for delta in deltas if isinstance(delta, TextDeltaMessageContent)]

        artifact = TextArtifact(value="".join(delta.text for delta in text_deltas))

        return cls(artifact=artifact)
```

</details>

-   `artifact = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.TextMessageContent.artifact"></span> 

<span id="griptape.common.TextMessageContent.from_deltas"></span>

### from_deltas(deltas)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;prompt_stack&#47;contents&#47;text_message_content.py</code></summary>

```python
@classmethod
def from_deltas(cls, deltas: Sequence[BaseDeltaMessageContent]) -> TextMessageContent:
    text_deltas = [delta for delta in deltas if isinstance(delta, TextDeltaMessageContent)]

    artifact = TextArtifact(value="".join(delta.text for delta in text_deltas))

    return cls(artifact=artifact)
```

</details>

<span id="griptape.common.ToolAction"></span>

## ToolAction

Bases:
 [`BaseAction`](./#griptape.common.BaseAction "BaseAction (griptape.common.BaseAction)")

### Attributes

| Name                                                                                                                                                                                                                                                       | Type                                                                                                                                                                          | Description                                       |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| <a href="./#griptape.common.ToolAction.tag" title="tag = field(metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.ToolAction.tag)"><code class="language-python">tag</code></a>                       | `str`                                                                                                                                                                         | The tag (unique identifier) of the action.<br/>   |
| <a href="./#griptape.common.ToolAction.name" title="name = field(metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.ToolAction.name)"><code class="language-python">name</code></a>                   | `str`                                                                                                                                                                         | The name (Tool name) of the action.<br/>          |
| <a href="./#griptape.common.ToolAction.path" title="path = field(default=None, metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.ToolAction.path)"><code class="language-python">path</code></a>     | `Optional[str]`                                                                                                                                                               | The path (Tool activity name) of the action.<br/> |
| <a href="./#griptape.common.ToolAction.input" title="input = field(factory=dict, metadata={'serializable': True})           class-attribute       instance-attribute    (griptape.common.ToolAction.input)"><code class="language-python">input</code></a> | `dict`                                                                                                                                                                        | The input (Tool params) of the action.<br/>       |
| <a href="./#griptape.common.ToolAction.tool" title="tool = field(default=None)           class-attribute       instance-attribute    (griptape.common.ToolAction.tool)"><code class="language-python">tool</code></a>                                      | <a href="../tools#griptape.tools.BaseTool" title="BaseTool (griptape.tools.BaseTool)"><code class="language-python">Optional[BaseTool]</code></a>                             | The matched Tool of the action.<br/>              |
| <a href="./#griptape.common.ToolAction.output" title="output = field(default=None)           class-attribute       instance-attribute    (griptape.common.ToolAction.output)"><code class="language-python">output</code></a>                              | <a href="../artifacts#griptape.artifacts.BaseArtifact" title="BaseArtifact (griptape.artifacts.BaseArtifact)"><code class="language-python">Optional[BaseArtifact]</code></a> | The output (Tool result) of the action.<br/>      |

<details><summary>Source Code in <code>griptape&#47;common&#47;actions&#47;tool_action.py</code></summary>

```python
@define(kw_only=True)
class ToolAction(BaseAction):
    """Represents an instance of an LLM using a Tool.

    Attributes:
        tag: The tag (unique identifier) of the action.
        name: The name (Tool name) of the action.
        path: The path (Tool activity name) of the action.
        input: The input (Tool params) of the action.
        tool: The matched Tool of the action.
        output: The output (Tool result) of the action.
    """

    tag: str = field(metadata={"serializable": True})
    name: str = field(metadata={"serializable": True})
    path: Optional[str] = field(default=None, metadata={"serializable": True})
    input: dict = field(factory=dict, metadata={"serializable": True})
    tool: Optional[BaseTool] = field(default=None)
    output: Optional[BaseArtifact] = field(default=None)

    def __str__(self) -> str:
        return json.dumps(self.to_dict())

    def to_native_tool_name(self) -> str:
        parts = [self.name]

        if self.path is not None:
            parts.append(self.path)

        return "_".join(parts)

    @classmethod
    def from_native_tool_name(cls, native_tool_name: str) -> tuple[str, Optional[str]]:
        parts = native_tool_name.split("_", 1)

        if len(parts) == 1:
            name, path = parts[0], None
        else:
            name, path = parts

        return name, path
```

</details>

-   `input = field(factory=dict, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ToolAction.input"></span> 

-   `name = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ToolAction.name"></span> 

-   `output = field(default=None)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ToolAction.output"></span> 

-   `path = field(default=None, metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ToolAction.path"></span> 

-   `tag = field(metadata={'serializable': True})` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ToolAction.tag"></span> 

-   `tool = field(default=None)` <small>class-attribute</small> <small>instance-attribute</small>  <span id="griptape.common.ToolAction.tool"></span> 

<span id="griptape.common.ToolAction.__str__"></span>

### **str**()

<details><summary>Source Code in <code>griptape&#47;common&#47;actions&#47;tool_action.py</code></summary>

```python
def __str__(self) -> str:
    return json.dumps(self.to_dict())
```

</details>

<span id="griptape.common.ToolAction.from_native_tool_name"></span>

### from_native_tool_name(native_tool_name)classmethod

<details><summary>Source Code in <code>griptape&#47;common&#47;actions&#47;tool_action.py</code></summary>

```python
@classmethod
def from_native_tool_name(cls, native_tool_name: str) -> tuple[str, Optional[str]]:
    parts = native_tool_name.split("_", 1)

    if len(parts) == 1:
        name, path = parts[0], None
    else:
        name, path = parts

    return name, path
```

</details>

<span id="griptape.common.ToolAction.to_native_tool_name"></span>

### to_native_tool_name()

<details><summary>Source Code in <code>griptape&#47;common&#47;actions&#47;tool_action.py</code></summary>

```python
def to_native_tool_name(self) -> str:
    parts = [self.name]

    if self.path is not None:
        parts.append(self.path)

    return "_".join(parts)
```

</details>
