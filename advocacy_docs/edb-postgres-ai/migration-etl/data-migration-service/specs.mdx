---
title: Performance optimization
navTitle: Optimization
description: Learn about recommendended specifications improve the performance of migrations and speed up migration times.

---

You can leverage the EDB Data Migration service to migrate your data from your existing database(s) to a database created and managed with the Hybrid Manager (HM). Currently, EDB supports two migration methods: snapshot and snapshot + streaming, allowing you to migrate your data with little to no downtime.

## Migration workloads in the HM

The migration service runs in the same Kubernetes environment as where they HM was deployed, (on premises, AWS, RHOS, and GCS), which means that most of the workloads required for migration operations are managed by the Kubernetes cluster. Because of this, you don't need to worry about fine tuning resources except for: the EDB DMS Reader, the destination Postgres database cluster, and the EDB DMS Writer (required only if the destination for the target is an external database cluster). As long as your Kubernetes environment meets the requirements to run Migration Portal, your migration will go smoothly. 

## Optimizing migration performance

The HM and DMS handle resource usage automatically, and for datasets smaller than 100 GB, they are configured to perform fast migrations without further tuning. For datasets larger than 100 GB, you can make a few small alterations to achieve better performance and quicker migrations.

### Tunning destination database performance

By tunning the destination database cluster (HM-managed database cluster or self-managed database), you can obtain the most benefit from resource tunning.

**Storage** 

Storage IOPs can peak at 2000 and throughput will be roughly 300 MB/s on average during a migration, with peaks up to 350MB/s.

- Aim for using storage volumes that can handle a minimum of 2500-3000 IOPs and at least 200-250MB/s of throughput with separate WAL and storage volumes.

- A unified storage and WAL volume can adversely affect performance; for example, when using a volume with 3000 IOPs and 125MB/s throughput the migration will take 40% longer than usual. If you need to use a unified storage and WAL volume, we recommend that the throughput is set to 300-400MB/s. 

- If using a unified storage and WAL volume, aim for a throughput of 300-400MB/s for better performance. Keep in mind that if the WAL becomes full, the migration will fail.

**Memory** 

5 GB of memory are sufficient, but a larger amount will facilitate optimal performance during a migration. Use at least 10GB of memory.

**CPU**

The destination database cluster should at least have 4 CPU cores. A lower amount will negatively impact migration performance.

!!!note 
   Apply these optimizations for the migration process. After the migration is complete, you can increase or decrease these values as needed.
   
Migration tests on database clusters with higher CPU and memory limits did not have a substantial effect on the migration speeds. The biggest factor affecting migration performance is the volume speed. Decreasing the CPU count below our recommendations can reduce performance, but not nearly to the degree that low IOPs and throughput for storage will. Halving the storage throughput will increase migration time by over 40%, while halving the CPU count to 2CPU will increase it by 10-15%. These recommendations will result in best performance for migrations, using lower values will still most likely result in successful migrations at a slower speed.

## Tunning EBD DMS Reader and Writer performance

Optimal performance is provided for the EDB DMS Reader and Writer when the host machine where you installed the scripts follows these specifications.

### EDB DMS Reader

**CPU**

Three CPU cores.

**Memory** 

4 GB. 

### EDB DMS Reader

**CPU**

Two CPU cores.

**Memory** 

2.5 GB. 

[summ up for both being on the same machine?]

## Performance test example