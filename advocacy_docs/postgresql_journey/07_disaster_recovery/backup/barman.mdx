---
title: Using Barman for PostgreSQL backup
navTitle: Barman
description: Tutorial demonstrating the configuration, backup and recovery of a PostgreSQL database using Barman with streaming replication
product: barman
platform: linux
tags:
    - postgresql
    - barman
    - streaming
    - pg_basebackup
    - pg_recievexlog
    - linux
    - ubuntu
    - live-demo
katacodaPanel:
    account: enterprisedb
    scenario: sandbox
    codelanguages: sql, shell
---

*Summarize purpose and capabilities, e.g.*

Barman is an open-source administration tool for backup and recovery of PostgreSQL databases. It offers multiple options for data transfer and replication, and is designed to encourage responsible planning and maintenance practices. 

*Reference open-source docs: postgres config, barman config*

Details on configuring Barman can be found [in the official documentation at pgbarman.org](http://docs.pgbarman.org/). 

Barman builds on the functionality provided by PostgreSQL's [pg_receivewal](https://www.postgresql.org/docs/current/app-pgreceivewal.html) and [pg_basebackup](https://www.postgresql.org/docs/current/app-pgbasebackup.html) tools, which are documented on postgresql.org. You'll also wish to be familiar with [configuring replication slots](https://www.postgresql.org/docs/current/warm-standby.html#STREAMING-REPLICATION-SLOTS) for the purpose of minimizing data loss.

Let's walk through a basic Barman setup, providing streaming backup of a PostgreSQL database.

This is an interactive tutorial - you can run the commands below right in your browser.

<KatacodaPanel />

## Installing Barman

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin condimentum, nulla id iaculis dictum, risus nibh porta quam, id efficitur magna dolor non neque. Maecenas blandit consectetur magna, sed consequat mauris congue non. Curabitur consectetur, urna a ultricies mattis, est leo placerat metus, ac suscipit nunc urna nec massa. Etiam vel mattis magna, id feugiat odio. Pellentesque eget eros in est gravida ullamcorper. Praesent quis semper purus. Sed et blandit sem. Duis eu tellus id eros viverra aliquet.

```shell
nullam at suscipit turpis
___OUTPUT___
Integer vestibulum finibus felis vitae porta.
Duis malesuada et erat eu egestas.
Praesent imperdiet felis in enim porta imperdiet vel id turpis.
```

## Configuring PostgreSQL to stream to Barman

Phasellus a nisi libero. Vestibulum tempus feugiat mi. Aenean eget magna erat. Quisque ac eros sodales, pellentesque mi malesuada, consequat nibh. Phasellus pulvinar ut dui ut posuere. Sed mauris turpis, pulvinar sit amet consectetur sit amet, hendrerit eu mi. Suspendisse dui velit, pellentesque eget euismod vel, interdum sed dolor. Suspendisse gravida ex neque, et pharetra mauris dignissim eu. Vivamus tincidunt sodales imperdiet. Etiam ornare facilisis eros, at dignissim dui blandit sit amet. Phasellus justo arcu, auctor eu ex sit amet, bibendum ornare arcu. Praesent non sodales ex.

```shell
nullam ac dui non nibh
___OUTPUT___
pharetra venenatis ac eget lacus. 
Fusce eros mauris, consectetur et tempor et, porttitor et neque. 
In pharetra feugiat ante, vitae condimentum ligula.
```

## Configuring Barman to accept and archive backup & WAL stream

Aenean tellus est, euismod id tincidunt ut, euismod sed sapien. Curabitur tincidunt eros at sapien lobortis luctus. Maecenas congue, risus sit amet consectetur molestie, mi orci varius velit, nec convallis ipsum eros in dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nunc ornare pretium justo non feugiat. Cras fringilla ullamcorper ornare. Cras dignissim eros in felis ultricies lacinia. Praesent vitae ultricies tortor, vel maximus metus.

```shell
fusce convallis
___OUTPUT___
nisi nibh
```

## Verification

Quisque scelerisque augue quis arcu dictum, sed sodales erat venenatis. Nunc euismod ante ut nulla tincidunt tristique a vitae neque. Vivamus eget nisi leo. Vestibulum ut elementum tortor. Ut nec tincidunt ipsum. Vestibulum at metus odio. Nullam aliquet euismod tortor at sollicitudin.

```shell
nullam blandit
___OUTPUT___
nunc in euismod congue.
```

## Testing and restoring backups

Integer tristique ligula in purus mollis feugiat. Nam efficitur diam quis convallis mattis. Sed porttitor urna eget luctus condimentum. Praesent interdum faucibus gravida. Donec rhoncus varius finibus. Vivamus accumsan leo est, sit amet imperdiet mauris venenatis at. Vestibulum enim quam, feugiat ac erat mattis, luctus blandit risus. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

```shell
nullam est lacus
___OUTPUT___
consectetur in bibendum ut, convallis a nisi
```





