{% extends "products/mysql-foreign-data-wrapper/base.njk" %}
{% set platformBaseTemplate = "debian-11" %}
{% set packageName %}edb-as15-mysql8-fdw{% endset %}
{% set packageName1 %}edb-postgresextended<X>-mysql8_fdw{% endset %}
{% set packageName2 %}mysql_fdw_<X>{% endset %}

{% block prerequisites %}
{{ super() }}
- Address other prerequisites:
  ```shell
  # Download the GPG key to your APT keyring directly using the apt-key utility: 
  sudo apt-key adv --keyserver pgp.mit.edu --recv-keys 3A79BD29

  # Install and configure the MySQL repo:
  sudo echo "deb http://repo.mysql.com/apt/debian/bullseye mysql-8.0" | sudo tee  /etc/apt/sources.list.d/mysql.list
  
  # Get the most up-to-date package information from the MySQL APT repository:
  sudo apt-get update
  ```
{% endblock prerequisites %}
{% block installCommand %}
```shell
# For EDB Postgres Advanced Server
sudo {{packageManager}} {{packageManagerNoninteractive}} install edb-as15-mysql8-fdw

# For EDB Postgres Extended Server:
sudo {{packageManager}} {{packageManagerNoninteractive}} install {{ packageName1 }}

# For PostgreSQL:
sudo {{packageManager}} {{packageManagerNoninteractive}} install {{ packageName2 }}
```
Where `<X>` is the version of your Postgres and `8` is the version of MySQL to be installed.
{% endblock installCommand %}
